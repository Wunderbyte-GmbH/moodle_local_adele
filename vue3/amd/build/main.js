(function(Uo,Lr){typeof exports=="object"&&typeof module<"u"?Lr(exports,require("core/ajax"),require("core/localstorage"),require("core/notification")):typeof define=="function"&&define.amd?define(["exports","core/ajax","core/localstorage","core/notification"],Lr):(Uo=typeof globalThis<"u"?globalThis:Uo||self,Lr(Uo.local_adele={},Uo["core/ajax"],Uo["core/localstorage"],Uo["core/notification"]))})(this,(function(Uo,Lr,rg,BE){"use strict";/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function jo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ct=process.env.NODE_ENV!=="production"?Object.freeze({}):{},zr=process.env.NODE_ENV!=="production"?Object.freeze([]):[],Zt=()=>{},sg=()=>!1,Vs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),vl=e=>e.startsWith("onUpdate:"),Ft=Object.assign,ad=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},FE=Object.prototype.hasOwnProperty,bt=(e,t)=>FE.call(e,t),je=Array.isArray,Xi=e=>Ls(e)==="[object Map]",Br=e=>Ls(e)==="[object Set]",ag=e=>Ls(e)==="[object Date]",Ze=e=>typeof e=="function",Dt=e=>typeof e=="string",oo=e=>typeof e=="symbol",wt=e=>e!==null&&typeof e=="object",ld=e=>(wt(e)||Ze(e))&&Ze(e.then)&&Ze(e.catch),lg=Object.prototype.toString,Ls=e=>lg.call(e),ud=e=>Ls(e).slice(8,-1),ug=e=>Ls(e)==="[object Object]",cd=e=>Dt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,zs=jo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),HE=jo("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),ml=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},UE=/-\w/g,gn=ml(e=>e.replace(UE,t=>t.slice(1).toUpperCase())),jE=/\B([A-Z])/g,wi=ml(e=>e.replace(jE,"-$1").toLowerCase()),Zi=ml(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ji=ml(e=>e?`on${Zi(e)}`:""),Go=(e,t)=>!Object.is(e,t),Fr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},_l=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},yl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},GE=e=>{const t=Dt(e)?Number(e):NaN;return isNaN(t)?e:t};let cg;const Bs=()=>cg||(cg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Me(e){if(je(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],i=Dt(o)?KE(o):Me(o);if(i)for(const s in i)t[s]=i[s]}return t}else if(Dt(e)||wt(e))return e}const WE=/;(?![^(]*\))/g,qE=/:([^]+)/,YE=/\/\*[^]*?\*\//g;function KE(e){const t={};return e.replace(YE,"").split(WE).forEach(n=>{if(n){const o=n.split(qE);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Be(e){let t="";if(Dt(e))t=e;else if(je(e))for(let n=0;n<e.length;n++){const o=Be(e[n]);o&&(t+=o+" ")}else if(wt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function dd(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Dt(t)&&(e.class=Be(t)),n&&(e.style=Me(n)),e}const XE="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",ZE="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",JE="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",QE=jo(XE),ex=jo(ZE),tx=jo(JE),nx=jo("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function dg(e){return!!e||e===""}function ox(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=Fs(e[o],t[o]);return n}function Fs(e,t){if(e===t)return!0;let n=ag(e),o=ag(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=oo(e),o=oo(t),n||o)return e===t;if(n=je(e),o=je(t),n||o)return n&&o?ox(e,t):!1;if(n=wt(e),o=wt(t),n||o){if(!n||!o)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const a in e){const u=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(u&&!c||!u&&c||!Fs(e[a],t[a]))return!1}}return String(e)===String(t)}function fd(e,t){return e.findIndex(n=>Fs(n,t))}const fg=e=>!!(e&&e.__v_isRef===!0),H=e=>Dt(e)?e:e==null?"":je(e)||wt(e)&&(e.toString===lg||!Ze(e.toString))?fg(e)?H(e.value):JSON.stringify(e,pg,2):String(e),pg=(e,t)=>fg(t)?pg(e,t.value):Xi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,i],s)=>(n[pd(o,s)+" =>"]=i,n),{})}:Br(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>pd(n))}:oo(t)?pd(t):wt(t)&&!je(t)&&!ug(t)?String(t):t,pd=(e,t="")=>{var n;return oo(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Rn(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let fn;class hg{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=fn,!t&&fn&&(this.index=(fn.scopes||(fn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=fn;try{return fn=this,t()}finally{fn=n}}else process.env.NODE_ENV!=="production"&&Rn("cannot run an inactive effect scope.")}on(){++this._on===1&&(this.prevScope=fn,fn=this)}off(){this._on>0&&--this._on===0&&(fn=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function hd(e){return new hg(e)}function bl(){return fn}function Hs(e,t=!1){fn?fn.cleanups.push(e):process.env.NODE_ENV!=="production"&&!t&&Rn("onScopeDispose() is called when there is no active effect scope to be associated with.")}let kt;const gd=new WeakSet;class gg{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,fn&&fn.active&&fn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,gd.has(this)&&(gd.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||mg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Eg(this),_g(this);const t=kt,n=io;kt=this,io=!0;try{return this.fn()}finally{process.env.NODE_ENV!=="production"&&kt!==this&&Rn("Active effect was not restored correctly - this is likely a Vue internal bug."),yg(this),kt=t,io=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)yd(t);this.deps=this.depsTail=void 0,Eg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?gd.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_d(this)&&this.run()}get dirty(){return _d(this)}}let vg=0,Us,js;function mg(e,t=!1){if(e.flags|=8,t){e.next=js,js=e;return}e.next=Us,Us=e}function vd(){vg++}function md(){if(--vg>0)return;if(js){let t=js;for(js=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Us;){let t=Us;for(Us=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function _g(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function yg(e){let t,n=e.depsTail,o=n;for(;o;){const i=o.prevDep;o.version===-1?(o===n&&(n=i),yd(o),ix(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=i}e.deps=t,e.depsTail=n}function _d(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(bg(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function bg(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Gs)||(e.globalVersion=Gs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!_d(e))))return;e.flags|=2;const t=e.dep,n=kt,o=io;kt=e,io=!0;try{_g(e);const i=e.fn(e._value);(t.version===0||Go(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{kt=n,io=o,yg(e),e.flags&=-3}}function yd(e,t=!1){const{dep:n,prevSub:o,nextSub:i}=e;if(o&&(o.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=o,e.nextSub=void 0),process.env.NODE_ENV!=="production"&&n.subsHead===e&&(n.subsHead=i),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)yd(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function ix(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let io=!0;const wg=[];function ro(){wg.push(io),io=!1}function so(){const e=wg.pop();io=e===void 0?!0:e}function Eg(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=kt;kt=void 0;try{t()}finally{kt=n}}}let Gs=0;class rx{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0,process.env.NODE_ENV!=="production"&&(this.subsHead=void 0)}track(t){if(!kt||!io||kt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==kt)n=this.activeLink=new rx(kt,this),kt.deps?(n.prevDep=kt.depsTail,kt.depsTail.nextDep=n,kt.depsTail=n):kt.deps=kt.depsTail=n,xg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=kt.depsTail,n.nextDep=void 0,kt.depsTail.nextDep=n,kt.depsTail=n,kt.deps===n&&(kt.deps=o)}return process.env.NODE_ENV!=="production"&&kt.onTrack&&kt.onTrack(Ft({effect:kt},t)),n}trigger(t){this.version++,Gs++,this.notify(t)}notify(t){vd();try{if(process.env.NODE_ENV!=="production")for(let n=this.subsHead;n;n=n.nextSub)n.sub.onTrigger&&!(n.sub.flags&8)&&n.sub.onTrigger(Ft({effect:n.sub},t));for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{md()}}}function xg(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)xg(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),process.env.NODE_ENV!=="production"&&e.dep.subsHead===void 0&&(e.dep.subsHead=e),e.dep.subs=e}}const El=new WeakMap,Qi=Symbol(process.env.NODE_ENV!=="production"?"Object iterate":""),bd=Symbol(process.env.NODE_ENV!=="production"?"Map keys iterate":""),Ws=Symbol(process.env.NODE_ENV!=="production"?"Array iterate":"");function Jt(e,t,n){if(io&&kt){let o=El.get(e);o||El.set(e,o=new Map);let i=o.get(n);i||(o.set(n,i=new wl),i.map=o,i.key=n),process.env.NODE_ENV!=="production"?i.track({target:e,type:t,key:n}):i.track()}}function No(e,t,n,o,i,s){const a=El.get(e);if(!a){Gs++;return}const u=c=>{c&&(process.env.NODE_ENV!=="production"?c.trigger({target:e,type:t,key:n,newValue:o,oldValue:i,oldTarget:s}):c.trigger())};if(vd(),t==="clear")a.forEach(u);else{const c=je(e),f=c&&cd(n);if(c&&n==="length"){const d=Number(o);a.forEach((p,g)=>{(g==="length"||g===Ws||!oo(g)&&g>=d)&&u(p)})}else switch((n!==void 0||a.has(void 0))&&u(a.get(n)),f&&u(a.get(Ws)),t){case"add":c?f&&u(a.get("length")):(u(a.get(Qi)),Xi(e)&&u(a.get(bd)));break;case"delete":c||(u(a.get(Qi)),Xi(e)&&u(a.get(bd)));break;case"set":Xi(e)&&u(a.get(Qi));break}}md()}function sx(e,t){const n=El.get(e);return n&&n.get(t)}function Hr(e){const t=rt(e);return t===e?t:(Jt(t,"iterate",Ws),vn(e)?t:t.map(un))}function xl(e){return Jt(e=rt(e),"iterate",Ws),e}const ax={__proto__:null,[Symbol.iterator](){return wd(this,Symbol.iterator,un)},concat(...e){return Hr(this).concat(...e.map(t=>je(t)?Hr(t):t))},entries(){return wd(this,"entries",e=>(e[1]=un(e[1]),e))},every(e,t){return Wo(this,"every",e,t,void 0,arguments)},filter(e,t){return Wo(this,"filter",e,t,n=>n.map(un),arguments)},find(e,t){return Wo(this,"find",e,t,un,arguments)},findIndex(e,t){return Wo(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Wo(this,"findLast",e,t,un,arguments)},findLastIndex(e,t){return Wo(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Wo(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ed(this,"includes",e)},indexOf(...e){return Ed(this,"indexOf",e)},join(e){return Hr(this).join(e)},lastIndexOf(...e){return Ed(this,"lastIndexOf",e)},map(e,t){return Wo(this,"map",e,t,void 0,arguments)},pop(){return qs(this,"pop")},push(...e){return qs(this,"push",e)},reduce(e,...t){return $g(this,"reduce",e,t)},reduceRight(e,...t){return $g(this,"reduceRight",e,t)},shift(){return qs(this,"shift")},some(e,t){return Wo(this,"some",e,t,void 0,arguments)},splice(...e){return qs(this,"splice",e)},toReversed(){return Hr(this).toReversed()},toSorted(e){return Hr(this).toSorted(e)},toSpliced(...e){return Hr(this).toSpliced(...e)},unshift(...e){return qs(this,"unshift",e)},values(){return wd(this,"values",un)}};function wd(e,t,n){const o=xl(e),i=o[t]();return o!==e&&!vn(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const lx=Array.prototype;function Wo(e,t,n,o,i,s){const a=xl(e),u=a!==e&&!vn(e),c=a[t];if(c!==lx[t]){const p=c.apply(e,s);return u?un(p):p}let f=n;a!==e&&(u?f=function(p,g){return n.call(this,un(p),g,e)}:n.length>2&&(f=function(p,g){return n.call(this,p,g,e)}));const d=c.call(a,f,o);return u&&i?i(d):d}function $g(e,t,n,o){const i=xl(e);let s=n;return i!==e&&(vn(e)?n.length>3&&(s=function(a,u,c){return n.call(this,a,u,c,e)}):s=function(a,u,c){return n.call(this,a,un(u),c,e)}),i[t](s,...o)}function Ed(e,t,n){const o=rt(e);Jt(o,"iterate",Ws);const i=o[t](...n);return(i===-1||i===!1)&&Ys(n[0])?(n[0]=rt(n[0]),o[t](...n)):i}function qs(e,t,n=[]){ro(),vd();const o=rt(e)[t].apply(e,n);return md(),so(),o}const ux=jo("__proto__,__v_isRef,__isVue"),Ng=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(oo));function cx(e){oo(e)||(e=String(e));const t=rt(this);return Jt(t,"has",e),t.hasOwnProperty(e)}class Cg{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return o===(i?s?Mg:Dg:s?Ig:Tg).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const a=je(t);if(!i){let c;if(a&&(c=ax[n]))return c;if(n==="hasOwnProperty")return cx}const u=Reflect.get(t,n,Vt(t)?t:o);return(oo(n)?Ng.has(n):ux(n))||(i||Jt(t,"get",n),s)?u:Vt(u)?a&&cd(n)?u:u.value:wt(u)?i?$d(u):Ur(u):u}}class kg extends Cg{constructor(t=!1){super(!1,t)}set(t,n,o,i){let s=t[n];if(!this._isShallow){const c=ko(s);if(!vn(o)&&!ko(o)&&(s=rt(s),o=rt(o)),!je(t)&&Vt(s)&&!Vt(o))return c?(process.env.NODE_ENV!=="production"&&Rn(`Set operation on key "${String(n)}" failed: target is readonly.`,t[n]),!0):(s.value=o,!0)}const a=je(t)&&cd(n)?Number(n)<t.length:bt(t,n),u=Reflect.set(t,n,o,Vt(t)?t:i);return t===rt(i)&&(a?Go(o,s)&&No(t,"set",n,o,s):No(t,"add",n,o)),u}deleteProperty(t,n){const o=bt(t,n),i=t[n],s=Reflect.deleteProperty(t,n);return s&&o&&No(t,"delete",n,void 0,i),s}has(t,n){const o=Reflect.has(t,n);return(!oo(n)||!Ng.has(n))&&Jt(t,"has",n),o}ownKeys(t){return Jt(t,"iterate",je(t)?"length":Qi),Reflect.ownKeys(t)}}class Sg extends Cg{constructor(t=!1){super(!0,t)}set(t,n){return process.env.NODE_ENV!=="production"&&Rn(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0}deleteProperty(t,n){return process.env.NODE_ENV!=="production"&&Rn(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}}const dx=new kg,fx=new Sg,px=new kg(!0),hx=new Sg(!0),xd=e=>e,$l=e=>Reflect.getPrototypeOf(e);function gx(e,t,n){return function(...o){const i=this.__v_raw,s=rt(i),a=Xi(s),u=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,f=i[e](...o),d=n?xd:t?Sl:un;return!t&&Jt(s,"iterate",c?bd:Qi),{next(){const{value:p,done:g}=f.next();return g?{value:p,done:g}:{value:u?[d(p[0]),d(p[1])]:d(p),done:g}},[Symbol.iterator](){return this}}}}function Nl(e){return function(...t){if(process.env.NODE_ENV!=="production"){const n=t[0]?`on key "${t[0]}" `:"";Rn(`${Zi(e)} operation ${n}failed: target is readonly.`,rt(this))}return e==="delete"?!1:e==="clear"?void 0:this}}function vx(e,t){const n={get(i){const s=this.__v_raw,a=rt(s),u=rt(i);e||(Go(i,u)&&Jt(a,"get",i),Jt(a,"get",u));const{has:c}=$l(a),f=t?xd:e?Sl:un;if(c.call(a,i))return f(s.get(i));if(c.call(a,u))return f(s.get(u));s!==a&&s.get(i)},get size(){const i=this.__v_raw;return!e&&Jt(rt(i),"iterate",Qi),i.size},has(i){const s=this.__v_raw,a=rt(s),u=rt(i);return e||(Go(i,u)&&Jt(a,"has",i),Jt(a,"has",u)),i===u?s.has(i):s.has(i)||s.has(u)},forEach(i,s){const a=this,u=a.__v_raw,c=rt(u),f=t?xd:e?Sl:un;return!e&&Jt(c,"iterate",Qi),u.forEach((d,p)=>i.call(s,f(d),f(p),a))}};return Ft(n,e?{add:Nl("add"),set:Nl("set"),delete:Nl("delete"),clear:Nl("clear")}:{add(i){!t&&!vn(i)&&!ko(i)&&(i=rt(i));const s=rt(this);return $l(s).has.call(s,i)||(s.add(i),No(s,"add",i,i)),this},set(i,s){!t&&!vn(s)&&!ko(s)&&(s=rt(s));const a=rt(this),{has:u,get:c}=$l(a);let f=u.call(a,i);f?process.env.NODE_ENV!=="production"&&Og(a,u,i):(i=rt(i),f=u.call(a,i));const d=c.call(a,i);return a.set(i,s),f?Go(s,d)&&No(a,"set",i,s,d):No(a,"add",i,s),this},delete(i){const s=rt(this),{has:a,get:u}=$l(s);let c=a.call(s,i);c?process.env.NODE_ENV!=="production"&&Og(s,a,i):(i=rt(i),c=a.call(s,i));const f=u?u.call(s,i):void 0,d=s.delete(i);return c&&No(s,"delete",i,void 0,f),d},clear(){const i=rt(this),s=i.size!==0,a=process.env.NODE_ENV!=="production"?Xi(i)?new Map(i):new Set(i):void 0,u=i.clear();return s&&No(i,"clear",void 0,void 0,a),u}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=gx(i,e,t)}),n}function Cl(e,t){const n=vx(e,t);return(o,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?o:Reflect.get(bt(n,i)&&i in o?n:o,i,s)}const mx={get:Cl(!1,!1)},_x={get:Cl(!1,!0)},yx={get:Cl(!0,!1)},bx={get:Cl(!0,!0)};function Og(e,t,n){const o=rt(n);if(o!==n&&t.call(e,o)){const i=ud(e);Rn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Tg=new WeakMap,Ig=new WeakMap,Dg=new WeakMap,Mg=new WeakMap;function wx(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ex(e){return e.__v_skip||!Object.isExtensible(e)?0:wx(ud(e))}function Ur(e){return ko(e)?e:kl(e,!1,dx,mx,Tg)}function Ag(e){return kl(e,!1,px,_x,Ig)}function $d(e){return kl(e,!0,fx,yx,Dg)}function Co(e){return kl(e,!0,hx,bx,Mg)}function kl(e,t,n,o,i){if(!wt(e))return process.env.NODE_ENV!=="production"&&Rn(`value cannot be made ${t?"readonly":"reactive"}: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=Ex(e);if(s===0)return e;const a=i.get(e);if(a)return a;const u=new Proxy(e,s===2?o:n);return i.set(e,u),u}function er(e){return ko(e)?er(e.__v_raw):!!(e&&e.__v_isReactive)}function ko(e){return!!(e&&e.__v_isReadonly)}function vn(e){return!!(e&&e.__v_isShallow)}function Ys(e){return e?!!e.__v_raw:!1}function rt(e){const t=e&&e.__v_raw;return t?rt(t):e}function Ks(e){return!bt(e,"__v_skip")&&Object.isExtensible(e)&&_l(e,"__v_skip",!0),e}const un=e=>wt(e)?Ur(e):e,Sl=e=>wt(e)?$d(e):e;function Vt(e){return e?e.__v_isRef===!0:!1}function X(e){return Pg(e,!1)}function Xs(e){return Pg(e,!0)}function Pg(e,t){return Vt(e)?e:new xx(e,t)}class xx{constructor(t,n){this.dep=new wl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:rt(t),this._value=n?t:un(t),this.__v_isShallow=n}get value(){return process.env.NODE_ENV!=="production"?this.dep.track({target:this,type:"get",key:"value"}):this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||vn(t)||ko(t);t=o?t:rt(t),Go(t,n)&&(this._rawValue=t,this._value=o?t:un(t),process.env.NODE_ENV!=="production"?this.dep.trigger({target:this,type:"set",key:"value",newValue:t,oldValue:n}):this.dep.trigger())}}function b(e){return Vt(e)?e.value:e}function gt(e){return Ze(e)?e():b(e)}const $x={get:(e,t,n)=>t==="__v_raw"?e:b(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const i=e[t];return Vt(i)&&!Vt(n)?(i.value=n,!0):Reflect.set(e,t,n,o)}};function Rg(e){return er(e)?e:new Proxy(e,$x)}class Nx{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new wl,{get:o,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=o,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Cx(e){return new Nx(e)}function kx(e){process.env.NODE_ENV!=="production"&&!Ys(e)&&Rn("toRefs() expects a reactive object but received a plain one.");const t=je(e)?new Array(e.length):{};for(const n in e)t[n]=Vg(e,n);return t}class Sx{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return sx(rt(this._object),this._key)}}class Ox{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function It(e,t,n){return Vt(e)?e:Ze(e)?new Ox(e):wt(e)&&arguments.length>1?Vg(e,t,n):X(e)}function Vg(e,t,n){const o=e[t];return Vt(o)?o:new Sx(e,t,n)}class Tx{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new wl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Gs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&kt!==this)return mg(this,!0),!0;process.env.NODE_ENV}get value(){const t=process.env.NODE_ENV!=="production"?this.dep.track({target:this,type:"get",key:"value"}):this.dep.track();return bg(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter?this.setter(t):process.env.NODE_ENV!=="production"&&Rn("Write operation failed: computed value is readonly")}}function Ix(e,t,n=!1){let o,i;Ze(e)?o=e:(o=e.get,i=e.set);const s=new Tx(o,i,n);return process.env.NODE_ENV,s}const Ol={},Tl=new WeakMap;let tr;function Dx(e,t=!1,n=tr){if(n){let o=Tl.get(n);o||Tl.set(n,o=[]),o.push(e)}else process.env.NODE_ENV!=="production"&&!t&&Rn("onWatcherCleanup() was called when there was no active watcher to associate with.")}function Mx(e,t,n=Ct){const{immediate:o,deep:i,once:s,scheduler:a,augmentJob:u,call:c}=n,f=U=>{(n.onWarn||Rn)("Invalid watch source: ",U,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},d=U=>i?U:vn(U)||i===!1||i===0?qo(U,1):qo(U);let p,g,v,w,y=!1,x=!1;if(Vt(e)?(g=()=>e.value,y=vn(e)):er(e)?(g=()=>d(e),y=!0):je(e)?(x=!0,y=e.some(U=>er(U)||vn(U)),g=()=>e.map(U=>{if(Vt(U))return U.value;if(er(U))return d(U);if(Ze(U))return c?c(U,2):U();process.env.NODE_ENV!=="production"&&f(U)})):Ze(e)?t?g=c?()=>c(e,2):e:g=()=>{if(v){ro();try{v()}finally{so()}}const U=tr;tr=p;try{return c?c(e,3,[w]):e(w)}finally{tr=U}}:(g=Zt,process.env.NODE_ENV!=="production"&&f(e)),t&&i){const U=g,V=i===!0?1/0:i;g=()=>qo(U(),V)}const S=bl(),R=()=>{p.stop(),S&&S.active&&ad(S.effects,p)};if(s&&t){const U=t;t=(...V)=>{U(...V),R()}}let I=x?new Array(e.length).fill(Ol):Ol;const L=U=>{if(!(!(p.flags&1)||!p.dirty&&!U))if(t){const V=p.run();if(i||y||(x?V.some((G,q)=>Go(G,I[q])):Go(V,I))){v&&v();const G=tr;tr=p;try{const q=[V,I===Ol?void 0:x&&I[0]===Ol?[]:I,w];I=V,c?c(t,3,q):t(...q)}finally{tr=G}}}else p.run()};return u&&u(L),p=new gg(g),p.scheduler=a?()=>a(L,!1):L,w=U=>Dx(U,!1,p),v=p.onStop=()=>{const U=Tl.get(p);if(U){if(c)c(U,4);else for(const V of U)V();Tl.delete(p)}},process.env.NODE_ENV!=="production"&&(p.onTrack=n.onTrack,p.onTrigger=n.onTrigger),t?o?L(!0):I=p.run():a?a(L.bind(null,!0),!0):p.run(),R.pause=p.pause.bind(p),R.resume=p.resume.bind(p),R.stop=R,R}function qo(e,t=1/0,n){if(t<=0||!wt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Vt(e))qo(e.value,t,n);else if(je(e))for(let o=0;o<e.length;o++)qo(e[o],t,n);else if(Br(e)||Xi(e))e.forEach(o=>{qo(o,t,n)});else if(ug(e)){for(const o in e)qo(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&qo(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const nr=[];function Il(e){nr.push(e)}function Dl(){nr.pop()}let Nd=!1;function Ae(e,...t){if(Nd)return;Nd=!0,ro();const n=nr.length?nr[nr.length-1].component:null,o=n&&n.appContext.config.warnHandler,i=Ax();if(o)jr(o,n,11,[e+t.map(s=>{var a,u;return(u=(a=s.toString)==null?void 0:a.call(s))!=null?u:JSON.stringify(s)}).join(""),n&&n.proxy,i.map(({vnode:s})=>`at <${Ql(n,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${e}`,...t];i.length&&s.push(`
`,...Px(i)),console.warn(...s)}so(),Nd=!1}function Ax(){let e=nr[nr.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function Px(e){const t=[];return e.forEach((n,o)=>{t.push(...o===0?[]:[`
`],...Rx(n))}),t}function Rx({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,i=` at <${Ql(e.component,e.type,o)}`,s=">"+n;return e.props?[i,...Vx(e.props),s]:[i+s]}function Vx(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(o=>{t.push(...Lg(o,e[o]))}),n.length>3&&t.push(" ..."),t}function Lg(e,t,n){return Dt(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:Vt(t)?(t=Lg(e,rt(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):Ze(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=rt(t),n?t:[`${e}=`,t])}function Lx(e,t){process.env.NODE_ENV!=="production"&&e!==void 0&&(typeof e!="number"?Ae(`${t} is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&Ae(`${t} is NaN - the duration expression might be incorrect.`))}const Cd={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function jr(e,t,n,o){try{return o?e(...o):e()}catch(i){Zs(i,t,n)}}function ao(e,t,n,o){if(Ze(e)){const i=jr(e,t,n,o);return i&&ld(i)&&i.catch(s=>{Zs(s,t,n)}),i}if(je(e)){const i=[];for(let s=0;s<e.length;s++)i.push(ao(e[s],t,n,o));return i}else process.env.NODE_ENV!=="production"&&Ae(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof e}`)}function Zs(e,t,n,o=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Ct;if(t){let u=t.parent;const c=t.proxy,f=process.env.NODE_ENV!=="production"?Cd[n]:`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const d=u.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,c,f)===!1)return}u=u.parent}if(s){ro(),jr(s,null,10,[e,c,f]),so();return}}zx(e,n,i,o,a)}function zx(e,t,n,o=!0,i=!1){if(process.env.NODE_ENV!=="production"){const s=Cd[t];if(n&&Il(n),Ae(`Unhandled error${s?` during execution of ${s}`:""}`),n&&Dl(),o)throw e;console.error(e)}else{if(i)throw e;console.error(e)}}const mn=[];let So=-1;const Gr=[];let Ei=null,Wr=0;const zg=Promise.resolve();let Ml=null;const Bx=100;function St(e){const t=Ml||zg;return e?t.then(this?e.bind(this):e):t}function Fx(e){let t=So+1,n=mn.length;for(;t<n;){const o=t+n>>>1,i=mn[o],s=Js(i);s<e||s===e&&i.flags&2?t=o+1:n=o}return t}function Al(e){if(!(e.flags&1)){const t=Js(e),n=mn[mn.length-1];!n||!(e.flags&2)&&t>=Js(n)?mn.push(e):mn.splice(Fx(t),0,e),e.flags|=1,Bg()}}function Bg(){Ml||(Ml=zg.then(jg))}function Fg(e){je(e)?Gr.push(...e):Ei&&e.id===-1?Ei.splice(Wr+1,0,e):e.flags&1||(Gr.push(e),e.flags|=1),Bg()}function Hg(e,t,n=So+1){for(process.env.NODE_ENV!=="production"&&(t=t||new Map);n<mn.length;n++){const o=mn[n];if(o&&o.flags&2){if(e&&o.id!==e.uid||process.env.NODE_ENV!=="production"&&kd(t,o))continue;mn.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Ug(e){if(Gr.length){const t=[...new Set(Gr)].sort((n,o)=>Js(n)-Js(o));if(Gr.length=0,Ei){Ei.push(...t);return}for(Ei=t,process.env.NODE_ENV!=="production"&&(e=e||new Map),Wr=0;Wr<Ei.length;Wr++){const n=Ei[Wr];process.env.NODE_ENV!=="production"&&kd(e,n)||(n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2)}Ei=null,Wr=0}}const Js=e=>e.id==null?e.flags&2?-1:1/0:e.id;function jg(e){process.env.NODE_ENV!=="production"&&(e=e||new Map);const t=process.env.NODE_ENV!=="production"?n=>kd(e,n):Zt;try{for(So=0;So<mn.length;So++){const n=mn[So];if(n&&!(n.flags&8)){if(process.env.NODE_ENV!=="production"&&t(n))continue;n.flags&4&&(n.flags&=-2),jr(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2)}}}finally{for(;So<mn.length;So++){const n=mn[So];n&&(n.flags&=-2)}So=-1,mn.length=0,Ug(e),Ml=null,(mn.length||Gr.length)&&jg(e)}}function kd(e,t){const n=e.get(t)||0;if(n>Bx){const o=t.i,i=o&&tf(o.type);return Zs(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return e.set(t,n+1),!1}let lo=!1;const Pl=new Map;if(process.env.NODE_ENV!=="production"){const e=Bs();e.__VUE_HMR_RUNTIME__||(e.__VUE_HMR_RUNTIME__={createRecord:Sd(Gg),rerender:Sd(jx),reload:Sd(Gx)})}const or=new Map;function Hx(e){const t=e.type.__hmrId;let n=or.get(t);n||(Gg(t,e.type),n=or.get(t)),n.instances.add(e)}function Ux(e){or.get(e.type.__hmrId).instances.delete(e)}function Gg(e,t){return or.has(e)?!1:(or.set(e,{initialDef:Rl(t),instances:new Set}),!0)}function Rl(e){return am(e)?e.__vccOpts:e}function jx(e,t){const n=or.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(o=>{t&&(o.render=t,Rl(o.type).render=t),o.renderCache=[],lo=!0,o.job.flags&8||o.update(),lo=!1}))}function Gx(e,t){const n=or.get(e);if(!n)return;t=Rl(t),Wg(n.initialDef,t);const o=[...n.instances];for(let i=0;i<o.length;i++){const s=o[i],a=Rl(s.type);let u=Pl.get(a);u||(a!==n.initialDef&&Wg(a,t),Pl.set(a,u=new Set)),u.add(s),s.appContext.propsCache.delete(s.type),s.appContext.emitsCache.delete(s.type),s.appContext.optionsCache.delete(s.type),s.ceReload?(u.add(s),s.ceReload(t.styles),u.delete(s)):s.parent?Al(()=>{s.job.flags&8||(lo=!0,s.parent.update(),lo=!1,u.delete(s))}):s.appContext.reload?s.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required."),s.root.ce&&s!==s.root&&s.root.ce._removeChildStyle(a)}Fg(()=>{Pl.clear()})}function Wg(e,t){Ft(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function Sd(e){return(t,n)=>{try{return e(t,n)}catch(o){console.error(o),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let uo,Qs=[],Od=!1;function ea(e,...t){uo?uo.emit(e,...t):Od||Qs.push({event:e,args:t})}function Td(e,t){var n,o;uo=e,uo?(uo.enabled=!0,Qs.forEach(({event:i,args:s})=>uo.emit(i,...s)),Qs=[]):typeof window<"u"&&window.HTMLElement&&!((o=(n=window.navigator)==null?void 0:n.userAgent)!=null&&o.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Td(s,t)}),setTimeout(()=>{uo||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Od=!0,Qs=[])},3e3)):(Od=!0,Qs=[])}function Wx(e,t){ea("app:init",e,t,{Fragment:Fe,Text:es,Comment:jt,Static:Yl})}function qx(e){ea("app:unmount",e)}const Yx=Id("component:added"),qg=Id("component:updated"),Kx=Id("component:removed"),Xx=e=>{uo&&typeof uo.cleanupBuffer=="function"&&!uo.cleanupBuffer(e)&&Kx(e)};function Id(e){return t=>{ea(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const Zx=Yg("perf:start"),Jx=Yg("perf:end");function Yg(e){return(t,n,o)=>{ea(e,t.appContext.app,t.uid,t,n,o)}}function Qx(e,t,n){ea("component:emit",e.appContext.app,e,t,n)}let qt=null,Kg=null;function Vl(e){const t=qt;return qt=e,Kg=e&&e.type.__scopeId||null,t}function Qe(e,t=qt,n){if(!t||e._n)return e;const o=(...i)=>{o._d&&Kl(-1);const s=Vl(t);let a;try{a=e(...i)}finally{Vl(s),o._d&&Kl(1)}return process.env.NODE_ENV!=="production"&&qg(t),a};return o._n=!0,o._c=!0,o._d=!0,o}function Xg(e){HE(e)&&Ae("Do not use built-in directive ids as custom directive id: "+e)}function Ye(e,t){if(qt===null)return process.env.NODE_ENV!=="production"&&Ae("withDirectives can only be used inside render functions."),e;const n=Jl(qt),o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,a,u,c=Ct]=t[i];s&&(Ze(s)&&(s={mounted:s,updated:s}),s.deep&&qo(a),o.push({dir:s,instance:n,value:a,oldValue:void 0,arg:u,modifiers:c}))}return e}function ir(e,t,n,o){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const u=i[a];s&&(u.oldValue=s[a].value);let c=u.dir[o];c&&(ro(),ao(c,n,8,[e.el,u,e,t]),so())}}const Zg=Symbol("_vte"),Jg=e=>e.__isTeleport,rr=e=>e&&(e.disabled||e.disabled===""),Qg=e=>e&&(e.defer||e.defer===""),ev=e=>typeof SVGElement<"u"&&e instanceof SVGElement,tv=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Dd=(e,t)=>{const n=e&&e.to;if(Dt(n))if(t){const o=t(n);return process.env.NODE_ENV!=="production"&&!o&&!rr(e)&&Ae(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),o}else return process.env.NODE_ENV!=="production"&&Ae("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return process.env.NODE_ENV!=="production"&&!n&&!rr(e)&&Ae(`Invalid Teleport target: ${n}`),n},nv={name:"Teleport",__isTeleport:!0,process(e,t,n,o,i,s,a,u,c,f){const{mc:d,pc:p,pbc:g,o:{insert:v,querySelector:w,createText:y,createComment:x}}=f,S=rr(t.props);let{shapeFlag:R,children:I,dynamicChildren:L}=t;if(process.env.NODE_ENV!=="production"&&lo&&(c=!1,L=null),e==null){const U=t.el=process.env.NODE_ENV!=="production"?x("teleport start"):y(""),V=t.anchor=process.env.NODE_ENV!=="production"?x("teleport end"):y("");v(U,n,o),v(V,n,o);const G=(T,W)=>{R&16&&(i&&i.isCE&&(i.ce._teleportTarget=T),d(I,T,W,i,s,a,u,c))},q=()=>{const T=t.target=Dd(t.props,w),W=ov(T,t,y,v);T?(a!=="svg"&&ev(T)?a="svg":a!=="mathml"&&tv(T)&&(a="mathml"),S||(G(T,W),zl(t,!1))):process.env.NODE_ENV!=="production"&&!S&&Ae("Invalid Teleport target on mount:",T,`(${typeof T})`)};S&&(G(n,V),zl(t,!0)),Qg(t.props)?(t.el.__isMounted=!1,yn(()=>{q(),delete t.el.__isMounted},s)):q()}else{if(Qg(t.props)&&e.el.__isMounted===!1){yn(()=>{nv.process(e,t,n,o,i,s,a,u,c,f)},s);return}t.el=e.el,t.targetStart=e.targetStart;const U=t.anchor=e.anchor,V=t.target=e.target,G=t.targetAnchor=e.targetAnchor,q=rr(e.props),T=q?n:V,W=q?U:G;if(a==="svg"||ev(V)?a="svg":(a==="mathml"||tv(V))&&(a="mathml"),L?(g(e.dynamicChildren,L,T,i,s,a,u),sa(e,t,process.env.NODE_ENV==="production")):c||p(e,t,T,W,i,s,a,u,!1),S)q?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Ll(t,n,U,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const J=t.target=Dd(t.props,w);J?Ll(t,J,null,f,0):process.env.NODE_ENV!=="production"&&Ae("Invalid Teleport target on update:",V,`(${typeof V})`)}else q&&Ll(t,V,G,f,1);zl(t,S)}},remove(e,t,n,{um:o,o:{remove:i}},s){const{shapeFlag:a,children:u,anchor:c,targetStart:f,targetAnchor:d,target:p,props:g}=e;if(p&&(i(f),i(d)),s&&i(c),a&16){const v=s||!rr(g);for(let w=0;w<u.length;w++){const y=u[w];o(y,t,n,v,!!y.dynamicChildren)}}},move:Ll,hydrate:e$};function Ll(e,t,n,{o:{insert:o},m:i},s=2){s===0&&o(e.targetAnchor,t,n);const{el:a,anchor:u,shapeFlag:c,children:f,props:d}=e,p=s===2;if(p&&o(a,t,n),(!p||rr(d))&&c&16)for(let g=0;g<f.length;g++)i(f[g],t,n,2);p&&o(u,t,n)}function e$(e,t,n,o,i,s,{o:{nextSibling:a,parentNode:u,querySelector:c,insert:f,createText:d}},p){function g(y,x,S,R){x.anchor=p(a(y),x,u(y),n,o,i,s),x.targetStart=S,x.targetAnchor=R}const v=t.target=Dd(t.props,c),w=rr(t.props);if(v){const y=v._lpa||v.firstChild;if(t.shapeFlag&16)if(w)g(e,t,y,y&&a(y));else{t.anchor=a(e);let x=y;for(;x;){if(x&&x.nodeType===8){if(x.data==="teleport start anchor")t.targetStart=x;else if(x.data==="teleport anchor"){t.targetAnchor=x,v._lpa=t.targetAnchor&&a(t.targetAnchor);break}}x=a(x)}t.targetAnchor||ov(v,t,d,f),p(y&&a(y),t,v,n,o,i,s)}zl(t,w)}else w&&t.shapeFlag&16&&g(e,t,e,a(e));return t.anchor&&a(t.anchor)}const t$=nv;function zl(e,t){const n=e.ctx;if(n&&n.ut){let o,i;for(t?(o=e.el,i=e.anchor):(o=e.targetStart,i=e.targetAnchor);o&&o!==i;)o.nodeType===1&&o.setAttribute("data-v-owner",n.uid),o=o.nextSibling;n.ut()}}function ov(e,t,n,o){const i=t.targetStart=n(""),s=t.targetAnchor=n("");return i[Zg]=s,e&&(o(i,e),o(s,e)),s}const Yo=Symbol("_leaveCb"),Bl=Symbol("_enterCb");function iv(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ke(()=>{e.isMounted=!0}),Xo(()=>{e.isUnmounting=!0}),e}const Wn=[Function,Array],rv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Wn,onEnter:Wn,onAfterEnter:Wn,onEnterCancelled:Wn,onBeforeLeave:Wn,onLeave:Wn,onAfterLeave:Wn,onLeaveCancelled:Wn,onBeforeAppear:Wn,onAppear:Wn,onAfterAppear:Wn,onAppearCancelled:Wn},sv=e=>{const t=e.subTree;return t.component?sv(t.component):t},n$={name:"BaseTransition",props:rv,setup(e,{slots:t}){const n=$n(),o=iv();return()=>{const i=t.default&&Ad(t.default(),!0);if(!i||!i.length)return;const s=av(i),a=rt(e),{mode:u}=a;if(process.env.NODE_ENV!=="production"&&u&&u!=="in-out"&&u!=="out-in"&&u!=="default"&&Ae(`invalid <transition> mode: ${u}`),o.isLeaving)return Md(s);const c=uv(s);if(!c)return Md(s);let f=ta(c,a,o,n,p=>f=p);c.type!==jt&&sr(c,f);let d=n.subTree&&uv(n.subTree);if(d&&d.type!==jt&&!cr(d,c)&&sv(n).type!==jt){let p=ta(d,a,o,n);if(sr(d,p),u==="out-in"&&c.type!==jt)return o.isLeaving=!0,p.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,d=void 0},Md(s);u==="in-out"&&c.type!==jt?p.delayLeave=(g,v,w)=>{const y=lv(o,d);y[String(d.key)]=d,g[Yo]=()=>{v(),g[Yo]=void 0,delete f.delayedLeave,d=void 0},f.delayedLeave=()=>{w(),delete f.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return s}}};function av(e){let t=e[0];if(e.length>1){let n=!1;for(const o of e)if(o.type!==jt){if(process.env.NODE_ENV!=="production"&&n){Ae("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}if(t=o,n=!0,process.env.NODE_ENV==="production")break}}return t}const o$=n$;function lv(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function ta(e,t,n,o,i){const{appear:s,mode:a,persisted:u=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:g,onLeave:v,onAfterLeave:w,onLeaveCancelled:y,onBeforeAppear:x,onAppear:S,onAfterAppear:R,onAppearCancelled:I}=t,L=String(e.key),U=lv(n,e),V=(T,W)=>{T&&ao(T,o,9,W)},G=(T,W)=>{const J=W[1];V(T,W),je(T)?T.every(B=>B.length<=1)&&J():T.length<=1&&J()},q={mode:a,persisted:u,beforeEnter(T){let W=c;if(!n.isMounted)if(s)W=x||c;else return;T[Yo]&&T[Yo](!0);const J=U[L];J&&cr(e,J)&&J.el[Yo]&&J.el[Yo](),V(W,[T])},enter(T){let W=f,J=d,B=p;if(!n.isMounted)if(s)W=S||f,J=R||d,B=I||p;else return;let Z=!1;const N=T[Bl]=Q=>{Z||(Z=!0,Q?V(B,[T]):V(J,[T]),q.delayedLeave&&q.delayedLeave(),T[Bl]=void 0)};W?G(W,[T,N]):N()},leave(T,W){const J=String(e.key);if(T[Bl]&&T[Bl](!0),n.isUnmounting)return W();V(g,[T]);let B=!1;const Z=T[Yo]=N=>{B||(B=!0,W(),N?V(y,[T]):V(w,[T]),T[Yo]=void 0,U[J]===e&&delete U[J])};U[J]=e,v?G(v,[T,Z]):Z()},clone(T){const W=ta(T,t,n,o,i);return i&&i(W),W}};return q}function Md(e){if(oa(e))return e=Oo(e),e.children=null,e}function uv(e){if(!oa(e))return Jg(e.type)&&e.children?av(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Ze(n.default))return n.default()}}function sr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,sr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ad(e,t=!1,n){let o=[],i=0;for(let s=0;s<e.length;s++){let a=e[s];const u=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Fe?(a.patchFlag&128&&i++,o=o.concat(Ad(a.children,t,u))):(t||a.type!==jt)&&o.push(u!=null?Oo(a,{key:u}):a)}if(i>1)for(let s=0;s<o.length;s++)o[s].patchFlag=-2;return o}function Et(e,t){return Ze(e)?Ft({name:e.name},t,{setup:e}):e}function cv(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const dv=new WeakSet,Fl=new WeakMap;function na(e,t,n,o,i=!1){if(je(e)){e.forEach((y,x)=>na(y,t&&(je(t)?t[x]:t),n,o,i));return}if(qr(o)&&!i){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&na(e,t,n,o.component.subTree);return}const s=o.shapeFlag&4?Jl(o.component):o.el,a=i?null:s,{i:u,r:c}=e;if(process.env.NODE_ENV!=="production"&&!u){Ae("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const f=t&&t.r,d=u.refs===Ct?u.refs={}:u.refs,p=u.setupState,g=rt(p),v=p===Ct?sg:y=>process.env.NODE_ENV!=="production"&&(bt(g,y)&&!Vt(g[y])&&Ae(`Template ref "${y}" used on a non-ref value. It will not work in the production build.`),dv.has(g[y]))?!1:bt(g,y),w=y=>process.env.NODE_ENV==="production"||!dv.has(y);if(f!=null&&f!==c){if(fv(t),Dt(f))d[f]=null,v(f)&&(p[f]=null);else if(Vt(f)){w(f)&&(f.value=null);const y=t;y.k&&(d[y.k]=null)}}if(Ze(c))jr(c,u,12,[a,d]);else{const y=Dt(c),x=Vt(c);if(y||x){const S=()=>{if(e.f){const R=y?v(c)?p[c]:d[c]:w(c)||!e.k?c.value:d[e.k];if(i)je(R)&&ad(R,s);else if(je(R))R.includes(s)||R.push(s);else if(y)d[c]=[s],v(c)&&(p[c]=d[c]);else{const I=[s];w(c)&&(c.value=I),e.k&&(d[e.k]=I)}}else y?(d[c]=a,v(c)&&(p[c]=a)):x?(w(c)&&(c.value=a),e.k&&(d[e.k]=a)):process.env.NODE_ENV!=="production"&&Ae("Invalid template ref type:",c,`(${typeof c})`)};if(a){const R=()=>{S(),Fl.delete(e)};R.id=-1,Fl.set(e,R),yn(R,n)}else fv(e),S()}else process.env.NODE_ENV!=="production"&&Ae("Invalid template ref type:",c,`(${typeof c})`)}}function fv(e){const t=Fl.get(e);t&&(t.flags|=8,Fl.delete(e))}Bs().requestIdleCallback,Bs().cancelIdleCallback;const qr=e=>!!e.type.__asyncLoader,oa=e=>e.type.__isKeepAlive;function pv(e,t){gv(e,"a",t)}function hv(e,t){gv(e,"da",t)}function gv(e,t,n=rn){const o=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Hl(t,o,n),n){let i=n.parent;for(;i&&i.parent;)oa(i.parent.vnode)&&i$(o,t,n,i),i=i.parent}}function i$(e,t,n,o){const i=Hl(t,e,o,!0);ar(()=>{ad(o[t],i)},n)}function Hl(e,t,n=rn,o=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{ro();const u=la(n),c=ao(t,n,e,a);return u(),so(),c});return o?i.unshift(s):i.push(s),s}else if(process.env.NODE_ENV!=="production"){const i=Ji(Cd[e].replace(/ hook$/,""));Ae(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Ko=e=>(t,n=rn)=>{(!ua||e==="sp")&&Hl(e,(...o)=>t(...o),n)},vv=Ko("bm"),Ke=Ko("m"),r$=Ko("bu"),mv=Ko("u"),Xo=Ko("bum"),ar=Ko("um"),s$=Ko("sp"),a$=Ko("rtg"),l$=Ko("rtc");function u$(e,t=rn){Hl("ec",e,t)}const Ul="components",c$="directives";function Yr(e,t){return Pd(Ul,e,!0,t)||e}const _v=Symbol.for("v-ndc");function Kr(e){return Dt(e)?Pd(Ul,e,!1)||e:e||_v}function Xr(e){return Pd(c$,e)}function Pd(e,t,n=!0,o=!1){const i=qt||rn;if(i){const s=i.type;if(e===Ul){const u=tf(s,!1);if(u&&(u===t||u===gn(t)||u===Zi(gn(t))))return s}const a=yv(i[e]||s[e],t)||yv(i.appContext[e],t);if(!a&&o)return s;if(process.env.NODE_ENV!=="production"&&n&&!a){const u=e===Ul?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";Ae(`Failed to resolve ${e.slice(0,-1)}: ${t}${u}`)}return a}else process.env.NODE_ENV!=="production"&&Ae(`resolve${Zi(e.slice(0,-1))} can only be used in render() or setup().`)}function yv(e,t){return e&&(e[t]||e[gn(t)]||e[Zi(gn(t))])}function ct(e,t,n,o){let i;const s=n&&n[o],a=je(e);if(a||Dt(e)){const u=a&&er(e);let c=!1,f=!1;u&&(c=!vn(e),f=ko(e),e=xl(e)),i=new Array(e.length);for(let d=0,p=e.length;d<p;d++)i[d]=t(c?f?Sl(un(e[d])):un(e[d]):e[d],d,void 0,s&&s[d])}else if(typeof e=="number"){process.env.NODE_ENV!=="production"&&!Number.isInteger(e)&&Ae(`The v-for range expect an integer value but got ${e}.`),i=new Array(e);for(let u=0;u<e;u++)i[u]=t(u+1,u,void 0,s&&s[u])}else if(wt(e))if(e[Symbol.iterator])i=Array.from(e,(u,c)=>t(u,c,void 0,s&&s[c]));else{const u=Object.keys(e);i=new Array(u.length);for(let c=0,f=u.length;c<f;c++){const d=u[c];i[c]=t(e[d],d,c,s&&s[c])}}else i=[];return n&&(n[o]=i),i}function qn(e,t,n={},o,i){if(qt.ce||qt.parent&&qr(qt.parent)&&qt.parent.ce)return t!=="default"&&(n.name=t),O(),dt(Fe,null,[pe("slot",n,o&&o())],64);let s=e[t];process.env.NODE_ENV!=="production"&&s&&s.length>1&&(Ae("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),s=()=>[]),s&&s._c&&(s._d=!1),O();const a=s&&bv(s(n)),u=n.key||a&&a.key,c=dt(Fe,{key:(u&&!oo(u)?u:`_${t}`)+(!a&&o?"_fb":"")},a||(o?o():[]),a&&e._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),s&&s._c&&(s._d=!0),c}function bv(e){return e.some(t=>xi(t)?!(t.type===jt||t.type===Fe&&!bv(t.children)):!0)?e:null}const Rd=e=>e?nm(e)?Jl(e):Rd(e.parent):null,lr=Ft(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>process.env.NODE_ENV!=="production"?Co(e.props):e.props,$attrs:e=>process.env.NODE_ENV!=="production"?Co(e.attrs):e.attrs,$slots:e=>process.env.NODE_ENV!=="production"?Co(e.slots):e.slots,$refs:e=>process.env.NODE_ENV!=="production"?Co(e.refs):e.refs,$parent:e=>Rd(e.parent),$root:e=>Rd(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>kv(e),$forceUpdate:e=>e.f||(e.f=()=>{Al(e.update)}),$nextTick:e=>e.n||(e.n=St.bind(e.proxy)),$watch:e=>U$.bind(e)}),Vd=e=>e==="_"||e==="$",Ld=(e,t)=>e!==Ct&&!e.__isScriptSetup&&bt(e,t),wv={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:i,props:s,accessCache:a,type:u,appContext:c}=e;if(process.env.NODE_ENV!=="production"&&t==="__isVue")return!0;let f;if(t[0]!=="$"){const v=a[t];if(v!==void 0)switch(v){case 1:return o[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(Ld(o,t))return a[t]=1,o[t];if(i!==Ct&&bt(i,t))return a[t]=2,i[t];if((f=e.propsOptions[0])&&bt(f,t))return a[t]=3,s[t];if(n!==Ct&&bt(n,t))return a[t]=4,n[t];Bd&&(a[t]=0)}}const d=lr[t];let p,g;if(d)return t==="$attrs"?(Jt(e.attrs,"get",""),process.env.NODE_ENV!=="production"&&ql()):process.env.NODE_ENV!=="production"&&t==="$slots"&&Jt(e,"get",t),d(e);if((p=u.__cssModules)&&(p=p[t]))return p;if(n!==Ct&&bt(n,t))return a[t]=4,n[t];if(g=c.config.globalProperties,bt(g,t))return g[t];process.env.NODE_ENV!=="production"&&qt&&(!Dt(t)||t.indexOf("__v")!==0)&&(i!==Ct&&Vd(t[0])&&bt(i,t)?Ae(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===qt&&Ae(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:o,setupState:i,ctx:s}=e;return Ld(i,t)?(i[t]=n,!0):process.env.NODE_ENV!=="production"&&i.__isScriptSetup&&bt(i,t)?(Ae(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):o!==Ct&&bt(o,t)?(o[t]=n,!0):bt(e.props,t)?(process.env.NODE_ENV!=="production"&&Ae(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(process.env.NODE_ENV!=="production"&&Ae(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!=="production"&&t in e.appContext.config.globalProperties?Object.defineProperty(s,t,{enumerable:!0,configurable:!0,value:n}):s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:i,propsOptions:s,type:a}},u){let c,f;return!!(n[u]||e!==Ct&&u[0]!=="$"&&bt(e,u)||Ld(t,u)||(c=s[0])&&bt(c,u)||bt(o,u)||bt(lr,u)||bt(i.config.globalProperties,u)||(f=a.__cssModules)&&f[u])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:bt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};process.env.NODE_ENV!=="production"&&(wv.ownKeys=e=>(Ae("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e)));function d$(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(lr).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>lr[n](e),set:Zt})}),t}function f$(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(o=>{Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>e.props[o],set:Zt})})}function p$(e){const{ctx:t,setupState:n}=e;Object.keys(rt(n)).forEach(o=>{if(!n.__isScriptSetup){if(Vd(o[0])){Ae(`setup() return property ${JSON.stringify(o)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>n[o],set:Zt})}})}function Ev(){return xv("useSlots").slots}function zd(){return xv("useAttrs").attrs}function xv(e){const t=$n();return process.env.NODE_ENV!=="production"&&!t&&Ae(`${e}() called without active instance.`),t.setupContext||(t.setupContext=sm(t))}function $v(e){return je(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function h$(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}function g$(){const e=Object.create(null);return(t,n)=>{e[n]?Ae(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let Bd=!0;function v$(e){const t=kv(e),n=e.proxy,o=e.ctx;Bd=!1,t.beforeCreate&&Nv(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:u,provide:c,inject:f,created:d,beforeMount:p,mounted:g,beforeUpdate:v,updated:w,activated:y,deactivated:x,beforeDestroy:S,beforeUnmount:R,destroyed:I,unmounted:L,render:U,renderTracked:V,renderTriggered:G,errorCaptured:q,serverPrefetch:T,expose:W,inheritAttrs:J,components:B,directives:Z,filters:N}=t,Q=process.env.NODE_ENV!=="production"?g$():null;if(process.env.NODE_ENV!=="production"){const[ne]=e.propsOptions;if(ne)for(const Y in ne)Q("Props",Y)}if(f&&m$(f,o,Q),a)for(const ne in a){const Y=a[ne];Ze(Y)?(process.env.NODE_ENV!=="production"?Object.defineProperty(o,ne,{value:Y.bind(n),configurable:!0,enumerable:!0,writable:!0}):o[ne]=Y.bind(n),process.env.NODE_ENV!=="production"&&Q("Methods",ne)):process.env.NODE_ENV!=="production"&&Ae(`Method "${ne}" has type "${typeof Y}" in the component definition. Did you reference the function correctly?`)}if(i){process.env.NODE_ENV!=="production"&&!Ze(i)&&Ae("The data option must be a function. Plain object usage is no longer supported.");const ne=i.call(n,n);if(process.env.NODE_ENV!=="production"&&ld(ne)&&Ae("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!wt(ne))process.env.NODE_ENV!=="production"&&Ae("data() should return an object.");else if(e.data=Ur(ne),process.env.NODE_ENV!=="production")for(const Y in ne)Q("Data",Y),Vd(Y[0])||Object.defineProperty(o,Y,{configurable:!0,enumerable:!0,get:()=>ne[Y],set:Zt})}if(Bd=!0,s)for(const ne in s){const Y=s[ne],fe=Ze(Y)?Y.bind(n,n):Ze(Y.get)?Y.get.bind(n,n):Zt;process.env.NODE_ENV!=="production"&&fe===Zt&&Ae(`Computed property "${ne}" has no getter.`);const oe=!Ze(Y)&&Ze(Y.set)?Y.set.bind(n):process.env.NODE_ENV!=="production"?()=>{Ae(`Write operation failed: computed property "${ne}" is readonly.`)}:Zt,te=$e({get:fe,set:oe});Object.defineProperty(o,ne,{enumerable:!0,configurable:!0,get:()=>te.value,set:ge=>te.value=ge}),process.env.NODE_ENV!=="production"&&Q("Computed",ne)}if(u)for(const ne in u)Cv(u[ne],o,n,ne);if(c){const ne=Ze(c)?c.call(n):c;Reflect.ownKeys(ne).forEach(Y=>{co(Y,ne[Y])})}d&&Nv(d,e,"c");function j(ne,Y){je(Y)?Y.forEach(fe=>ne(fe.bind(n))):Y&&ne(Y.bind(n))}if(j(vv,p),j(Ke,g),j(r$,v),j(mv,w),j(pv,y),j(hv,x),j(u$,q),j(l$,V),j(a$,G),j(Xo,R),j(ar,L),j(s$,T),je(W))if(W.length){const ne=e.exposed||(e.exposed={});W.forEach(Y=>{Object.defineProperty(ne,Y,{get:()=>n[Y],set:fe=>n[Y]=fe,enumerable:!0})})}else e.exposed||(e.exposed={});U&&e.render===Zt&&(e.render=U),J!=null&&(e.inheritAttrs=J),B&&(e.components=B),Z&&(e.directives=Z),T&&cv(e)}function m$(e,t,n=Zt){je(e)&&(e=Fd(e));for(const o in e){const i=e[o];let s;wt(i)?"default"in i?s=Yt(i.from||o,i.default,!0):s=Yt(i.from||o):s=Yt(i),Vt(s)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[o]=s,process.env.NODE_ENV!=="production"&&n("Inject",o)}}function Nv(e,t,n){ao(je(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Cv(e,t,n,o){let i=o.includes(".")?jv(n,o):()=>n[o];if(Dt(e)){const s=t[e];Ze(s)?Le(i,s):process.env.NODE_ENV!=="production"&&Ae(`Invalid watch handler specified by key "${e}"`,s)}else if(Ze(e))Le(i,e.bind(n));else if(wt(e))if(je(e))e.forEach(s=>Cv(s,t,n,o));else{const s=Ze(e.handler)?e.handler.bind(n):t[e.handler];Ze(s)?Le(i,s,e):process.env.NODE_ENV!=="production"&&Ae(`Invalid watch handler specified by key "${e.handler}"`,s)}else process.env.NODE_ENV!=="production"&&Ae(`Invalid watch option: "${o}"`,e)}function kv(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,u=s.get(t);let c;return u?c=u:!i.length&&!n&&!o?c=t:(c={},i.length&&i.forEach(f=>jl(c,f,a,!0)),jl(c,t,a)),wt(t)&&s.set(t,c),c}function jl(e,t,n,o=!1){const{mixins:i,extends:s}=t;s&&jl(e,s,n,!0),i&&i.forEach(a=>jl(e,a,n,!0));for(const a in t)if(o&&a==="expose")process.env.NODE_ENV!=="production"&&Ae('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const u=_$[a]||n&&n[a];e[a]=u?u(e[a],t[a]):t[a]}return e}const _$={data:Sv,props:Ov,emits:Ov,methods:ia,computed:ia,beforeCreate:_n,created:_n,beforeMount:_n,mounted:_n,beforeUpdate:_n,updated:_n,beforeDestroy:_n,beforeUnmount:_n,destroyed:_n,unmounted:_n,activated:_n,deactivated:_n,errorCaptured:_n,serverPrefetch:_n,components:ia,directives:ia,watch:b$,provide:Sv,inject:y$};function Sv(e,t){return t?e?function(){return Ft(Ze(e)?e.call(this,this):e,Ze(t)?t.call(this,this):t)}:t:e}function y$(e,t){return ia(Fd(e),Fd(t))}function Fd(e){if(je(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function _n(e,t){return e?[...new Set([].concat(e,t))]:t}function ia(e,t){return e?Ft(Object.create(null),e,t):t}function Ov(e,t){return e?je(e)&&je(t)?[...new Set([...e,...t])]:Ft(Object.create(null),$v(e),$v(t??{})):t}function b$(e,t){if(!e)return t;if(!t)return e;const n=Ft(Object.create(null),e);for(const o in t)n[o]=_n(e[o],t[o]);return n}function Tv(){return{app:null,config:{isNativeTag:sg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let w$=0;function E$(e,t){return function(o,i=null){Ze(o)||(o=Ft({},o)),i!=null&&!wt(i)&&(process.env.NODE_ENV!=="production"&&Ae("root props passed to app.mount() must be an object."),i=null);const s=Tv(),a=new WeakSet,u=[];let c=!1;const f=s.app={_uid:w$++,_component:o,_props:i,_container:null,_context:s,_instance:null,version:lm,get config(){return s.config},set config(d){process.env.NODE_ENV!=="production"&&Ae("app.config cannot be replaced. Modify individual options instead.")},use(d,...p){return a.has(d)?process.env.NODE_ENV!=="production"&&Ae("Plugin has already been applied to target app."):d&&Ze(d.install)?(a.add(d),d.install(f,...p)):Ze(d)?(a.add(d),d(f,...p)):process.env.NODE_ENV!=="production"&&Ae('A plugin must either be a function or an object with an "install" function.'),f},mixin(d){return s.mixins.includes(d)?process.env.NODE_ENV!=="production"&&Ae("Mixin has already been applied to target app"+(d.name?`: ${d.name}`:"")):s.mixins.push(d),f},component(d,p){return process.env.NODE_ENV!=="production"&&ef(d,s.config),p?(process.env.NODE_ENV!=="production"&&s.components[d]&&Ae(`Component "${d}" has already been registered in target app.`),s.components[d]=p,f):s.components[d]},directive(d,p){return process.env.NODE_ENV!=="production"&&Xg(d),p?(process.env.NODE_ENV!=="production"&&s.directives[d]&&Ae(`Directive "${d}" has already been registered in target app.`),s.directives[d]=p,f):s.directives[d]},mount(d,p,g){if(c)process.env.NODE_ENV!=="production"&&Ae("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{process.env.NODE_ENV!=="production"&&d.__vue_app__&&Ae("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const v=f._ceVNode||pe(o,i);return v.appContext=s,g===!0?g="svg":g===!1&&(g=void 0),process.env.NODE_ENV!=="production"&&(s.reload=()=>{const w=Oo(v);w.el=null,e(w,d,g)}),e(v,d,g),c=!0,f._container=d,d.__vue_app__=f,process.env.NODE_ENV!=="production"&&(f._instance=v.component,Wx(f,lm)),Jl(v.component)}},onUnmount(d){process.env.NODE_ENV!=="production"&&typeof d!="function"&&Ae(`Expected function as first argument to app.onUnmount(), but got ${typeof d}`),u.push(d)},unmount(){c?(ao(u,f._instance,16),e(null,f._container),process.env.NODE_ENV!=="production"&&(f._instance=null,qx(f)),delete f._container.__vue_app__):process.env.NODE_ENV!=="production"&&Ae("Cannot unmount an app that is not mounted.")},provide(d,p){return process.env.NODE_ENV!=="production"&&d in s.provides&&(bt(s.provides,d)?Ae(`App already provides property with key "${String(d)}". It will be overwritten with the new value.`):Ae(`App already provides property with key "${String(d)}" inherited from its parent element. It will be overwritten with the new value.`)),s.provides[d]=p,f},runWithContext(d){const p=Zr;Zr=f;try{return d()}finally{Zr=p}}};return f}}let Zr=null;function co(e,t){if(!rn)process.env.NODE_ENV!=="production"&&Ae("provide() can only be used inside setup().");else{let n=rn.provides;const o=rn.parent&&rn.parent.provides;o===n&&(n=rn.provides=Object.create(o)),n[e]=t}}function Yt(e,t,n=!1){const o=$n();if(o||Zr){let i=Zr?Zr._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Ze(t)?t.call(o&&o.proxy):t;process.env.NODE_ENV!=="production"&&Ae(`injection "${String(e)}" not found.`)}else process.env.NODE_ENV!=="production"&&Ae("inject() can only be used inside setup() or functional components.")}const Iv={},Dv=()=>Object.create(Iv),Mv=e=>Object.getPrototypeOf(e)===Iv;function x$(e,t,n,o=!1){const i={},s=Dv();e.propsDefaults=Object.create(null),Av(e,t,i,s);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);process.env.NODE_ENV!=="production"&&Vv(t||{},i,e),n?e.props=o?i:Ag(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function $$(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function N$(e,t,n,o){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,u=rt(i),[c]=e.propsOptions;let f=!1;if(!(process.env.NODE_ENV!=="production"&&$$(e))&&(o||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let p=0;p<d.length;p++){let g=d[p];if(Wl(e.emitsOptions,g))continue;const v=t[g];if(c)if(bt(s,g))v!==s[g]&&(s[g]=v,f=!0);else{const w=gn(g);i[w]=Hd(c,u,w,v,e,!1)}else v!==s[g]&&(s[g]=v,f=!0)}}}else{Av(e,t,i,s)&&(f=!0);let d;for(const p in u)(!t||!bt(t,p)&&((d=wi(p))===p||!bt(t,d)))&&(c?n&&(n[p]!==void 0||n[d]!==void 0)&&(i[p]=Hd(c,u,p,void 0,e,!0)):delete i[p]);if(s!==u)for(const p in s)(!t||!bt(t,p))&&(delete s[p],f=!0)}f&&No(e.attrs,"set",""),process.env.NODE_ENV!=="production"&&Vv(t||{},i,e)}function Av(e,t,n,o){const[i,s]=e.propsOptions;let a=!1,u;if(t)for(let c in t){if(zs(c))continue;const f=t[c];let d;i&&bt(i,d=gn(c))?!s||!s.includes(d)?n[d]=f:(u||(u={}))[d]=f:Wl(e.emitsOptions,c)||(!(c in o)||f!==o[c])&&(o[c]=f,a=!0)}if(s){const c=rt(n),f=u||Ct;for(let d=0;d<s.length;d++){const p=s[d];n[p]=Hd(i,c,p,f[p],e,!bt(f,p))}}return a}function Hd(e,t,n,o,i,s){const a=e[n];if(a!=null){const u=bt(a,"default");if(u&&o===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&Ze(c)){const{propsDefaults:f}=i;if(n in f)o=f[n];else{const d=la(i);o=f[n]=c.call(null,t),d()}}else o=c;i.ce&&i.ce._setProp(n,o)}a[0]&&(s&&!u?o=!1:a[1]&&(o===""||o===wi(n))&&(o=!0))}return o}const C$=new WeakMap;function Pv(e,t,n=!1){const o=n?C$:t.propsCache,i=o.get(e);if(i)return i;const s=e.props,a={},u=[];let c=!1;if(!Ze(e)){const d=p=>{c=!0;const[g,v]=Pv(p,t,!0);Ft(a,g),v&&u.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!c)return wt(e)&&o.set(e,zr),zr;if(je(s))for(let d=0;d<s.length;d++){process.env.NODE_ENV!=="production"&&!Dt(s[d])&&Ae("props must be strings when using array syntax.",s[d]);const p=gn(s[d]);Rv(p)&&(a[p]=Ct)}else if(s){process.env.NODE_ENV!=="production"&&!wt(s)&&Ae("invalid props options",s);for(const d in s){const p=gn(d);if(Rv(p)){const g=s[d],v=a[p]=je(g)||Ze(g)?{type:g}:Ft({},g),w=v.type;let y=!1,x=!0;if(je(w))for(let S=0;S<w.length;++S){const R=w[S],I=Ze(R)&&R.name;if(I==="Boolean"){y=!0;break}else I==="String"&&(x=!1)}else y=Ze(w)&&w.name==="Boolean";v[0]=y,v[1]=x,(y||bt(v,"default"))&&u.push(p)}}}const f=[a,u];return wt(e)&&o.set(e,f),f}function Rv(e){return e[0]!=="$"&&!zs(e)?!0:(process.env.NODE_ENV!=="production"&&Ae(`Invalid prop name: "${e}" is a reserved property.`),!1)}function k$(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Vv(e,t,n){const o=rt(t),i=n.propsOptions[0],s=Object.keys(e).map(a=>gn(a));for(const a in i){let u=i[a];u!=null&&S$(a,o[a],u,process.env.NODE_ENV!=="production"?Co(o):o,!s.includes(a))}}function S$(e,t,n,o,i){const{type:s,required:a,validator:u,skipCheck:c}=n;if(a&&i){Ae('Missing required prop: "'+e+'"');return}if(!(t==null&&!a)){if(s!=null&&s!==!0&&!c){let f=!1;const d=je(s)?s:[s],p=[];for(let g=0;g<d.length&&!f;g++){const{valid:v,expectedType:w}=T$(t,d[g]);p.push(w||""),f=v}if(!f){Ae(I$(e,t,p));return}}u&&!u(t,o)&&Ae('Invalid prop: custom validator check failed for prop "'+e+'".')}}const O$=jo("String,Number,Boolean,Function,Symbol,BigInt");function T$(e,t){let n;const o=k$(t);if(o==="null")n=e===null;else if(O$(o)){const i=typeof e;n=i===o.toLowerCase(),!n&&i==="object"&&(n=e instanceof t)}else o==="Object"?n=wt(e):o==="Array"?n=je(e):n=e instanceof t;return{valid:n,expectedType:o}}function I$(e,t,n){if(n.length===0)return`Prop type [] for prop "${e}" won't match anything. Did you mean to use type Array instead?`;let o=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(Zi).join(" | ")}`;const i=n[0],s=ud(t),a=Lv(t,i),u=Lv(t,s);return n.length===1&&zv(i)&&!D$(i,s)&&(o+=` with value ${a}`),o+=`, got ${s} `,zv(s)&&(o+=`with value ${u}.`),o}function Lv(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function zv(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function D$(...e){return e.some(t=>t.toLowerCase()==="boolean")}const Ud=e=>e==="_"||e==="_ctx"||e==="$stable",jd=e=>je(e)?e.map(fo):[fo(e)],M$=(e,t,n)=>{if(t._n)return t;const o=Qe((...i)=>(process.env.NODE_ENV!=="production"&&rn&&!(n===null&&qt)&&!(n&&n.root!==rn.root)&&Ae(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),jd(t(...i))),n);return o._c=!1,o},Bv=(e,t,n)=>{const o=e._ctx;for(const i in e){if(Ud(i))continue;const s=e[i];if(Ze(s))t[i]=M$(i,s,o);else if(s!=null){process.env.NODE_ENV!=="production"&&Ae(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const a=jd(s);t[i]=()=>a}}},Fv=(e,t)=>{process.env.NODE_ENV!=="production"&&!oa(e.vnode)&&Ae("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=jd(t);e.slots.default=()=>n},Gd=(e,t,n)=>{for(const o in t)(n||!Ud(o))&&(e[o]=t[o])},A$=(e,t,n)=>{const o=e.slots=Dv();if(e.vnode.shapeFlag&32){const i=t._;i?(Gd(o,t,n),n&&_l(o,"_",i,!0)):Bv(t,o)}else t&&Fv(e,t)},P$=(e,t,n)=>{const{vnode:o,slots:i}=e;let s=!0,a=Ct;if(o.shapeFlag&32){const u=t._;u?process.env.NODE_ENV!=="production"&&lo?(Gd(i,t,n),No(e,"set","$slots")):n&&u===1?s=!1:Gd(i,t,n):(s=!t.$stable,Bv(t,i)),a=t}else t&&(Fv(e,t),a={default:1});if(s)for(const u in i)!Ud(u)&&a[u]==null&&delete i[u]};let ra,Zo;function Jr(e,t){e.appContext.config.performance&&Gl()&&Zo.mark(`vue-${t}-${e.uid}`),process.env.NODE_ENV!=="production"&&Zx(e,t,Gl()?Zo.now():Date.now())}function Qr(e,t){if(e.appContext.config.performance&&Gl()){const n=`vue-${t}-${e.uid}`,o=n+":end",i=`<${Ql(e,e.type)}> ${t}`;Zo.mark(o),Zo.measure(i,n,o),Zo.clearMeasures(i),Zo.clearMarks(n),Zo.clearMarks(o)}process.env.NODE_ENV!=="production"&&Jx(e,t,Gl()?Zo.now():Date.now())}function Gl(){return ra!==void 0||(typeof window<"u"&&window.performance?(ra=!0,Zo=window.performance):ra=!1),ra}function R$(){const e=[];if(process.env.NODE_ENV!=="production"&&e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const yn=Z$;function V$(e){return L$(e)}function L$(e,t){R$();const n=Bs();n.__VUE__=!0,process.env.NODE_ENV!=="production"&&Td(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:o,remove:i,patchProp:s,createElement:a,createText:u,createComment:c,setText:f,setElementText:d,parentNode:p,nextSibling:g,setScopeId:v=Zt,insertStaticContent:w}=e,y=(k,E,C,F=null,A=null,ee=null,ce=void 0,he=null,se=process.env.NODE_ENV!=="production"&&lo?!1:!!E.dynamicChildren)=>{if(k===E)return;k&&!cr(k,E)&&(F=ye(k),Ee(k,A,ee,!0),k=null),E.patchFlag===-2&&(se=!1,E.dynamicChildren=null);const{type:de,ref:De,shapeFlag:Se}=E;switch(de){case es:x(k,E,C,F);break;case jt:S(k,E,C,F);break;case Yl:k==null?R(E,C,F,ce):process.env.NODE_ENV!=="production"&&I(k,E,C,ce);break;case Fe:Z(k,E,C,F,A,ee,ce,he,se);break;default:Se&1?V(k,E,C,F,A,ee,ce,he,se):Se&6?N(k,E,C,F,A,ee,ce,he,se):Se&64||Se&128?de.process(k,E,C,F,A,ee,ce,he,se,we):process.env.NODE_ENV!=="production"&&Ae("Invalid VNode type:",de,`(${typeof de})`)}De!=null&&A?na(De,k&&k.ref,ee,E||k,!E):De==null&&k&&k.ref!=null&&na(k.ref,null,ee,k,!0)},x=(k,E,C,F)=>{if(k==null)o(E.el=u(E.children),C,F);else{const A=E.el=k.el;E.children!==k.children&&f(A,E.children)}},S=(k,E,C,F)=>{k==null?o(E.el=c(E.children||""),C,F):E.el=k.el},R=(k,E,C,F)=>{[k.el,k.anchor]=w(k.children,E,C,F,k.el,k.anchor)},I=(k,E,C,F)=>{if(E.children!==k.children){const A=g(k.anchor);U(k),[E.el,E.anchor]=w(E.children,C,A,F)}else E.el=k.el,E.anchor=k.anchor},L=({el:k,anchor:E},C,F)=>{let A;for(;k&&k!==E;)A=g(k),o(k,C,F),k=A;o(E,C,F)},U=({el:k,anchor:E})=>{let C;for(;k&&k!==E;)C=g(k),i(k),k=C;i(E)},V=(k,E,C,F,A,ee,ce,he,se)=>{E.type==="svg"?ce="svg":E.type==="math"&&(ce="mathml"),k==null?G(E,C,F,A,ee,ce,he,se):W(k,E,A,ee,ce,he,se)},G=(k,E,C,F,A,ee,ce,he)=>{let se,de;const{props:De,shapeFlag:Se,transition:Pe,dirs:qe}=k;if(se=k.el=a(k.type,ee,De&&De.is,De),Se&8?d(se,k.children):Se&16&&T(k.children,se,null,F,A,Wd(k,ee),ce,he),qe&&ir(k,null,F,"created"),q(se,k,k.scopeId,ce,F),De){for(const vt in De)vt!=="value"&&!zs(vt)&&s(se,vt,null,De[vt],ee,F);"value"in De&&s(se,"value",null,De.value,ee),(de=De.onVnodeBeforeMount)&&To(de,F,k)}process.env.NODE_ENV!=="production"&&(_l(se,"__vnode",k,!0),_l(se,"__vueParentComponent",F,!0)),qe&&ir(k,null,F,"beforeMount");const ot=z$(A,Pe);ot&&Pe.beforeEnter(se),o(se,E,C),((de=De&&De.onVnodeMounted)||ot||qe)&&yn(()=>{de&&To(de,F,k),ot&&Pe.enter(se),qe&&ir(k,null,F,"mounted")},A)},q=(k,E,C,F,A)=>{if(C&&v(k,C),F)for(let ee=0;ee<F.length;ee++)v(k,F[ee]);if(A){let ee=A.subTree;if(process.env.NODE_ENV!=="production"&&ee.patchFlag>0&&ee.patchFlag&2048&&(ee=Xd(ee.children)||ee),E===ee||Xv(ee.type)&&(ee.ssContent===E||ee.ssFallback===E)){const ce=A.vnode;q(k,ce,ce.scopeId,ce.slotScopeIds,A.parent)}}},T=(k,E,C,F,A,ee,ce,he,se=0)=>{for(let de=se;de<k.length;de++){const De=k[de]=he?$i(k[de]):fo(k[de]);y(null,De,E,C,F,A,ee,ce,he)}},W=(k,E,C,F,A,ee,ce)=>{const he=E.el=k.el;process.env.NODE_ENV!=="production"&&(he.__vnode=E);let{patchFlag:se,dynamicChildren:de,dirs:De}=E;se|=k.patchFlag&16;const Se=k.props||Ct,Pe=E.props||Ct;let qe;if(C&&ur(C,!1),(qe=Pe.onVnodeBeforeUpdate)&&To(qe,C,E,k),De&&ir(E,k,C,"beforeUpdate"),C&&ur(C,!0),process.env.NODE_ENV!=="production"&&lo&&(se=0,ce=!1,de=null),(Se.innerHTML&&Pe.innerHTML==null||Se.textContent&&Pe.textContent==null)&&d(he,""),de?(J(k.dynamicChildren,de,he,C,F,Wd(E,A),ee),process.env.NODE_ENV!=="production"&&sa(k,E)):ce||fe(k,E,he,null,C,F,Wd(E,A),ee,!1),se>0){if(se&16)B(he,Se,Pe,C,A);else if(se&2&&Se.class!==Pe.class&&s(he,"class",null,Pe.class,A),se&4&&s(he,"style",Se.style,Pe.style,A),se&8){const ot=E.dynamicProps;for(let vt=0;vt<ot.length;vt++){const _t=ot[vt],sn=Se[_t],an=Pe[_t];(an!==sn||_t==="value")&&s(he,_t,sn,an,A,C)}}se&1&&k.children!==E.children&&d(he,E.children)}else!ce&&de==null&&B(he,Se,Pe,C,A);((qe=Pe.onVnodeUpdated)||De)&&yn(()=>{qe&&To(qe,C,E,k),De&&ir(E,k,C,"updated")},F)},J=(k,E,C,F,A,ee,ce)=>{for(let he=0;he<E.length;he++){const se=k[he],de=E[he],De=se.el&&(se.type===Fe||!cr(se,de)||se.shapeFlag&198)?p(se.el):C;y(se,de,De,null,F,A,ee,ce,!0)}},B=(k,E,C,F,A)=>{if(E!==C){if(E!==Ct)for(const ee in E)!zs(ee)&&!(ee in C)&&s(k,ee,E[ee],null,A,F);for(const ee in C){if(zs(ee))continue;const ce=C[ee],he=E[ee];ce!==he&&ee!=="value"&&s(k,ee,he,ce,A,F)}"value"in C&&s(k,"value",E.value,C.value,A)}},Z=(k,E,C,F,A,ee,ce,he,se)=>{const de=E.el=k?k.el:u(""),De=E.anchor=k?k.anchor:u("");let{patchFlag:Se,dynamicChildren:Pe,slotScopeIds:qe}=E;process.env.NODE_ENV!=="production"&&(lo||Se&2048)&&(Se=0,se=!1,Pe=null),qe&&(he=he?he.concat(qe):qe),k==null?(o(de,C,F),o(De,C,F),T(E.children||[],C,De,A,ee,ce,he,se)):Se>0&&Se&64&&Pe&&k.dynamicChildren?(J(k.dynamicChildren,Pe,C,A,ee,ce,he),process.env.NODE_ENV!=="production"?sa(k,E):(E.key!=null||A&&E===A.subTree)&&sa(k,E,!0)):fe(k,E,C,De,A,ee,ce,he,se)},N=(k,E,C,F,A,ee,ce,he,se)=>{E.slotScopeIds=he,k==null?E.shapeFlag&512?A.ctx.activate(E,C,F,ce,se):Q(E,C,F,A,ee,ce,se):j(k,E,se)},Q=(k,E,C,F,A,ee,ce)=>{const he=k.component=nN(k,F,A);if(process.env.NODE_ENV!=="production"&&he.type.__hmrId&&Hx(he),process.env.NODE_ENV!=="production"&&(Il(k),Jr(he,"mount")),oa(k)&&(he.ctx.renderer=we),process.env.NODE_ENV!=="production"&&Jr(he,"init"),iN(he,!1,ce),process.env.NODE_ENV!=="production"&&Qr(he,"init"),process.env.NODE_ENV!=="production"&&lo&&(k.el=null),he.asyncDep){if(A&&A.registerDep(he,ne,ce),!k.el){const se=he.subTree=pe(jt);S(null,se,E,C),k.placeholder=se.el}}else ne(he,k,E,C,A,ee,ce);process.env.NODE_ENV!=="production"&&(Dl(),Qr(he,"mount"))},j=(k,E,C)=>{const F=E.component=k.component;if(K$(k,E,C))if(F.asyncDep&&!F.asyncResolved){process.env.NODE_ENV!=="production"&&Il(E),Y(F,E,C),process.env.NODE_ENV!=="production"&&Dl();return}else F.next=E,F.update();else E.el=k.el,F.vnode=E},ne=(k,E,C,F,A,ee,ce)=>{const he=()=>{if(k.isMounted){let{next:Se,bu:Pe,u:qe,parent:ot,vnode:vt}=k;{const Tn=Hv(k);if(Tn){Se&&(Se.el=vt.el,Y(k,Se,ce)),Tn.asyncDep.then(()=>{k.isUnmounted||he()});return}}let _t=Se,sn;process.env.NODE_ENV!=="production"&&Il(Se||k.vnode),ur(k,!1),Se?(Se.el=vt.el,Y(k,Se,ce)):Se=vt,Pe&&Fr(Pe),(sn=Se.props&&Se.props.onVnodeBeforeUpdate)&&To(sn,ot,Se,vt),ur(k,!0),process.env.NODE_ENV!=="production"&&Jr(k,"render");const an=Wv(k);process.env.NODE_ENV!=="production"&&Qr(k,"render");const On=k.subTree;k.subTree=an,process.env.NODE_ENV!=="production"&&Jr(k,"patch"),y(On,an,p(On.el),ye(On),k,A,ee),process.env.NODE_ENV!=="production"&&Qr(k,"patch"),Se.el=an.el,_t===null&&X$(k,an.el),qe&&yn(qe,A),(sn=Se.props&&Se.props.onVnodeUpdated)&&yn(()=>To(sn,ot,Se,vt),A),process.env.NODE_ENV!=="production"&&qg(k),process.env.NODE_ENV!=="production"&&Dl()}else{let Se;const{el:Pe,props:qe}=E,{bm:ot,m:vt,parent:_t,root:sn,type:an}=k,On=qr(E);ur(k,!1),ot&&Fr(ot),!On&&(Se=qe&&qe.onVnodeBeforeMount)&&To(Se,_t,E),ur(k,!0);{sn.ce&&sn.ce._def.shadowRoot!==!1&&sn.ce._injectChildStyle(an),process.env.NODE_ENV!=="production"&&Jr(k,"render");const Tn=k.subTree=Wv(k);process.env.NODE_ENV!=="production"&&Qr(k,"render"),process.env.NODE_ENV!=="production"&&Jr(k,"patch"),y(null,Tn,C,F,k,A,ee),process.env.NODE_ENV!=="production"&&Qr(k,"patch"),E.el=Tn.el}if(vt&&yn(vt,A),!On&&(Se=qe&&qe.onVnodeMounted)){const Tn=E;yn(()=>To(Se,_t,Tn),A)}(E.shapeFlag&256||_t&&qr(_t.vnode)&&_t.vnode.shapeFlag&256)&&k.a&&yn(k.a,A),k.isMounted=!0,process.env.NODE_ENV!=="production"&&Yx(k),E=C=F=null}};k.scope.on();const se=k.effect=new gg(he);k.scope.off();const de=k.update=se.run.bind(se),De=k.job=se.runIfDirty.bind(se);De.i=k,De.id=k.uid,se.scheduler=()=>Al(De),ur(k,!0),process.env.NODE_ENV!=="production"&&(se.onTrack=k.rtc?Se=>Fr(k.rtc,Se):void 0,se.onTrigger=k.rtg?Se=>Fr(k.rtg,Se):void 0),de()},Y=(k,E,C)=>{E.component=k;const F=k.vnode.props;k.vnode=E,k.next=null,N$(k,E.props,F,C),P$(k,E.children,C),ro(),Hg(k),so()},fe=(k,E,C,F,A,ee,ce,he,se=!1)=>{const de=k&&k.children,De=k?k.shapeFlag:0,Se=E.children,{patchFlag:Pe,shapeFlag:qe}=E;if(Pe>0){if(Pe&128){te(de,Se,C,F,A,ee,ce,he,se);return}else if(Pe&256){oe(de,Se,C,F,A,ee,ce,he,se);return}}qe&8?(De&16&&re(de,A,ee),Se!==de&&d(C,Se)):De&16?qe&16?te(de,Se,C,F,A,ee,ce,he,se):re(de,A,ee,!0):(De&8&&d(C,""),qe&16&&T(Se,C,F,A,ee,ce,he,se))},oe=(k,E,C,F,A,ee,ce,he,se)=>{k=k||zr,E=E||zr;const de=k.length,De=E.length,Se=Math.min(de,De);let Pe;for(Pe=0;Pe<Se;Pe++){const qe=E[Pe]=se?$i(E[Pe]):fo(E[Pe]);y(k[Pe],qe,C,null,A,ee,ce,he,se)}de>De?re(k,A,ee,!0,!1,Se):T(E,C,F,A,ee,ce,he,se,Se)},te=(k,E,C,F,A,ee,ce,he,se)=>{let de=0;const De=E.length;let Se=k.length-1,Pe=De-1;for(;de<=Se&&de<=Pe;){const qe=k[de],ot=E[de]=se?$i(E[de]):fo(E[de]);if(cr(qe,ot))y(qe,ot,C,null,A,ee,ce,he,se);else break;de++}for(;de<=Se&&de<=Pe;){const qe=k[Se],ot=E[Pe]=se?$i(E[Pe]):fo(E[Pe]);if(cr(qe,ot))y(qe,ot,C,null,A,ee,ce,he,se);else break;Se--,Pe--}if(de>Se){if(de<=Pe){const qe=Pe+1,ot=qe<De?E[qe].el:F;for(;de<=Pe;)y(null,E[de]=se?$i(E[de]):fo(E[de]),C,ot,A,ee,ce,he,se),de++}}else if(de>Pe)for(;de<=Se;)Ee(k[de],A,ee,!0),de++;else{const qe=de,ot=de,vt=new Map;for(de=ot;de<=Pe;de++){const tn=E[de]=se?$i(E[de]):fo(E[de]);tn.key!=null&&(process.env.NODE_ENV!=="production"&&vt.has(tn.key)&&Ae("Duplicate keys found during update:",JSON.stringify(tn.key),"Make sure keys are unique."),vt.set(tn.key,de))}let _t,sn=0;const an=Pe-ot+1;let On=!1,Tn=0;const di=new Array(an);for(de=0;de<an;de++)di[de]=0;for(de=qe;de<=Se;de++){const tn=k[de];if(sn>=an){Ee(tn,A,ee,!0);continue}let In;if(tn.key!=null)In=vt.get(tn.key);else for(_t=ot;_t<=Pe;_t++)if(di[_t-ot]===0&&cr(tn,E[_t])){In=_t;break}In===void 0?Ee(tn,A,ee,!0):(di[In-ot]=de+1,In>=Tn?Tn=In:On=!0,y(tn,E[In],C,null,A,ee,ce,he,se),sn++)}const Es=On?B$(di):zr;for(_t=Es.length-1,de=an-1;de>=0;de--){const tn=ot+de,In=E[tn],mc=E[tn+1],_c=tn+1<De?mc.el||mc.placeholder:F;di[de]===0?y(null,In,C,_c,A,ee,ce,he,se):On&&(_t<0||de!==Es[_t]?ge(In,C,_c,2):_t--)}}},ge=(k,E,C,F,A=null)=>{const{el:ee,type:ce,transition:he,children:se,shapeFlag:de}=k;if(de&6){ge(k.component.subTree,E,C,F);return}if(de&128){k.suspense.move(E,C,F);return}if(de&64){ce.move(k,E,C,we);return}if(ce===Fe){o(ee,E,C);for(let Se=0;Se<se.length;Se++)ge(se[Se],E,C,F);o(k.anchor,E,C);return}if(ce===Yl){L(k,E,C);return}if(F!==2&&de&1&&he)if(F===0)he.beforeEnter(ee),o(ee,E,C),yn(()=>he.enter(ee),A);else{const{leave:Se,delayLeave:Pe,afterLeave:qe}=he,ot=()=>{k.ctx.isUnmounted?i(ee):o(ee,E,C)},vt=()=>{ee._isLeaving&&ee[Yo](!0),Se(ee,()=>{ot(),qe&&qe()})};Pe?Pe(ee,ot,vt):vt()}else o(ee,E,C)},Ee=(k,E,C,F=!1,A=!1)=>{const{type:ee,props:ce,ref:he,children:se,dynamicChildren:de,shapeFlag:De,patchFlag:Se,dirs:Pe,cacheIndex:qe}=k;if(Se===-2&&(A=!1),he!=null&&(ro(),na(he,null,C,k,!0),so()),qe!=null&&(E.renderCache[qe]=void 0),De&256){E.ctx.deactivate(k);return}const ot=De&1&&Pe,vt=!qr(k);let _t;if(vt&&(_t=ce&&ce.onVnodeBeforeUnmount)&&To(_t,E,k),De&6)Ne(k.component,C,F);else{if(De&128){k.suspense.unmount(C,F);return}ot&&ir(k,null,E,"beforeUnmount"),De&64?k.type.remove(k,E,C,we,F):de&&!de.hasOnce&&(ee!==Fe||Se>0&&Se&64)?re(de,E,C,!1,!0):(ee===Fe&&Se&384||!A&&De&16)&&re(se,E,C),F&&ae(k)}(vt&&(_t=ce&&ce.onVnodeUnmounted)||ot)&&yn(()=>{_t&&To(_t,E,k),ot&&ir(k,null,E,"unmounted")},C)},ae=k=>{const{type:E,el:C,anchor:F,transition:A}=k;if(E===Fe){process.env.NODE_ENV!=="production"&&k.patchFlag>0&&k.patchFlag&2048&&A&&!A.persisted?k.children.forEach(ce=>{ce.type===jt?i(ce.el):ae(ce)}):me(C,F);return}if(E===Yl){U(k);return}const ee=()=>{i(C),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(k.shapeFlag&1&&A&&!A.persisted){const{leave:ce,delayLeave:he}=A,se=()=>ce(C,ee);he?he(k.el,ee,se):se()}else ee()},me=(k,E)=>{let C;for(;k!==E;)C=g(k),i(k),k=C;i(E)},Ne=(k,E,C)=>{process.env.NODE_ENV!=="production"&&k.type.__hmrId&&Ux(k);const{bum:F,scope:A,job:ee,subTree:ce,um:he,m:se,a:de}=k;Uv(se),Uv(de),F&&Fr(F),A.stop(),ee&&(ee.flags|=8,Ee(ce,k,E,C)),he&&yn(he,E),yn(()=>{k.isUnmounted=!0},E),process.env.NODE_ENV!=="production"&&Xx(k)},re=(k,E,C,F=!1,A=!1,ee=0)=>{for(let ce=ee;ce<k.length;ce++)Ee(k[ce],E,C,F,A)},ye=k=>{if(k.shapeFlag&6)return ye(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const E=g(k.anchor||k.el),C=E&&E[Zg];return C?g(C):E};let ve=!1;const Te=(k,E,C)=>{k==null?E._vnode&&Ee(E._vnode,null,null,!0):y(E._vnode||null,k,E,null,null,null,C),E._vnode=k,ve||(ve=!0,Hg(),Ug(),ve=!1)},we={p:y,um:Ee,m:ge,r:ae,mt:Q,mc:T,pc:fe,pbc:J,n:ye,o:e};return{render:Te,hydrate:void 0,createApp:E$(Te)}}function Wd({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ur({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function z$(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function sa(e,t,n=!1){const o=e.children,i=t.children;if(je(o)&&je(i))for(let s=0;s<o.length;s++){const a=o[s];let u=i[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[s]=$i(i[s]),u.el=a.el),!n&&u.patchFlag!==-2&&sa(a,u)),u.type===es&&u.patchFlag!==-1&&(u.el=a.el),u.type===jt&&!u.el&&(u.el=a.el),process.env.NODE_ENV!=="production"&&u.el&&(u.el.__vnode=u)}}function B$(e){const t=e.slice(),n=[0];let o,i,s,a,u;const c=e.length;for(o=0;o<c;o++){const f=e[o];if(f!==0){if(i=n[n.length-1],e[i]<f){t[o]=i,n.push(o);continue}for(s=0,a=n.length-1;s<a;)u=s+a>>1,e[n[u]]<f?s=u+1:a=u;f<e[n[s]]&&(s>0&&(t[o]=n[s-1]),n[s]=o)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}function Hv(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Hv(t)}function Uv(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const F$=Symbol.for("v-scx"),H$=()=>{{const e=Yt(F$);return e||process.env.NODE_ENV!=="production"&&Ae("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function qd(e,t){return Yd(e,null,t)}function Le(e,t,n){return process.env.NODE_ENV!=="production"&&!Ze(t)&&Ae("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Yd(e,t,n)}function Yd(e,t,n=Ct){const{immediate:o,deep:i,flush:s,once:a}=n;process.env.NODE_ENV!=="production"&&!t&&(o!==void 0&&Ae('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),i!==void 0&&Ae('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),a!==void 0&&Ae('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const u=Ft({},n);process.env.NODE_ENV!=="production"&&(u.onWarn=Ae);const c=t&&o||!t&&s!=="post";let f;if(ua){if(s==="sync"){const v=H$();f=v.__watcherHandles||(v.__watcherHandles=[])}else if(!c){const v=()=>{};return v.stop=Zt,v.resume=Zt,v.pause=Zt,v}}const d=rn;u.call=(v,w,y)=>ao(v,d,w,y);let p=!1;s==="post"?u.scheduler=v=>{yn(v,d&&d.suspense)}:s!=="sync"&&(p=!0,u.scheduler=(v,w)=>{w?v():Al(v)}),u.augmentJob=v=>{t&&(v.flags|=4),p&&(v.flags|=2,d&&(v.id=d.uid,v.i=d))};const g=Mx(e,t,u);return ua&&(f?f.push(g):c&&g()),g}function U$(e,t,n){const o=this.proxy,i=Dt(e)?e.includes(".")?jv(o,e):()=>o[e]:e.bind(o,o);let s;Ze(t)?s=t:(s=t.handler,n=t);const a=la(this),u=Yd(i,s.bind(o),n);return a(),u}function jv(e,t){const n=t.split(".");return()=>{let o=e;for(let i=0;i<n.length&&o;i++)o=o[n[i]];return o}}const j$=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${gn(t)}Modifiers`]||e[`${wi(t)}Modifiers`];function G$(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||Ct;if(process.env.NODE_ENV!=="production"){const{emitsOptions:d,propsOptions:[p]}=e;if(d)if(!(t in d))(!p||!(Ji(gn(t))in p))&&Ae(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${Ji(gn(t))}" prop.`);else{const g=d[t];Ze(g)&&(g(...n)||Ae(`Invalid event arguments: event validation failed for event "${t}".`))}}let i=n;const s=t.startsWith("update:"),a=s&&j$(o,t.slice(7));if(a&&(a.trim&&(i=n.map(d=>Dt(d)?d.trim():d)),a.number&&(i=n.map(yl))),process.env.NODE_ENV!=="production"&&Qx(e,t,i),process.env.NODE_ENV!=="production"){const d=t.toLowerCase();d!==t&&o[Ji(d)]&&Ae(`Event "${d}" is emitted in component ${Ql(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${wi(t)}" instead of "${t}".`)}let u,c=o[u=Ji(t)]||o[u=Ji(gn(t))];!c&&s&&(c=o[u=Ji(wi(t))]),c&&ao(c,e,6,i);const f=o[u+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,ao(f,e,6,i)}}const W$=new WeakMap;function Gv(e,t,n=!1){const o=n?W$:t.emitsCache,i=o.get(e);if(i!==void 0)return i;const s=e.emits;let a={},u=!1;if(!Ze(e)){const c=f=>{const d=Gv(f,t,!0);d&&(u=!0,Ft(a,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!s&&!u?(wt(e)&&o.set(e,null),null):(je(s)?s.forEach(c=>a[c]=null):Ft(a,s),wt(e)&&o.set(e,a),a)}function Wl(e,t){return!e||!Vs(t)?!1:(t=t.slice(2).replace(/Once$/,""),bt(e,t[0].toLowerCase()+t.slice(1))||bt(e,wi(t))||bt(e,t))}let Kd=!1;function ql(){Kd=!0}function Wv(e){const{type:t,vnode:n,proxy:o,withProxy:i,propsOptions:[s],slots:a,attrs:u,emit:c,render:f,renderCache:d,props:p,data:g,setupState:v,ctx:w,inheritAttrs:y}=e,x=Vl(e);let S,R;process.env.NODE_ENV!=="production"&&(Kd=!1);try{if(n.shapeFlag&4){const U=i||o,V=process.env.NODE_ENV!=="production"&&v.__isScriptSetup?new Proxy(U,{get(G,q,T){return Ae(`Property '${String(q)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(G,q,T)}}):U;S=fo(f.call(V,U,d,process.env.NODE_ENV!=="production"?Co(p):p,v,g,w)),R=u}else{const U=t;process.env.NODE_ENV!=="production"&&u===p&&ql(),S=fo(U.length>1?U(process.env.NODE_ENV!=="production"?Co(p):p,process.env.NODE_ENV!=="production"?{get attrs(){return ql(),Co(u)},slots:a,emit:c}:{attrs:u,slots:a,emit:c}):U(process.env.NODE_ENV!=="production"?Co(p):p,null)),R=t.props?u:q$(u)}}catch(U){aa.length=0,Zs(U,e,1),S=pe(jt)}let I=S,L;if(process.env.NODE_ENV!=="production"&&S.patchFlag>0&&S.patchFlag&2048&&([I,L]=qv(S)),R&&y!==!1){const U=Object.keys(R),{shapeFlag:V}=I;if(U.length){if(V&7)s&&U.some(vl)&&(R=Y$(R,s)),I=Oo(I,R,!1,!0);else if(process.env.NODE_ENV!=="production"&&!Kd&&I.type!==jt){const G=Object.keys(u),q=[],T=[];for(let W=0,J=G.length;W<J;W++){const B=G[W];Vs(B)?vl(B)||q.push(B[2].toLowerCase()+B.slice(3)):T.push(B)}T.length&&Ae(`Extraneous non-props attributes (${T.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`),q.length&&Ae(`Extraneous non-emits event listeners (${q.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(process.env.NODE_ENV!=="production"&&!Yv(I)&&Ae("Runtime directive used on component with non-element root node. The directives will not function as intended."),I=Oo(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&(process.env.NODE_ENV!=="production"&&!Yv(I)&&Ae("Component inside <Transition> renders non-element root node that cannot be animated."),sr(I,n.transition)),process.env.NODE_ENV!=="production"&&L?L(I):S=I,Vl(x),S}const qv=e=>{const t=e.children,n=e.dynamicChildren,o=Xd(t,!1);if(o){if(process.env.NODE_ENV!=="production"&&o.patchFlag>0&&o.patchFlag&2048)return qv(o)}else return[e,void 0];const i=t.indexOf(o),s=n?n.indexOf(o):-1,a=u=>{t[i]=u,n&&(s>-1?n[s]=u:u.patchFlag>0&&(e.dynamicChildren=[...n,u]))};return[fo(o),a]};function Xd(e,t=!0){let n;for(let o=0;o<e.length;o++){const i=e[o];if(xi(i)){if(i.type!==jt||i.children==="v-if"){if(n)return;if(n=i,process.env.NODE_ENV!=="production"&&t&&n.patchFlag>0&&n.patchFlag&2048)return Xd(n.children)}}else return}return n}const q$=e=>{let t;for(const n in e)(n==="class"||n==="style"||Vs(n))&&((t||(t={}))[n]=e[n]);return t},Y$=(e,t)=>{const n={};for(const o in e)(!vl(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n},Yv=e=>e.shapeFlag&7||e.type===jt;function K$(e,t,n){const{props:o,children:i,component:s}=e,{props:a,children:u,patchFlag:c}=t,f=s.emitsOptions;if(process.env.NODE_ENV!=="production"&&(i||u)&&lo||t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return o?Kv(o,a,f):!!a;if(c&8){const d=t.dynamicProps;for(let p=0;p<d.length;p++){const g=d[p];if(a[g]!==o[g]&&!Wl(f,g))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:o===a?!1:o?a?Kv(o,a,f):!0:!!a;return!1}function Kv(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let i=0;i<o.length;i++){const s=o[i];if(t[s]!==e[s]&&!Wl(n,s))return!0}return!1}function X$({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const Xv=e=>e.__isSuspense;function Z$(e,t){t&&t.pendingBranch?je(e)?t.effects.push(...e):t.effects.push(e):Fg(e)}const Fe=Symbol.for("v-fgt"),es=Symbol.for("v-txt"),jt=Symbol.for("v-cmt"),Yl=Symbol.for("v-stc"),aa=[];let bn=null;function O(e=!1){aa.push(bn=e?null:[])}function J$(){aa.pop(),bn=aa[aa.length-1]||null}let ts=1;function Kl(e,t=!1){ts+=e,e<0&&bn&&t&&(bn.hasOnce=!0)}function Zv(e){return e.dynamicChildren=ts>0?bn||zr:null,J$(),ts>0&&bn&&bn.push(e),e}function D(e,t,n,o,i,s){return Zv(m(e,t,n,o,i,s,!0))}function dt(e,t,n,o,i){return Zv(pe(e,t,n,o,i,!0))}function xi(e){return e?e.__v_isVNode===!0:!1}function cr(e,t){if(process.env.NODE_ENV!=="production"&&t.shapeFlag&6&&e.component){const n=Pl.get(t.type);if(n&&n.has(e.component))return e.shapeFlag&=-257,t.shapeFlag&=-513,!1}return e.type===t.type&&e.key===t.key}const Q$=(...e)=>Qv(...e),Jv=({key:e})=>e??null,Xl=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Dt(e)||Vt(e)||Ze(e)?{i:qt,r:e,k:t,f:!!n}:e:null);function m(e,t=null,n=null,o=0,i=null,s=e===Fe?0:1,a=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Jv(t),ref:t&&Xl(t),scopeId:Kg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qt};return u?(Jd(c,n),s&128&&e.normalize(c)):n&&(c.shapeFlag|=Dt(n)?8:16),process.env.NODE_ENV!=="production"&&c.key!==c.key&&Ae("VNode created with invalid key (NaN). VNode type:",c.type),ts>0&&!a&&bn&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&bn.push(c),c}const pe=process.env.NODE_ENV!=="production"?Q$:Qv;function Qv(e,t=null,n=null,o=0,i=null,s=!1){if((!e||e===_v)&&(process.env.NODE_ENV!=="production"&&!e&&Ae(`Invalid vnode type when creating vnode: ${e}.`),e=jt),xi(e)){const u=Oo(e,t,!0);return n&&Jd(u,n),ts>0&&!s&&bn&&(u.shapeFlag&6?bn[bn.indexOf(e)]=u:bn.push(u)),u.patchFlag=-2,u}if(am(e)&&(e=e.__vccOpts),t){t=Zd(t);let{class:u,style:c}=t;u&&!Dt(u)&&(t.class=Be(u)),wt(c)&&(Ys(c)&&!je(c)&&(c=Ft({},c)),t.style=Me(c))}const a=Dt(e)?1:Xv(e)?128:Jg(e)?64:wt(e)?4:Ze(e)?2:0;return process.env.NODE_ENV!=="production"&&a&4&&Ys(e)&&(e=rt(e),Ae("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),m(e,t,n,o,i,a,s,!0)}function Zd(e){return e?Ys(e)||Mv(e)?Ft({},e):e:null}function Oo(e,t,n=!1,o=!1){const{props:i,ref:s,patchFlag:a,children:u,transition:c}=e,f=t?dr(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Jv(f),ref:t&&t.ref?n&&s?je(s)?s.concat(Xl(t)):[s,Xl(t)]:Xl(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:process.env.NODE_ENV!=="production"&&a===-1&&je(u)?u.map(em):u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fe?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Oo(e.ssContent),ssFallback:e.ssFallback&&Oo(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&o&&sr(d,c.clone(d)),d}function em(e){const t=Oo(e);return je(e.children)&&(t.children=e.children.map(em)),t}function Ue(e=" ",t=0){return pe(es,null,e,t)}function _e(e="",t=!1){return t?(O(),dt(jt,null,e)):pe(jt,null,e)}function fo(e){return e==null||typeof e=="boolean"?pe(jt):je(e)?pe(Fe,null,e.slice()):xi(e)?$i(e):pe(es,null,String(e))}function $i(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Oo(e)}function Jd(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(je(t))n=16;else if(typeof t=="object")if(o&65){const i=t.default;i&&(i._c&&(i._d=!1),Jd(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!Mv(t)?t._ctx=qt:i===3&&qt&&(qt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ze(t)?(t={default:t,_ctx:qt},n=32):(t=String(t),o&64?(n=16,t=[Ue(t)]):n=8);e.children=t,e.shapeFlag|=n}function dr(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const i in o)if(i==="class")t.class!==o.class&&(t.class=Be([t.class,o.class]));else if(i==="style")t.style=Me([t.style,o.style]);else if(Vs(i)){const s=t[i],a=o[i];a&&s!==a&&!(je(s)&&s.includes(a))&&(t[i]=s?[].concat(s,a):a)}else i!==""&&(t[i]=o[i])}return t}function To(e,t,n,o=null){ao(e,t,7,[n,o])}const eN=Tv();let tN=0;function nN(e,t,n){const o=e.type,i=(t?t.appContext:e.appContext)||eN,s={uid:tN++,vnode:e,type:o,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new hg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pv(o,i),emitsOptions:Gv(o,i),emit:null,emitted:null,propsDefaults:Ct,inheritAttrs:o.inheritAttrs,ctx:Ct,data:Ct,props:Ct,attrs:Ct,slots:Ct,refs:Ct,setupState:Ct,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return process.env.NODE_ENV!=="production"?s.ctx=d$(s):s.ctx={_:s},s.root=t?t.root:s,s.emit=G$.bind(null,s),e.ce&&e.ce(s),s}let rn=null;const $n=()=>rn||qt;let Zl,Qd;{const e=Bs(),t=(n,o)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(o),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};Zl=t("__VUE_INSTANCE_SETTERS__",n=>rn=n),Qd=t("__VUE_SSR_SETTERS__",n=>ua=n)}const la=e=>{const t=rn;return Zl(e),e.scope.on(),()=>{e.scope.off(),Zl(t)}},tm=()=>{rn&&rn.scope.off(),Zl(null)},oN=jo("slot,component");function ef(e,{isNativeTag:t}){(oN(e)||t(e))&&Ae("Do not use built-in or reserved HTML elements as component id: "+e)}function nm(e){return e.vnode.shapeFlag&4}let ua=!1;function iN(e,t=!1,n=!1){t&&Qd(t);const{props:o,children:i}=e.vnode,s=nm(e);x$(e,o,s,t),A$(e,i,n||t);const a=s?rN(e,t):void 0;return t&&Qd(!1),a}function rN(e,t){var n;const o=e.type;if(process.env.NODE_ENV!=="production"){if(o.name&&ef(o.name,e.appContext.config),o.components){const s=Object.keys(o.components);for(let a=0;a<s.length;a++)ef(s[a],e.appContext.config)}if(o.directives){const s=Object.keys(o.directives);for(let a=0;a<s.length;a++)Xg(s[a])}o.compilerOptions&&sN()&&Ae('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,wv),process.env.NODE_ENV!=="production"&&f$(e);const{setup:i}=o;if(i){ro();const s=e.setupContext=i.length>1?sm(e):null,a=la(e),u=jr(i,e,0,[process.env.NODE_ENV!=="production"?Co(e.props):e.props,s]),c=ld(u);if(so(),a(),(c||e.sp)&&!qr(e)&&cv(e),c){if(u.then(tm,tm),t)return u.then(f=>{om(e,f,t)}).catch(f=>{Zs(f,e,0)});if(e.asyncDep=u,process.env.NODE_ENV!=="production"&&!e.suspense){const f=(n=o.name)!=null?n:"Anonymous";Ae(`Component <${f}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else om(e,u,t)}else im(e,t)}function om(e,t,n){Ze(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:wt(t)?(process.env.NODE_ENV!=="production"&&xi(t)&&Ae("setup() should not return VNodes directly - return a render function instead."),process.env.NODE_ENV!=="production"&&(e.devtoolsRawSetupState=t),e.setupState=Rg(t),process.env.NODE_ENV!=="production"&&p$(e)):process.env.NODE_ENV!=="production"&&t!==void 0&&Ae(`setup() should return an object. Received: ${t===null?"null":typeof t}`),im(e,n)}const sN=()=>!0;function im(e,t,n){const o=e.type;e.render||(e.render=o.render||Zt);{const i=la(e);ro();try{v$(e)}finally{so(),i()}}process.env.NODE_ENV!=="production"&&!o.render&&e.render===Zt&&!t&&(o.template?Ae('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):Ae("Component is missing template or render function: ",o))}const rm=process.env.NODE_ENV!=="production"?{get(e,t){return ql(),Jt(e,"get",""),e[t]},set(){return Ae("setupContext.attrs is readonly."),!1},deleteProperty(){return Ae("setupContext.attrs is readonly."),!1}}:{get(e,t){return Jt(e,"get",""),e[t]}};function aN(e){return new Proxy(e.slots,{get(t,n){return Jt(e,"get","$slots"),t[n]}})}function sm(e){const t=n=>{if(process.env.NODE_ENV!=="production"&&(e.exposed&&Ae("expose() should be called only once per setup()."),n!=null)){let o=typeof n;o==="object"&&(je(n)?o="array":Vt(n)&&(o="ref")),o!=="object"&&Ae(`expose() should be passed a plain object, received ${o}.`)}e.exposed=n||{}};if(process.env.NODE_ENV!=="production"){let n,o;return Object.freeze({get attrs(){return n||(n=new Proxy(e.attrs,rm))},get slots(){return o||(o=aN(e))},get emit(){return(i,...s)=>e.emit(i,...s)},expose:t})}else return{attrs:new Proxy(e.attrs,rm),slots:e.slots,emit:e.emit,expose:t}}function Jl(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Rg(Ks(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in lr)return lr[n](e)},has(t,n){return n in t||n in lr}})):e.proxy}const lN=/(?:^|[-_])\w/g,uN=e=>e.replace(lN,t=>t.toUpperCase()).replace(/[-_]/g,"");function tf(e,t=!0){return Ze(e)?e.displayName||e.name:e.name||t&&e.__name}function Ql(e,t,n=!1){let o=tf(t);if(!o&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(o=i[1])}if(!o&&e&&e.parent){const i=s=>{for(const a in s)if(s[a]===t)return a};o=i(e.components||e.parent.type.components)||i(e.appContext.components)}return o?uN(o):n?"App":"Anonymous"}function am(e){return Ze(e)&&"__vccOpts"in e}const $e=(e,t)=>{const n=Ix(e,t,ua);if(process.env.NODE_ENV!=="production"){const o=$n();o&&o.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function xt(e,t,n){const o=(s,a,u)=>{Kl(-1);try{return pe(s,a,u)}finally{Kl(1)}},i=arguments.length;return i===2?wt(t)&&!je(t)?xi(t)?o(e,null,[t]):o(e,t):o(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&xi(n)&&(n=[n]),o(e,t,n))}function cN(){if(process.env.NODE_ENV==="production"||typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#1677ff"},n={style:"color:#f5222d"},o={style:"color:#eb2f96"},i={__vue_custom_formatter:!0,header(p){if(!wt(p))return null;if(p.__isVue)return["div",e,"VueInstance"];if(Vt(p)){ro();const g=p.value;return so(),["div",{},["span",e,d(p)],"<",u(g),">"]}else{if(er(p))return["div",{},["span",e,vn(p)?"ShallowReactive":"Reactive"],"<",u(p),`>${ko(p)?" (readonly)":""}`];if(ko(p))return["div",{},["span",e,vn(p)?"ShallowReadonly":"Readonly"],"<",u(p),">"]}return null},hasBody(p){return p&&p.__isVue},body(p){if(p&&p.__isVue)return["div",{},...s(p.$)]}};function s(p){const g=[];p.type.props&&p.props&&g.push(a("props",rt(p.props))),p.setupState!==Ct&&g.push(a("setup",p.setupState)),p.data!==Ct&&g.push(a("data",rt(p.data)));const v=c(p,"computed");v&&g.push(a("computed",v));const w=c(p,"inject");return w&&g.push(a("injected",w)),g.push(["div",{},["span",{style:o.style+";opacity:0.66"},"$ (internal): "],["object",{object:p}]]),g}function a(p,g){return g=Ft({},g),Object.keys(g).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},p],["div",{style:"padding-left:1.25em"},...Object.keys(g).map(v=>["div",{},["span",o,v+": "],u(g[v],!1)])]]:["span",{}]}function u(p,g=!0){return typeof p=="number"?["span",t,p]:typeof p=="string"?["span",n,JSON.stringify(p)]:typeof p=="boolean"?["span",o,p]:wt(p)?["object",{object:g?rt(p):p}]:["span",n,String(p)]}function c(p,g){const v=p.type;if(Ze(v))return;const w={};for(const y in p.ctx)f(v,y,g)&&(w[y]=p.ctx[y]);return w}function f(p,g,v){const w=p[v];if(je(w)&&w.includes(g)||wt(w)&&g in w||p.extends&&f(p.extends,g,v)||p.mixins&&p.mixins.some(y=>f(y,g,v)))return!0}function d(p){return vn(p)?"ShallowRef":p.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}function dN(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let o=0;o<n.length;o++)if(Go(n[o],t[o]))return!1;return ts>0&&bn&&bn.push(e),!0}const lm="3.5.21",po=process.env.NODE_ENV!=="production"?Ae:Zt;process.env.NODE_ENV,process.env.NODE_ENV;/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nf;const um=typeof window<"u"&&window.trustedTypes;if(um)try{nf=um.createPolicy("vue",{createHTML:e=>e})}catch(e){process.env.NODE_ENV!=="production"&&po(`Error creating trusted types policy: ${e}`)}const cm=nf?e=>nf.createHTML(e):e=>e,fN="http://www.w3.org/2000/svg",pN="http://www.w3.org/1998/Math/MathML",Jo=typeof document<"u"?document:null,dm=Jo&&Jo.createElement("template"),hN={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const i=t==="svg"?Jo.createElementNS(fN,e):t==="mathml"?Jo.createElementNS(pN,e):n?Jo.createElement(e,{is:n}):Jo.createElement(e);return e==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:e=>Jo.createTextNode(e),createComment:e=>Jo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Jo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,i,s){const a=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{dm.innerHTML=cm(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const u=dm.content;if(o==="svg"||o==="mathml"){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}t.insertBefore(u,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ni="transition",ca="animation",ns=Symbol("_vtc"),fm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},pm=Ft({},rv,fm),Ci=(e=>(e.displayName="Transition",e.props=pm,e))((e,{slots:t})=>xt(o$,gm(e),t)),fr=(e,t=[])=>{je(e)?e.forEach(n=>n(...t)):e&&e(...t)},hm=e=>e?je(e)?e.some(t=>t.length>1):e.length>1:!1;function gm(e){const t={};for(const B in e)B in fm||(t[B]=e[B]);if(e.css===!1)return t;const{name:n="v",type:o,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:f=a,appearToClass:d=u,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,w=gN(i),y=w&&w[0],x=w&&w[1],{onBeforeEnter:S,onEnter:R,onEnterCancelled:I,onLeave:L,onLeaveCancelled:U,onBeforeAppear:V=S,onAppear:G=R,onAppearCancelled:q=I}=t,T=(B,Z,N,Q)=>{B._enterCancelled=Q,ki(B,Z?d:u),ki(B,Z?f:a),N&&N()},W=(B,Z)=>{B._isLeaving=!1,ki(B,p),ki(B,v),ki(B,g),Z&&Z()},J=B=>(Z,N)=>{const Q=B?G:R,j=()=>T(Z,B,N);fr(Q,[Z,j]),vm(()=>{ki(Z,B?c:s),Io(Z,B?d:u),hm(Q)||mm(Z,o,y,j)})};return Ft(t,{onBeforeEnter(B){fr(S,[B]),Io(B,s),Io(B,a)},onBeforeAppear(B){fr(V,[B]),Io(B,c),Io(B,f)},onEnter:J(!1),onAppear:J(!0),onLeave(B,Z){B._isLeaving=!0;const N=()=>W(B,Z);Io(B,p),B._enterCancelled?(Io(B,g),rf()):(rf(),Io(B,g)),vm(()=>{B._isLeaving&&(ki(B,p),Io(B,v),hm(L)||mm(B,o,x,N))}),fr(L,[B,N])},onEnterCancelled(B){T(B,!1,void 0,!0),fr(I,[B])},onAppearCancelled(B){T(B,!0,void 0,!0),fr(q,[B])},onLeaveCancelled(B){W(B),fr(U,[B])}})}function gN(e){if(e==null)return null;if(wt(e))return[of(e.enter),of(e.leave)];{const t=of(e);return[t,t]}}function of(e){const t=GE(e);return process.env.NODE_ENV!=="production"&&Lx(t,"<transition> explicit duration"),t}function Io(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[ns]||(e[ns]=new Set)).add(t)}function ki(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[ns];n&&(n.delete(t),n.size||(e[ns]=void 0))}function vm(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let vN=0;function mm(e,t,n,o){const i=e._endId=++vN,s=()=>{i===e._endId&&o()};if(n!=null)return setTimeout(s,n);const{type:a,timeout:u,propCount:c}=_m(e,t);if(!a)return o();const f=a+"end";let d=0;const p=()=>{e.removeEventListener(f,g),s()},g=v=>{v.target===e&&++d>=c&&p()};setTimeout(()=>{d<c&&p()},u+1),e.addEventListener(f,g)}function _m(e,t){const n=window.getComputedStyle(e),o=w=>(n[w]||"").split(", "),i=o(`${Ni}Delay`),s=o(`${Ni}Duration`),a=ym(i,s),u=o(`${ca}Delay`),c=o(`${ca}Duration`),f=ym(u,c);let d=null,p=0,g=0;t===Ni?a>0&&(d=Ni,p=a,g=s.length):t===ca?f>0&&(d=ca,p=f,g=c.length):(p=Math.max(a,f),d=p>0?a>f?Ni:ca:null,g=d?d===Ni?s.length:c.length:0);const v=d===Ni&&/\b(?:transform|all)(?:,|$)/.test(o(`${Ni}Property`).toString());return{type:d,timeout:p,propCount:g,hasTransform:v}}function ym(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>bm(n)+bm(e[o])))}function bm(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function rf(){return document.body.offsetHeight}function mN(e,t,n){const o=e[ns];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const eu=Symbol("_vod"),wm=Symbol("_vsh"),_N={name:"show",beforeMount(e,{value:t},{transition:n}){e[eu]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):da(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),da(e,!0),o.enter(e)):o.leave(e,()=>{da(e,!1)}):da(e,t))},beforeUnmount(e,{value:t}){da(e,t)}};function da(e,t){e.style.display=t?e[eu]:"none",e[wm]=!t}const yN=Symbol(process.env.NODE_ENV!=="production"?"CSS_VAR_TEXT":""),bN=/(?:^|;)\s*display\s*:/;function wN(e,t,n){const o=e.style,i=Dt(n);let s=!1;if(n&&!i){if(t)if(Dt(t))for(const a of t.split(";")){const u=a.slice(0,a.indexOf(":")).trim();n[u]==null&&tu(o,u,"")}else for(const a in t)n[a]==null&&tu(o,a,"");for(const a in n)a==="display"&&(s=!0),tu(o,a,n[a])}else if(i){if(t!==n){const a=o[yN];a&&(n+=";"+a),o.cssText=n,s=bN.test(n)}}else t&&e.removeAttribute("style");eu in e&&(e[eu]=s?o.display:"",e[wm]&&(o.display="none"))}const EN=/[^\\];\s*$/,Em=/\s*!important$/;function tu(e,t,n){if(je(n))n.forEach(o=>tu(e,t,o));else if(n==null&&(n=""),process.env.NODE_ENV!=="production"&&EN.test(n)&&po(`Unexpected semicolon at the end of '${t}' style value: '${n}'`),t.startsWith("--"))e.setProperty(t,n);else{const o=xN(e,t);Em.test(n)?e.setProperty(wi(o),n.replace(Em,""),"important"):e[o]=n}}const xm=["Webkit","Moz","ms"],sf={};function xN(e,t){const n=sf[t];if(n)return n;let o=gn(t);if(o!=="filter"&&o in e)return sf[t]=o;o=Zi(o);for(let i=0;i<xm.length;i++){const s=xm[i]+o;if(s in e)return sf[t]=s}return t}const $m="http://www.w3.org/1999/xlink";function Nm(e,t,n,o,i,s=nx(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS($m,t.slice(6,t.length)):e.setAttributeNS($m,t,n):n==null||s&&!dg(n)?e.removeAttribute(t):e.setAttribute(t,s?"":oo(n)?String(n):n)}function Cm(e,t,n,o,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?cm(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const u=s==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(u!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=dg(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{e[t]=n}catch(u){process.env.NODE_ENV!=="production"&&!a&&po(`Failed setting prop "${t}" on <${s.toLowerCase()}>: value ${n} is invalid.`,u)}a&&e.removeAttribute(i||t)}function Si(e,t,n,o){e.addEventListener(t,n,o)}function $N(e,t,n,o){e.removeEventListener(t,n,o)}const km=Symbol("_vei");function NN(e,t,n,o,i=null){const s=e[km]||(e[km]={}),a=s[t];if(o&&a)a.value=process.env.NODE_ENV!=="production"?Om(o,t):o;else{const[u,c]=CN(t);if(o){const f=s[t]=ON(process.env.NODE_ENV!=="production"?Om(o,t):o,i);Si(e,u,f,c)}else a&&($N(e,u,a,c),s[t]=void 0)}}const Sm=/(?:Once|Passive|Capture)$/;function CN(e){let t;if(Sm.test(e)){t={};let o;for(;o=e.match(Sm);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):wi(e.slice(2)),t]}let af=0;const kN=Promise.resolve(),SN=()=>af||(kN.then(()=>af=0),af=Date.now());function ON(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;ao(TN(o,n.value),t,5,[o])};return n.value=e,n.attached=SN(),n}function Om(e,t){return Ze(e)||je(e)?e:(po(`Wrong type passed as event handler to ${t} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof e}.`),Zt)}function TN(e,t){if(je(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>i=>!i._stopped&&o&&o(i))}else return t}const Tm=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,IN=(e,t,n,o,i,s)=>{const a=i==="svg";t==="class"?mN(e,o,a):t==="style"?wN(e,n,o):Vs(t)?vl(t)||NN(e,t,n,o,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):DN(e,t,o,a))?(Cm(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Nm(e,t,o,a,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Dt(o))?Cm(e,gn(t),o,s,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Nm(e,t,o,a))};function DN(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Tm(t)&&Ze(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Tm(t)&&Dt(n)?!1:t in e}const Im=new WeakMap,Dm=new WeakMap,nu=Symbol("_moveCb"),Mm=Symbol("_enterCb"),Am=(e=>(delete e.props.mode,e))({name:"TransitionGroup",props:Ft({},pm,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=$n(),o=iv();let i,s;return mv(()=>{if(!i.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!RN(i[0].el,n.vnode.el,a)){i=[];return}i.forEach(MN),i.forEach(AN);const u=i.filter(PN);rf(),u.forEach(c=>{const f=c.el,d=f.style;Io(f,a),d.transform=d.webkitTransform=d.transitionDuration="";const p=f[nu]=g=>{g&&g.target!==f||(!g||g.propertyName.endsWith("transform"))&&(f.removeEventListener("transitionend",p),f[nu]=null,ki(f,a))};f.addEventListener("transitionend",p)}),i=[]}),()=>{const a=rt(e),u=gm(a);let c=a.tag||Fe;if(i=[],s)for(let f=0;f<s.length;f++){const d=s[f];d.el&&d.el instanceof Element&&(i.push(d),sr(d,ta(d,u,o,n)),Im.set(d,d.el.getBoundingClientRect()))}s=t.default?Ad(t.default()):[];for(let f=0;f<s.length;f++){const d=s[f];d.key!=null?sr(d,ta(d,u,o,n)):process.env.NODE_ENV!=="production"&&d.type!==es&&po("<TransitionGroup> children must be keyed.")}return pe(c,null,s)}}});function MN(e){const t=e.el;t[nu]&&t[nu](),t[Mm]&&t[Mm]()}function AN(e){Dm.set(e,e.el.getBoundingClientRect())}function PN(e){const t=Im.get(e),n=Dm.get(e),o=t.left-n.left,i=t.top-n.top;if(o||i){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${o}px,${i}px)`,s.transitionDuration="0s",e}}function RN(e,t,n){const o=e.cloneNode(),i=e[ns];i&&i.forEach(u=>{u.split(/\s+/).forEach(c=>c&&o.classList.remove(c))}),n.split(/\s+/).forEach(u=>u&&o.classList.add(u)),o.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(o);const{hasTransform:a}=_m(o);return s.removeChild(o),a}const os=e=>{const t=e.props["onUpdate:modelValue"]||!1;return je(t)?n=>Fr(t,n):t};function VN(e){e.target.composing=!0}function Pm(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Qo=Symbol("_assign"),Mt={created(e,{modifiers:{lazy:t,trim:n,number:o}},i){e[Qo]=os(i);const s=o||i.props&&i.props.type==="number";Si(e,t?"change":"input",a=>{if(a.target.composing)return;let u=e.value;n&&(u=u.trim()),s&&(u=yl(u)),e[Qo](u)}),n&&Si(e,"change",()=>{e.value=e.value.trim()}),t||(Si(e,"compositionstart",VN),Si(e,"compositionend",Pm),Si(e,"change",Pm))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:i,number:s}},a){if(e[Qo]=os(a),e.composing)return;const u=(s||e.type==="number")&&!/^0\d/.test(e.value)?yl(e.value):e.value,c=t??"";u!==c&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||i&&e.value.trim()===c)||(e.value=c))}},is={deep:!0,created(e,t,n){e[Qo]=os(n),Si(e,"change",()=>{const o=e._modelValue,i=fa(e),s=e.checked,a=e[Qo];if(je(o)){const u=fd(o,i),c=u!==-1;if(s&&!c)a(o.concat(i));else if(!s&&c){const f=[...o];f.splice(u,1),a(f)}}else if(Br(o)){const u=new Set(o);s?u.add(i):u.delete(i),a(u)}else a(Lm(e,s))})},mounted:Rm,beforeUpdate(e,t,n){e[Qo]=os(n),Rm(e,t,n)}};function Rm(e,{value:t,oldValue:n},o){e._modelValue=t;let i;if(je(t))i=fd(t,o.props.value)>-1;else if(Br(t))i=t.has(o.props.value);else{if(t===n)return;i=Fs(t,Lm(e,!0))}e.checked!==i&&(e.checked=i)}const Oi={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const i=Br(t);Si(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?yl(fa(a)):fa(a));e[Qo](e.multiple?i?new Set(s):s:s[0]),e._assigning=!0,St(()=>{e._assigning=!1})}),e[Qo]=os(o)},mounted(e,{value:t}){Vm(e,t)},beforeUpdate(e,t,n){e[Qo]=os(n)},updated(e,{value:t}){e._assigning||Vm(e,t)}};function Vm(e,t){const n=e.multiple,o=je(t);if(n&&!o&&!Br(t)){process.env.NODE_ENV!=="production"&&po(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(t).slice(8,-1)}.`);return}for(let i=0,s=e.options.length;i<s;i++){const a=e.options[i],u=fa(a);if(n)if(o){const c=typeof u;c==="string"||c==="number"?a.selected=t.some(f=>String(f)===String(u)):a.selected=fd(t,u)>-1}else a.selected=t.has(u);else if(Fs(fa(a),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}function fa(e){return"_value"in e?e._value:e.value}function Lm(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const LN=["ctrl","shift","alt","meta"],zN={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>LN.some(n=>e[`${n}Key`]&&!t.includes(n))},Xe=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=((i,...s)=>{for(let a=0;a<t.length;a++){const u=zN[t[a]];if(u&&u(i,t))return}return e(i,...s)}))},BN=Ft({patchProp:IN},hN);let zm;function FN(){return zm||(zm=V$(BN))}const HN=((...e)=>{const t=FN().createApp(...e);process.env.NODE_ENV!=="production"&&(jN(t),GN(t));const{mount:n}=t;return t.mount=o=>{const i=WN(o);if(!i)return;const s=t._component;!Ze(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=n(i,!1,UN(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t});function UN(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function jN(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>QE(t)||ex(t)||tx(t),writable:!1})}function GN(e){{const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){po("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=e.config.compilerOptions,o='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(e.config,"compilerOptions",{get(){return po(o),n},set(){po(o)}})}}function WN(e){if(Dt(e)){const t=document.querySelector(e);return process.env.NODE_ENV!=="production"&&!t&&po(`Failed to mount app: mount target selector "${e}" returned null.`),t}return process.env.NODE_ENV!=="production"&&window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&po('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}/**
* vue v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qN(){cN()}process.env.NODE_ENV!=="production"&&qN();var ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function YN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bm={},lf,Fm;function KN(){if(Fm)return lf;Fm=1;function e(n,o){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(n),s=1;s<arguments.length;s++){var a=arguments[s];if(a!=null)for(var u=Object.keys(Object(a)),c=0,f=u.length;c<f;c++){var d=u[c],p=Object.getOwnPropertyDescriptor(a,d);p!==void 0&&p.enumerable&&(i[d]=a[d])}}return i}function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}return lf={assign:e,polyfill:t},lf}var Hm;function XN(){return Hm||(Hm=1,KN().polyfill()),Bm}var uf,Um;function ZN(){if(Um)return uf;Um=1,XN();function e(o,i){var s=document.querySelector(".vue-input-autowidth-mirror-".concat(o.dataset.uuid)),a={maxWidth:"none",minWidth:"none",comfortZone:0},u=Object.assign({},a,i.value);o.style.maxWidth=u.maxWidth,o.style.minWidth=u.minWidth;var c=o.value;for(c||(c=o.placeholder||"");s.childNodes.length;)s.removeChild(s.childNodes[0]);s.appendChild(document.createTextNode(c));var f=s.scrollWidth+u.comfortZone+2;f!=o.scrollWidth&&(o.style.width="".concat(f,"px"))}var t={bind:function(i){if(i.tagName.toLocaleUpperCase()!=="INPUT")throw new Error("v-input-autowidth can only be used on input elements.");i.dataset.uuid=Math.random().toString(36).slice(-5),i.style.boxSizing="content-box"},inserted:function(i,s){var a=window.getComputedStyle(i);i.mirror=document.createElement("span"),Object.assign(i.mirror.style,{position:"absolute",top:"0",left:"0",visibility:"hidden",height:"0",overflow:"hidden",whiteSpace:"pre",fontSize:a.fontSize,fontFamily:a.fontFamily,fontWeight:a.fontWeight,fontStyle:a.fontStyle,letterSpacing:a.letterSpacing,textTransform:a.textTransform}),i.mirror.classList.add("vue-input-autowidth-mirror-".concat(i.dataset.uuid)),i.mirror.setAttribute("aria-hidden","true"),document.body.appendChild(i.mirror),e(i,s)},componentUpdated:function(i,s){e(i,s)},unbind:function(i){document.body.removeChild(i.mirror)}},n=function(i){i.directive("autowidth",t)};return typeof window<"u"&&window.Vue&&window.Vue.use(n),t.install=n,uf=t,uf}var JN=ZN();const QN=YN(JN);function eC(){return jm().__VUE_DEVTOOLS_GLOBAL_HOOK__}function jm(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const tC=typeof Proxy=="function",nC="devtools-plugin:setup",oC="plugin:settings:set";let rs,cf;function iC(){var e;return rs!==void 0||(typeof window<"u"&&window.performance?(rs=!0,cf=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(rs=!0,cf=globalThis.perf_hooks.performance):rs=!1),rs}function rC(){return iC()?cf.now():Date.now()}class sC{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const o={};if(t.settings)for(const a in t.settings){const u=t.settings[a];o[a]=u.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let s=Object.assign({},o);try{const a=localStorage.getItem(i),u=JSON.parse(a);Object.assign(s,u)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return rC()}},n&&n.on(oC,(a,u)=>{a===this.plugin.id&&this.fallbacks.setSettings(u)}),this.proxiedOn=new Proxy({},{get:(a,u)=>this.target?this.target.on[u]:(...c)=>{this.onQueue.push({method:u,args:c})}}),this.proxiedTarget=new Proxy({},{get:(a,u)=>this.target?this.target[u]:u==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(u)?(...c)=>(this.targetQueue.push({method:u,args:c,resolve:()=>{}}),this.fallbacks[u](...c)):(...c)=>new Promise(f=>{this.targetQueue.push({method:u,args:c,resolve:f})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Gm(e,t){const n=e,o=jm(),i=eC(),s=tC&&n.enableEarlyProxy;if(i&&(o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(nC,e,t);else{const a=s?new sC(n,i):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:a}),a&&t(a.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Wm="store";function We(e){return e===void 0&&(e=null),Yt(e!==null?e:Wm)}function pr(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function aC(e){return e!==null&&typeof e=="object"}function lC(e){return e&&typeof e.then=="function"}function ho(e,t){if(!e)throw new Error("[vuex] "+t)}function uC(e,t){return function(){return e(t)}}function qm(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var o=t.indexOf(e);o>-1&&t.splice(o,1)}}function Ym(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;iu(e,n,[],e._modules.root,!0),df(e,n,t)}function df(e,t,n){var o=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,a={},u={},c=hd(!0);c.run(function(){pr(s,function(f,d){a[d]=uC(f,e),u[d]=$e(function(){return a[d]()}),Object.defineProperty(e.getters,d,{get:function(){return u[d].value},enumerable:!0})})}),e._state=Ur({data:t}),e._scope=c,e.strict&&hC(e),o&&n&&e._withCommit(function(){o.data=null}),i&&i.stop()}function iu(e,t,n,o,i){var s=!n.length,a=e._modules.getNamespace(n);if(o.namespaced&&(e._modulesNamespaceMap[a]&&process.env.NODE_ENV!=="production"&&console.error("[vuex] duplicate namespace "+a+" for the namespaced module "+n.join("/")),e._modulesNamespaceMap[a]=o),!s&&!i){var u=ff(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit(function(){process.env.NODE_ENV!=="production"&&c in u&&console.warn('[vuex] state field "'+c+'" was overridden by a module with the same name at "'+n.join(".")+'"'),u[c]=o.state})}var f=o.context=cC(e,a,n);o.forEachMutation(function(d,p){var g=a+p;dC(e,g,d,f)}),o.forEachAction(function(d,p){var g=d.root?p:a+p,v=d.handler||d;fC(e,g,v,f)}),o.forEachGetter(function(d,p){var g=a+p;pC(e,g,d,f)}),o.forEachChild(function(d,p){iu(e,t,n.concat(p),d,i)})}function cC(e,t,n){var o=t==="",i={dispatch:o?e.dispatch:function(s,a,u){var c=ru(s,a,u),f=c.payload,d=c.options,p=c.type;if((!d||!d.root)&&(p=t+p,process.env.NODE_ENV!=="production"&&!e._actions[p])){console.error("[vuex] unknown local action type: "+c.type+", global type: "+p);return}return e.dispatch(p,f)},commit:o?e.commit:function(s,a,u){var c=ru(s,a,u),f=c.payload,d=c.options,p=c.type;if((!d||!d.root)&&(p=t+p,process.env.NODE_ENV!=="production"&&!e._mutations[p])){console.error("[vuex] unknown local mutation type: "+c.type+", global type: "+p);return}e.commit(p,f,d)}};return Object.defineProperties(i,{getters:{get:o?function(){return e.getters}:function(){return Km(e,t)}},state:{get:function(){return ff(e.state,n)}}}),i}function Km(e,t){if(!e._makeLocalGettersCache[t]){var n={},o=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,o)===t){var s=i.slice(o);Object.defineProperty(n,s,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function dC(e,t,n,o){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(a){n.call(e,o.state,a)})}function fC(e,t,n,o){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(a){var u=n.call(e,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:e.getters,rootState:e.state},a);return lC(u)||(u=Promise.resolve(u)),e._devtoolHook?u.catch(function(c){throw e._devtoolHook.emit("vuex:error",c),c}):u})}function pC(e,t,n,o){if(e._wrappedGetters[t]){process.env.NODE_ENV!=="production"&&console.error("[vuex] duplicate getter key: "+t);return}e._wrappedGetters[t]=function(s){return n(o.state,o.getters,s.state,s.getters)}}function hC(e){Le(function(){return e._state.data},function(){process.env.NODE_ENV!=="production"&&ho(e._committing,"do not mutate vuex store state outside mutation handlers.")},{deep:!0,flush:"sync"})}function ff(e,t){return t.reduce(function(n,o){return n[o]},e)}function ru(e,t,n){return aC(e)&&e.type&&(n=t,t=e,e=e.type),process.env.NODE_ENV!=="production"&&ho(typeof e=="string","expects string as the type, but found "+typeof e+"."),{type:e,payload:t,options:n}}var gC="vuex bindings",Xm="vuex:mutations",pf="vuex:actions",ss="vuex",vC=0;function mC(e,t){Gm({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[gC]},function(n){n.addTimelineLayer({id:Xm,label:"Vuex Mutations",color:Zm}),n.addTimelineLayer({id:pf,label:"Vuex Actions",color:Zm}),n.addInspector({id:ss,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(o){if(o.app===e&&o.inspectorId===ss)if(o.filter){var i=[];t_(i,t._modules.root,o.filter,""),o.rootNodes=i}else o.rootNodes=[e_(t._modules.root,"")]}),n.on.getInspectorState(function(o){if(o.app===e&&o.inspectorId===ss){var i=o.nodeId;Km(t,i),o.state=bC(EC(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(o){if(o.app===e&&o.inspectorId===ss){var i=o.nodeId,s=o.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),t._withCommit(function(){o.set(t._state.data,s,o.state.value)})}}),t.subscribe(function(o,i){var s={};o.payload&&(s.payload=o.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(ss),n.sendInspectorState(ss),n.addTimelineEvent({layerId:Xm,event:{time:Date.now(),title:o.type,data:s}})}),t.subscribeAction({before:function(o,i){var s={};o.payload&&(s.payload=o.payload),o._id=vC++,o._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:pf,event:{time:o._time,title:o.type,groupId:o._id,subtitle:"start",data:s}})},after:function(o,i){var s={},a=Date.now()-o._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},o.payload&&(s.payload=o.payload),s.state=i,n.addTimelineEvent({layerId:pf,event:{time:Date.now(),title:o.type,groupId:o._id,subtitle:"end",data:s}})}})})}var Zm=8702998,_C=6710886,yC=16777215,Jm={label:"namespaced",textColor:yC,backgroundColor:_C};function Qm(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function e_(e,t){return{id:t||"root",label:Qm(t),tags:e.namespaced?[Jm]:[],children:Object.keys(e._children).map(function(n){return e_(e._children[n],t+n+"/")})}}function t_(e,t,n,o){o.includes(n)&&e.push({id:o||"root",label:o.endsWith("/")?o.slice(0,o.length-1):o||"Root",tags:t.namespaced?[Jm]:[]}),Object.keys(t._children).forEach(function(i){t_(e,t._children[i],n,o+i+"/")})}function bC(e,t,n){t=n==="root"?t:t[n];var o=Object.keys(t),i={state:Object.keys(e.state).map(function(a){return{key:a,editable:!0,value:e.state[a]}})};if(o.length){var s=wC(t);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?Qm(a):a,editable:!1,value:hf(function(){return s[a]})}})}return i}function wC(e){var t={};return Object.keys(e).forEach(function(n){var o=n.split("/");if(o.length>1){var i=t,s=o.pop();o.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=hf(function(){return e[n]})}else t[n]=hf(function(){return e[n]})}),t}function EC(e,t){var n=t.split("/").filter(function(o){return o});return n.reduce(function(o,i,s){var a=o[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+t+'".');return s===n.length-1?a:a._children},t==="root"?e:e.root._children)}function hf(e){try{return e()}catch(t){return t}}var go=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var o=t.state;this.state=(typeof o=="function"?o():o)||{}},n_={namespaced:{configurable:!0}};n_.namespaced.get=function(){return!!this._rawModule.namespaced},go.prototype.addChild=function(t,n){this._children[t]=n},go.prototype.removeChild=function(t){delete this._children[t]},go.prototype.getChild=function(t){return this._children[t]},go.prototype.hasChild=function(t){return t in this._children},go.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},go.prototype.forEachChild=function(t){pr(this._children,t)},go.prototype.forEachGetter=function(t){this._rawModule.getters&&pr(this._rawModule.getters,t)},go.prototype.forEachAction=function(t){this._rawModule.actions&&pr(this._rawModule.actions,t)},go.prototype.forEachMutation=function(t){this._rawModule.mutations&&pr(this._rawModule.mutations,t)},Object.defineProperties(go.prototype,n_);var hr=function(t){this.register([],t,!1)};hr.prototype.get=function(t){return t.reduce(function(n,o){return n.getChild(o)},this.root)},hr.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(o,i){return n=n.getChild(i),o+(n.namespaced?i+"/":"")},"")},hr.prototype.update=function(t){o_([],this.root,t)},hr.prototype.register=function(t,n,o){var i=this;o===void 0&&(o=!0),process.env.NODE_ENV!=="production"&&s_(t,n);var s=new go(n,o);if(t.length===0)this.root=s;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],s)}n.modules&&pr(n.modules,function(u,c){i.register(t.concat(c),u,o)})},hr.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),o=t[t.length-1],i=n.getChild(o);if(!i){process.env.NODE_ENV!=="production"&&console.warn("[vuex] trying to unregister module '"+o+"', which is not registered");return}i.runtime&&n.removeChild(o)},hr.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),o=t[t.length-1];return n?n.hasChild(o):!1};function o_(e,t,n){if(process.env.NODE_ENV!=="production"&&s_(e,n),t.update(n),n.modules)for(var o in n.modules){if(!t.getChild(o)){process.env.NODE_ENV!=="production"&&console.warn("[vuex] trying to add a new module '"+o+"' on hot reloading, manual reload is needed");return}o_(e.concat(o),t.getChild(o),n.modules[o])}}var i_={assert:function(e){return typeof e=="function"},expected:"function"},xC={assert:function(e){return typeof e=="function"||typeof e=="object"&&typeof e.handler=="function"},expected:'function or object with "handler" function'},r_={getters:i_,mutations:i_,actions:xC};function s_(e,t){Object.keys(r_).forEach(function(n){if(t[n]){var o=r_[n];pr(t[n],function(i,s){ho(o.assert(i),$C(e,n,s,i,o.expected))})}})}function $C(e,t,n,o,i){var s=t+" should be "+i+' but "'+t+"."+n+'"';return e.length>0&&(s+=' in module "'+e.join(".")+'"'),s+=" is "+JSON.stringify(o)+".",s}function NC(e){return new Nn(e)}var Nn=function e(t){var n=this;t===void 0&&(t={}),process.env.NODE_ENV!=="production"&&(ho(typeof Promise<"u","vuex requires a Promise polyfill in this browser."),ho(this instanceof e,"store must be called with the new operator."));var o=t.plugins;o===void 0&&(o=[]);var i=t.strict;i===void 0&&(i=!1);var s=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new hr(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var a=this,u=this,c=u.dispatch,f=u.commit;this.dispatch=function(g,v){return c.call(a,g,v)},this.commit=function(g,v,w){return f.call(a,g,v,w)},this.strict=i;var d=this._modules.root.state;iu(this,d,[],this._modules.root),df(this,d),o.forEach(function(p){return p(n)})},gf={state:{configurable:!0}};Nn.prototype.install=function(t,n){t.provide(n||Wm,this),t.config.globalProperties.$store=this;var o=this._devtools!==void 0?this._devtools:process.env.NODE_ENV!=="production"||!1;o&&mC(t,this)},gf.state.get=function(){return this._state.data},gf.state.set=function(e){process.env.NODE_ENV!=="production"&&ho(!1,"use store.replaceState() to explicit replace store state.")},Nn.prototype.commit=function(t,n,o){var i=this,s=ru(t,n,o),a=s.type,u=s.payload,c=s.options,f={type:a,payload:u},d=this._mutations[a];if(!d){process.env.NODE_ENV!=="production"&&console.error("[vuex] unknown mutation type: "+a);return}this._withCommit(function(){d.forEach(function(g){g(u)})}),this._subscribers.slice().forEach(function(p){return p(f,i.state)}),process.env.NODE_ENV!=="production"&&c&&c.silent&&console.warn("[vuex] mutation type: "+a+". Silent option has been removed. Use the filter functionality in the vue-devtools")},Nn.prototype.dispatch=function(t,n){var o=this,i=ru(t,n),s=i.type,a=i.payload,u={type:s,payload:a},c=this._actions[s];if(!c){process.env.NODE_ENV!=="production"&&console.error("[vuex] unknown action type: "+s);return}try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(u,o.state)})}catch(d){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in before action subscribers: "),console.error(d))}var f=c.length>1?Promise.all(c.map(function(d){return d(a)})):c[0](a);return new Promise(function(d,p){f.then(function(g){try{o._actionSubscribers.filter(function(v){return v.after}).forEach(function(v){return v.after(u,o.state)})}catch(v){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in after action subscribers: "),console.error(v))}d(g)},function(g){try{o._actionSubscribers.filter(function(v){return v.error}).forEach(function(v){return v.error(u,o.state,g)})}catch(v){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in error action subscribers: "),console.error(v))}p(g)})})},Nn.prototype.subscribe=function(t,n){return qm(t,this._subscribers,n)},Nn.prototype.subscribeAction=function(t,n){var o=typeof t=="function"?{before:t}:t;return qm(o,this._actionSubscribers,n)},Nn.prototype.watch=function(t,n,o){var i=this;return process.env.NODE_ENV!=="production"&&ho(typeof t=="function","store.watch only accepts a function."),Le(function(){return t(i.state,i.getters)},n,Object.assign({},o))},Nn.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})},Nn.prototype.registerModule=function(t,n,o){o===void 0&&(o={}),typeof t=="string"&&(t=[t]),process.env.NODE_ENV!=="production"&&(ho(Array.isArray(t),"module path must be a string or an Array."),ho(t.length>0,"cannot register the root module by using registerModule.")),this._modules.register(t,n),iu(this,this.state,t,this._modules.get(t),o.preserveState),df(this,this.state)},Nn.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),process.env.NODE_ENV!=="production"&&ho(Array.isArray(t),"module path must be a string or an Array."),this._modules.unregister(t),this._withCommit(function(){var o=ff(n.state,t.slice(0,-1));delete o[t[t.length-1]]}),Ym(this)},Nn.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),process.env.NODE_ENV!=="production"&&ho(Array.isArray(t),"module path must be a string or an Array."),this._modules.isRegistered(t)},Nn.prototype.hotUpdate=function(t){this._modules.update(t),Ym(this,!0)},Nn.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n},Object.defineProperties(Nn.prototype,gf);function CC(){return NC({state(){return{view:"defaultView",user:null,userlist:null,learningPathID:0,contextid:0,strings:{},quizsetting:{},learningpaths:null,viewlearningpaths:null,learningpath:null,availablecourses:null,editingadding:!1,viewing:!1,editingrestriction:!1,editingpretest:!1,node:null,startnode:null,lpuserpathrelations:[],lpuserpathrelation:null,feedback:null,modules:null,version:0,lpimages:0,lastseen:null,nodecourse:0,undoNodes:[],undoEdges:[],wwwroot:""}},getters:{learningPaths(e){return e.learningpaths}},mutations:{setlearningPathID(e,t){e.learningPathID=t},setStrings(e,t){e.strings=t},setLearningpaths(e,t){e.learningpaths=t.edit,e.viewlearningpaths=t.view},setLearningpath(e,t){typeof t.json=="string"&&t.json!=""&&(t.json=JSON.parse(t.json)),e.learningpath=t},setAvailablecourses(e,t){e.availablecourses=t},setNode(e,t){e.node=t},setstartNode(e,t){e.startnode=t.startnode},updatedNode(e,t){e.node.fullname=t.fullname,e.node.description=t.description,e.node.estimate_duration=t.estimate_duration,e.node.selected_course_image=t.selected_course_image,e.node.selected_image=t.selected_image,e.learningpath.json.tree.nodes=e.learningpath.json.tree.nodes.map(n=>n.id===t.node_id?{...n,fullname:t.fullname,selected_course_image:t.selected_course_image,selected_image:t.selected_image}:n)},updatedCourseNode(e,t){e.node.course_node_id_description||(e.node.course_node_id_description={}),e.node.course_node_id_description[t.courseid]={fullname:t.fullname,description:t.description},e.learningpath.json.tree.nodes=e.learningpath.json.tree.nodes.map(n=>n.id===e.node.node_id?{...n,fullname:t.fullname,selected_course_image:t.selected_course_image,selected_image:t.selected_image}:n)},setLpUserPathRelations(e,t){e.lpuserpathrelations=t},setLpUserPathRelation(e,t){e.lpuserpathrelation=t},setLpImages(e,t){e.lpimages=t},setLastSeen(e,t){e.lastseen=t},setUndoNodes(e,t){e.undoNodes.push(t.undoNodesSet),e.undoNodes.length>3&&e.undoNodes.shift(),e.undoEdges.push(t.undoEdgesSet),e.undoEdges.length>3&&e.undoEdges.shift()},unsetUndoNodes(e){const t=e.undoNodes[e.undoNodes.length-1];e.undoNodes=e.undoNodes.slice(0,-1),e.learningpath.json.tree.nodes&&(e.learningpath.json.tree.nodes=t)},unsetUndoEdges(e){const t=e.undoEdges[e.undoEdges.length-1];e.undoEdges=e.undoEdges.slice(0,-1),e.learningpath.json.tree.edges&&(e.learningpath.json.tree.edges=t)}},actions:{setUndoNodes({commit:e},t){return new Promise(n=>{e("setUndoNodes",t),n()})},async loadLang(e){const t=document.documentElement.lang.replace(/-/g,"_");e.commit("setLang",t)},async loadComponentStrings(e){const t=document.documentElement.lang.replace(/-/g,"_"),n="local_adele/strings/"+t,o=rg.get(n);if(o)e.commit("setStrings",JSON.parse(o));else{const i={methodname:"core_get_component_strings",args:{component:"local_adele",lang:t}},s=await Lr.call([i])[0];let a={};s.forEach(u=>{a[u.stringid]=u.string}),e.commit("setStrings",a),rg.set(n,JSON.stringify(a))}},async fetchLearningpath(e){let t=null;return e.state.learningPathID==0?t={id:0,name:"",description:"",json:""}:(t=await Lt("local_adele_get_learningpath",{userid:0,learningpathid:e.state.learningPathID,contextid:e.state.contextid}),t.json!=""&&(t.json=await JSON.parse(t.json))),e.commit("setLearningpath",t),t},async fetchUserPathRelations(e){const t=await Lt("local_adele_get_user_path_relations",{userid:e.state.user,learningpathid:e.state.learningPathID,contextid:e.state.contextid});e.commit("setLpUserPathRelations",t)},async fetchUserPathRelation(e,t){const n=await Lt("local_adele_get_user_path_relation",{learningpathid:t.learningpathId,userpathid:t.userId,contextid:e.state.contextid});return e.commit("setLpUserPathRelation",n),e.commit("setLastSeen",n.last_seen_by_owner),n.json!=""&&(n.json=await JSON.parse(n.json)),n},async saveUserPathRelation(e,t){await Lt("local_adele_save_user_path_relation",{userid:e.state.user,learningpathid:e.state.learningPathID,params:JSON.stringify(t),contextid:e.state.contextid}),e.dispatch("fetchUserPathRelation",t.route),e.dispatch("fetchUserPathRelations")},async updateUserPathRelation(e,t){const n=await Lt("local_adele_update_user_path_relation",{lpuserpathid:t.lpuserpathid,contextid:e.state.contextid});e.commit("setLastSeen",n.last_seen)},async fetchLearningpaths(e){const t=await Lt("local_adele_get_learningpaths",{userid:e.state.user,learningpathid:e.state.learningPathID,contextid:e.state.contextid});e.commit("setLearningpaths",t)},async fetchAvailablecourses(e){const t=await Lt("local_adele_get_availablecourses",{userid:e.state.user,learningpathid:e.state.learningPathID,contextid:e.state.contextid});e.commit("setAvailablecourses",t)},async saveLearningpath(e,t){const n=await Lt("local_adele_save_learningpath",{userid:e.state.user,learningpathid:e.state.learningPathID,name:t.name,description:t.description,image:t.image,json:JSON.stringify(t.json),contextid:e.state.contextid});return e.dispatch("fetchLearningpaths"),n.learningpath.id},async deleteLearningpath(e,t){const n=await Lt("local_adele_delete_learningpath",{userid:e.state.user,learningpathid:t.learningpathid,contextid:e.state.contextid});return e.dispatch("fetchLearningpaths"),n.result},async duplicateLearningpath(e,t){const n=await Lt("local_adele_duplicate_learningpath",{userid:e.state.user,learningpathid:t.learningpathid,contextid:e.state.contextid});return e.dispatch("fetchLearningpaths"),n.result},async fetchCompletions(e){return await Lt("local_adele_get_completions",{contextid:e.state.contextid})},async fetchRestrictions(e){return await Lt("local_adele_get_restrictions",{contextid:e.state.contextid})},async fetchCatquizTests(e){return await Lt("local_adele_get_catquiz_tests",{contextid:e.state.contextid,availablecourses:e.state.availablecourses})},async fetchCatquizScales(e,t){return await Lt("local_adele_get_catquiz_scales",{userid:e.state.user,learningpathid:e.state.learningPathID,testid:t.testid,contextid:e.state.contextid})},async fetchCatquizParentScales(e){return await Lt("local_adele_get_catquiz_parent_scales",{contextid:e.state.contextid})},async fetchCatquizParentScale(e,t){return await Lt("local_adele_get_catquiz_parent_scale",{userid:e.state.user,learningpathid:e.state.learningPathID,sacleid:t.scaleid,contextid:e.state.contextid})},async fetchModQuizzes(e){return await Lt("local_adele_get_mod_quizzes",{contextid:e.state.contextid,availablecourses:e.state.availablecourses})},async fetchImagePaths(e){const t=await Lt("local_adele_get_image_paths",{contextid:e.state.contextid});return e.commit("setLpImages",t),t},async uploadNewLpImage(e,t){try{return await Lt("local_adele_upload_lp_image",{contextid:e.state.contextid,learningpathid:e.state.learningPathID,image:t})}catch(n){throw console.error("Error in uploadNewLpImage action:",n),n}},async getFoundUsers(e,t){return await Lt("local_adele_search_users",{query:t})},async getLpEditUsers(e,t){return await Lt("local_adele_get_lp_edit_users",{contextid:e.state.contextid,lpid:t})},createLpEditUsers(e,t){Lt("local_adele_create_lp_edit_users",{contextid:e.state.contextid,lpid:t.lpid,userid:t.userid})},removeLpEditUsers(e,t){Lt("local_adele_remove_lp_edit_users",{contextid:e.state.contextid,lpid:t.lpid,userid:t.userid})},updateLearningPathVisibility(e,t){Lt("local_adele_update_lp_visiblity",{contextid:e.state.contextid,lpid:t.lpid,visibility:t.visibility})},setNodeAnimations(e,t){Lt("local_adele_update_lp_animations",{contextid:e.state.contextid,learningpathid:e.state.learningPathID,userid:e.state.user,nodeid:t.nodeid,animations:JSON.stringify(t.animations)})}}})}async function Lt(e,t){const n={methodname:e,args:Object.assign(t)};try{return await Lr.call([n])[0]}catch(o){throw BE.exception(o),o}}(function(){var e;try{if(typeof document<"u"){var t=document.createElement("style");t.nonce=(e=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:e.content,t.appendChild(document.createTextNode(".vue-notification-group{display:block;position:fixed;z-index:5000}.vue-notification-wrapper{display:block;overflow:hidden;width:100%;margin:0;padding:0}.notification-title{font-weight:600}.vue-notification-template{display:block;box-sizing:border-box;background:#fff;text-align:left}.vue-notification{display:block;box-sizing:border-box;text-align:left;font-size:12px;padding:10px;margin:0 5px 5px;color:#fff;background:#44a4fc;border-left:5px solid #187FE7}.vue-notification.warn{background:#ffb648;border-left-color:#f48a06}.vue-notification.error{background:#e54d42;border-left-color:#b82e24}.vue-notification.success{background:#68cd86;border-left-color:#42a85f}.vn-fade-enter-active,.vn-fade-leave-active,.vn-fade-move{transition:all .5s}.vn-fade-enter-from,.vn-fade-leave-to{opacity:0}")),document.head.appendChild(t)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();const a_=new Map;function kC(e){return{all:e=e||new Map,on:function(t,n){var o=e.get(t);o?o.push(n):e.set(t,[n])},off:function(t,n){var o=e.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var o=e.get(t);o&&o.slice().map(function(i){i(n)}),(o=e.get("*"))&&o.slice().map(function(i){i(t,n)})}}}const su=kC(),vf="[-+]?[0-9]*.?[0-9]+",l_=[{name:"px",regexp:new RegExp(`^${vf}px$`)},{name:"%",regexp:new RegExp(`^${vf}%$`)},{name:"px",regexp:new RegExp(`^${vf}$`)}],SC=e=>{if(e==="auto")return{type:e,value:0};for(let t=0;t<l_.length;t++){const n=l_[t];if(n.regexp.test(e))return{type:n.name,value:parseFloat(e)}}return{type:"",value:e}},OC=e=>{switch(typeof e){case"number":return{type:"px",value:e};case"string":return SC(e);default:return{type:"",value:e}}},u_={x:new Set(["left","center","right"]),y:new Set(["top","bottom"])},TC=(e=>()=>e++)(0),IC=e=>typeof e!="string"?[]:e.split(/\s+/gi).filter(Boolean),DC=e=>{typeof e=="string"&&(e=IC(e));let t=null,n=null;return e.forEach(o=>{u_.y.has(o)&&(n=o),u_.x.has(o)&&(t=o)}),{x:t,y:n}},mf={position:["top","right"],cssAnimation:"vn-fade",velocityAnimation:{enter:e=>({height:[e.clientHeight,0],opacity:[1,0]}),leave:{height:0,opacity:[0,1]}}},MC=(e,t)=>{let n,o,i=t;const s=()=>{o=Date.now(),n=setTimeout(e,i)},a=()=>{clearTimeout(n),i-=Date.now()-o};return s(),{start:s,stop:a}};function AC(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!xi(e)}const au={IDLE:0,DESTROYED:2},PC=Et({name:"notifications",props:{group:{type:String,default:""},width:{type:[Number,String],default:300},reverse:{type:Boolean,default:!1},position:{type:[String,Array],default:()=>mf.position},classes:{type:[String,Array],default:"vue-notification"},animationType:{type:String,default:"css",validator(e){return e==="css"||e==="velocity"}},animation:{type:Object,default(){return mf.velocityAnimation}},animationName:{type:String,default:mf.cssAnimation},speed:{type:Number,default:300},duration:{type:Number,default:3e3},delay:{type:Number,default:0},max:{type:Number,default:1/0},ignoreDuplicates:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!1},dangerouslySetInnerHtml:{type:Boolean,default:!1}},emits:{click:e=>!0,destroy:e=>!0,start:e=>!0},slots:Object,setup:(e,{emit:t,slots:n,expose:o})=>{const i=X([]),s=a_.get("velocity"),a=$e(()=>e.animationType==="velocity"),u=$e(()=>i.value.filter(T=>T.state!==au.DESTROYED)),c=$e(()=>OC(e.width)),f=$e(()=>{const{x:T,y:W}=DC(e.position),J=c.value.value,B=c.value.type,Z={width:J+B};return W&&(Z[W]="0px"),T&&(T==="center"?Z.left=`calc(50% - ${+J/2}${B})`:Z[T]="0px"),Z}),d=$e(()=>a.value?{onEnter:V,onLeave:G,onAfterLeave:q}:{}),p=T=>{t("click",T),e.closeOnClick&&R(T)},g=T=>{var W;e.pauseOnHover&&((W=T.timer)==null||W.stop())},v=T=>{var W;e.pauseOnHover&&((W=T.timer)==null||W.start())},w=(T={})=>{if(T.group||(T.group=""),T.data||(T.data={}),e.group!==T.group)return;if(T.clean||T.clear){L();return}const W=typeof T.duration=="number"?T.duration:e.duration,J=typeof T.speed=="number"?T.speed:e.speed,B=typeof T.ignoreDuplicates=="boolean"?T.ignoreDuplicates:e.ignoreDuplicates,{title:Z,text:N,type:Q,data:j,id:ne}=T,Y={id:ne||TC(),title:Z,text:N,type:Q,state:au.IDLE,speed:J,length:W+2*J,data:j,duplicates:0};W>=0&&(Y.timer=MC(()=>R(Y),Y.length));const fe="bottom"in f.value,oe=e.reverse?!fe:fe;let te=-1;const ge=u.value.find(Ee=>Ee.title===T.title&&Ee.text===T.text);if(B&&ge){ge.duplicates++;return}oe?(i.value.push(Y),t("start",Y),u.value.length>e.max&&(te=0)):(i.value.unshift(Y),t("start",Y),u.value.length>e.max&&(te=u.value.length-1)),te!==-1&&R(u.value[te])},y=T=>{I(T)},x=T=>["vue-notification-template",e.classes,T.type||""],S=T=>a.value?void 0:{transition:`all ${T.speed}ms`},R=T=>{var W;(W=T.timer)==null||W.stop(),T.state=au.DESTROYED,q(),t("destroy",T)},I=T=>{const W=i.value.find(J=>J.id===T);W&&R(W)},L=()=>{u.value.forEach(R)},U=(T,W)=>{var J;const B=(J=e.animation)==null?void 0:J[T];return typeof B=="function"?B(W):B},V=(T,W)=>{const J=U("enter",T);s(T,J,{duration:e.speed,complete:W})},G=(T,W)=>{const J=U("leave",T);s(T,J,{duration:e.speed,complete:W})};function q(){i.value=i.value.filter(T=>T.state!==au.DESTROYED)}return Ke(()=>{su.on("add",w),su.on("close",y)}),()=>{let T;return pe("div",{class:"vue-notification-group",style:f.value},[pe(Am,dr(d.value,{tag:"div",css:!a.value,name:e.animationName}),AC(T=u.value.map(W=>pe("div",{key:W.id,class:"vue-notification-wrapper",style:S(W),"data-id":W.id,onMouseenter:()=>g(W),onMouseleave:()=>v(W)},[n.body?n.body({item:W,class:[e.classes,W.type],close:()=>R(W)}):pe("div",{class:x(W),onClick:()=>p(W)},[e.dangerouslySetInnerHtml?pe(Fe,null,[W.title?pe("div",{class:"notification-title",innerHTML:W.title},null):null,pe("div",{class:"notification-content",innerHTML:W.text},null)]):pe(Fe,null,[W.title?pe("div",{class:"notification-title"},[W.title]):null,pe("div",{class:"notification-content"},[W.text])])])])))?T:{default:()=>[T]})])}}}),Qt=e=>{typeof e=="string"&&(e={title:"",text:e}),typeof e=="object"&&su.emit("add",e)};Qt.close=e=>{su.emit("close",e)};const RC="Notifications";function VC(e,t={}){Object.entries(t).forEach(o=>a_.set(...o));const n=t.name||"notify";e.config.globalProperties["$"+n]=Qt,e.component(t.componentName||RC,PC)}const LC={install:VC};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ei=typeof document<"u";function c_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function zC(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&c_(e.default)}const $t=Object.assign;function _f(e,t){const n={};for(const o in t){const i=t[o];n[o]=Vn(i)?i.map(e):e(i)}return n}const pa=()=>{},Vn=Array.isArray;function at(e){const t=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+e].concat(t))}const d_=/#/g,BC=/&/g,FC=/\//g,HC=/=/g,UC=/\?/g,f_=/\+/g,jC=/%5B/g,GC=/%5D/g,p_=/%5E/g,WC=/%60/g,h_=/%7B/g,qC=/%7C/g,g_=/%7D/g,YC=/%20/g;function yf(e){return encodeURI(""+e).replace(qC,"|").replace(jC,"[").replace(GC,"]")}function KC(e){return yf(e).replace(h_,"{").replace(g_,"}").replace(p_,"^")}function bf(e){return yf(e).replace(f_,"%2B").replace(YC,"+").replace(d_,"%23").replace(BC,"%26").replace(WC,"`").replace(h_,"{").replace(g_,"}").replace(p_,"^")}function XC(e){return bf(e).replace(HC,"%3D")}function ZC(e){return yf(e).replace(d_,"%23").replace(UC,"%3F")}function JC(e){return e==null?"":ZC(e).replace(FC,"%2F")}function as(e){try{return decodeURIComponent(""+e)}catch{process.env.NODE_ENV!=="production"&&at(`Error decoding "${e}". Using original value`)}return""+e}const QC=/\/$/,ek=e=>e.replace(QC,"");function wf(e,t,n="/"){let o,i={},s="",a="";const u=t.indexOf("#");let c=t.indexOf("?");return u<c&&u>=0&&(c=-1),c>-1&&(o=t.slice(0,c),s=t.slice(c+1,u>-1?u:t.length),i=e(s)),u>-1&&(o=o||t.slice(0,u),a=t.slice(u,t.length)),o=ok(o??t,n),{fullPath:o+(s&&"?")+s+a,path:o,query:i,hash:as(a)}}function tk(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function v_(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function m_(e,t,n){const o=t.matched.length-1,i=n.matched.length-1;return o>-1&&o===i&&Ti(t.matched[o],n.matched[i])&&__(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ti(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function __(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!nk(e[n],t[n]))return!1;return!0}function nk(e,t){return Vn(e)?y_(e,t):Vn(t)?y_(t,e):e===t}function y_(e,t){return Vn(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function ok(e,t){if(e.startsWith("/"))return e;if(process.env.NODE_ENV!=="production"&&!t.startsWith("/"))return at(`Cannot resolve a relative location without an absolute path. Trying to resolve "${e}" from "${t}". It should look like "/${t}".`),e;if(!e)return t;const n=t.split("/"),o=e.split("/"),i=o[o.length-1];(i===".."||i===".")&&o.push("");let s=n.length-1,a,u;for(a=0;a<o.length;a++)if(u=o[a],u!==".")if(u==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+o.slice(a).join("/")}const Ii={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ha;(function(e){e.pop="pop",e.push="push"})(ha||(ha={}));var ga;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ga||(ga={}));function ik(e){if(!e)if(ei){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ek(e)}const rk=/^[^#]+#/;function sk(e,t){return e.replace(rk,"#")+t}function ak(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const lu=()=>({left:window.scrollX,top:window.scrollY});function lk(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#");if(process.env.NODE_ENV!=="production"&&typeof e.el=="string"&&(!o||!document.getElementById(e.el.slice(1))))try{const s=document.querySelector(e.el);if(o&&s){at(`The selector "${e.el}" should be passed as "el: document.querySelector('${e.el}')" because it starts with "#".`);return}}catch{at(`The selector "${e.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const i=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i){process.env.NODE_ENV!=="production"&&at(`Couldn't find element using selector "${e.el}" returned by scrollBehavior.`);return}t=ak(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function b_(e,t){return(history.state?history.state.position-t:-1)+e}const Ef=new Map;function uk(e,t){Ef.set(e,t)}function ck(e){const t=Ef.get(e);return Ef.delete(e),t}let dk=()=>location.protocol+"//"+location.host;function w_(e,t){const{pathname:n,search:o,hash:i}=t,s=e.indexOf("#");if(s>-1){let u=i.includes(e.slice(s))?e.slice(s).length:1,c=i.slice(u);return c[0]!=="/"&&(c="/"+c),v_(c,"")}return v_(n,e)+o+i}function fk(e,t,n,o){let i=[],s=[],a=null;const u=({state:g})=>{const v=w_(e,location),w=n.value,y=t.value;let x=0;if(g){if(n.value=v,t.value=g,a&&a===w){a=null;return}x=y?g.position-y.position:0}else o(v);i.forEach(S=>{S(n.value,w,{delta:x,type:ha.pop,direction:x?x>0?ga.forward:ga.back:ga.unknown})})};function c(){a=n.value}function f(g){i.push(g);const v=()=>{const w=i.indexOf(g);w>-1&&i.splice(w,1)};return s.push(v),v}function d(){const{history:g}=window;g.state&&g.replaceState($t({},g.state,{scroll:lu()}),"")}function p(){for(const g of s)g();s=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:f,destroy:p}}function E_(e,t,n,o=!1,i=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:i?lu():null}}function pk(e){const{history:t,location:n}=window,o={value:w_(e,n)},i={value:t.state};i.value||s(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(c,f,d){const p=e.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:dk()+e+c;try{t[d?"replaceState":"pushState"](f,"",g),i.value=f}catch(v){process.env.NODE_ENV!=="production"?at("Error with push/replace State",v):console.error(v),n[d?"replace":"assign"](g)}}function a(c,f){const d=$t({},t.state,E_(i.value.back,c,i.value.forward,!0),f,{position:i.value.position});s(c,d,!0),o.value=c}function u(c,f){const d=$t({},i.value,t.state,{forward:c,scroll:lu()});process.env.NODE_ENV!=="production"&&!t.state&&at(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://router.vuejs.org/guide/migration/#Usage-of-history-state`),s(d.current,d,!0);const p=$t({},E_(o.value,c,null),{position:d.position+1},f);s(c,p,!1),o.value=c}return{location:o,state:i,push:u,replace:a}}function hk(e){e=ik(e);const t=pk(e),n=fk(e,t.state,t.location,t.replace);function o(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=$t({location:"",base:e,go:o,createHref:sk.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function gk(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),process.env.NODE_ENV!=="production"&&!e.endsWith("#/")&&!e.endsWith("#")&&at(`A hash base must end with a "#":
"${e}" should be "${e.replace(/#.*$/,"#")}".`),hk(e)}function uu(e){return typeof e=="string"||e&&typeof e=="object"}function x_(e){return typeof e=="string"||typeof e=="symbol"}const xf=Symbol(process.env.NODE_ENV!=="production"?"navigation failure":"");var $_;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})($_||($_={}));const vk={1({location:e,currentLocation:t}){return`No match for
 ${JSON.stringify(e)}${t?`
while being at
`+JSON.stringify(t):""}`},2({from:e,to:t}){return`Redirected from "${e.fullPath}" to "${_k(t)}" via a navigation guard.`},4({from:e,to:t}){return`Navigation aborted from "${e.fullPath}" to "${t.fullPath}" via a navigation guard.`},8({from:e,to:t}){return`Navigation cancelled from "${e.fullPath}" to "${t.fullPath}" with a new navigation.`},16({from:e,to:t}){return`Avoided redundant navigation to current location: "${e.fullPath}".`}};function ls(e,t){return process.env.NODE_ENV!=="production"?$t(new Error(vk[e](t)),{type:e,[xf]:!0},t):$t(new Error,{type:e,[xf]:!0},t)}function ti(e,t){return e instanceof Error&&xf in e&&(t==null||!!(e.type&t))}const mk=["params","query","hash"];function _k(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of mk)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}const N_="[^/]+?",yk={sensitive:!1,strict:!1,start:!0,end:!0},bk=/[.+*?^${}()[\]/\\]/g;function wk(e,t){const n=$t({},yk,t),o=[];let i=n.start?"^":"";const s=[];for(const f of e){const d=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let p=0;p<f.length;p++){const g=f[p];let v=40+(n.sensitive?.25:0);if(g.type===0)p||(i+="/"),i+=g.value.replace(bk,"\\$&"),v+=40;else if(g.type===1){const{value:w,repeatable:y,optional:x,regexp:S}=g;s.push({name:w,repeatable:y,optional:x});const R=S||N_;if(R!==N_){v+=10;try{new RegExp(`(${R})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${w}" (${R}): `+L.message)}}let I=y?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;p||(I=x&&f.length<2?`(?:/${I})`:"/"+I),x&&(I+="?"),i+=I,v+=20,x&&(v+=-8),y&&(v+=-20),R===".*"&&(v+=-50)}d.push(v)}o.push(d)}if(n.strict&&n.end){const f=o.length-1;o[f][o[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function u(f){const d=f.match(a),p={};if(!d)return null;for(let g=1;g<d.length;g++){const v=d[g]||"",w=s[g-1];p[w.name]=v&&w.repeatable?v.split("/"):v}return p}function c(f){let d="",p=!1;for(const g of e){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const v of g)if(v.type===0)d+=v.value;else if(v.type===1){const{value:w,repeatable:y,optional:x}=v,S=w in f?f[w]:"";if(Vn(S)&&!y)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const R=Vn(S)?S.join("/"):S;if(!R)if(x)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${w}"`);d+=R}}return d||"/"}return{re:a,score:o,keys:s,parse:u,stringify:c}}function Ek(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function C_(e,t){let n=0;const o=e.score,i=t.score;for(;n<o.length&&n<i.length;){const s=Ek(o[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-o.length)===1){if(k_(o))return 1;if(k_(i))return-1}return i.length-o.length}function k_(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const xk={type:0,value:""},$k=/[a-zA-Z0-9_]/;function Nk(e){if(!e)return[[]];if(e==="/")return[[xk]];if(!e.startsWith("/"))throw new Error(process.env.NODE_ENV!=="production"?`Route paths should start with a "/": "${e}" should be "/${e}".`:`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${f}": ${v}`)}let n=0,o=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let u=0,c,f="",d="";function p(){f&&(n===0?s.push({type:0,value:f}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:f,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),f="")}function g(){f+=c}for(;u<e.length;){if(c=e[u++],c==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:c==="/"?(f&&p(),a()):c===":"?(p(),n=1):g();break;case 4:g(),n=o;break;case 1:c==="("?n=2:$k.test(c)?g():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&u--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=3:d+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&u--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),p(),a(),i}function Ck(e,t,n){const o=wk(Nk(e.path),n);if(process.env.NODE_ENV!=="production"){const s=new Set;for(const a of o.keys)s.has(a.name)&&at(`Found duplicated params with name "${a.name}" for path "${e.path}". Only the last one will be available on "$route.params".`),s.add(a.name)}const i=$t(o,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function kk(e,t){const n=[],o=new Map;t=I_({strict:!1,end:!0,sensitive:!1},t);function i(p){return o.get(p)}function s(p,g,v){const w=!v,y=O_(p);process.env.NODE_ENV!=="production"&&Ik(y,g),y.aliasOf=v&&v.record;const x=I_(t,p),S=[y];if("alias"in p){const L=typeof p.alias=="string"?[p.alias]:p.alias;for(const U of L)S.push(O_($t({},y,{components:v?v.record.components:y.components,path:U,aliasOf:v?v.record:y})))}let R,I;for(const L of S){const{path:U}=L;if(g&&U[0]!=="/"){const V=g.record.path,G=V[V.length-1]==="/"?"":"/";L.path=g.record.path+(U&&G+U)}if(process.env.NODE_ENV!=="production"&&L.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://router.vuejs.org/guide/migration/#Removed-star-or-catch-all-routes.`);if(R=Ck(L,g,x),process.env.NODE_ENV!=="production"&&g&&U[0]==="/"&&Mk(R,g),v?(v.alias.push(R),process.env.NODE_ENV!=="production"&&Tk(v,R)):(I=I||R,I!==R&&I.alias.push(R),w&&p.name&&!T_(R)&&(process.env.NODE_ENV!=="production"&&Dk(p,g),a(p.name))),D_(R)&&c(R),y.children){const V=y.children;for(let G=0;G<V.length;G++)s(V[G],R,v&&v.children[G])}v=v||R}return I?()=>{a(I)}:pa}function a(p){if(x_(p)){const g=o.get(p);g&&(o.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&o.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function u(){return n}function c(p){const g=Ak(p,n);n.splice(g,0,p),p.record.name&&!T_(p)&&o.set(p.record.name,p)}function f(p,g){let v,w={},y,x;if("name"in p&&p.name){if(v=o.get(p.name),!v)throw ls(1,{location:p});if(process.env.NODE_ENV!=="production"){const I=Object.keys(p.params||{}).filter(L=>!v.keys.find(U=>U.name===L));I.length&&at(`Discarded invalid param(s) "${I.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}x=v.record.name,w=$t(S_(g.params,v.keys.filter(I=>!I.optional).concat(v.parent?v.parent.keys.filter(I=>I.optional):[]).map(I=>I.name)),p.params&&S_(p.params,v.keys.map(I=>I.name))),y=v.stringify(w)}else if(p.path!=null)y=p.path,process.env.NODE_ENV!=="production"&&!y.startsWith("/")&&at(`The Matcher cannot resolve relative paths but received "${y}". Unless you directly called \`matcher.resolve("${y}")\`, this is probably a bug in vue-router. Please open an issue at https://github.com/vuejs/router/issues/new/choose.`),v=n.find(I=>I.re.test(y)),v&&(w=v.parse(y),x=v.record.name);else{if(v=g.name?o.get(g.name):n.find(I=>I.re.test(g.path)),!v)throw ls(1,{location:p,currentLocation:g});x=v.record.name,w=$t({},g.params,p.params),y=v.stringify(w)}const S=[];let R=v;for(;R;)S.unshift(R.record),R=R.parent;return{name:x,path:y,params:w,matched:S,meta:Ok(S)}}e.forEach(p=>s(p));function d(){n.length=0,o.clear()}return{addRoute:s,resolve:f,removeRoute:a,clearRoutes:d,getRoutes:u,getRecordMatcher:i}}function S_(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function O_(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Sk(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Sk(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function T_(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ok(e){return e.reduce((t,n)=>$t(t,n.meta),{})}function I_(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function $f(e,t){return e.name===t.name&&e.optional===t.optional&&e.repeatable===t.repeatable}function Tk(e,t){for(const n of e.keys)if(!n.optional&&!t.keys.find($f.bind(null,n)))return at(`Alias "${t.record.path}" and the original record: "${e.record.path}" must have the exact same param named "${n.name}"`);for(const n of t.keys)if(!n.optional&&!e.keys.find($f.bind(null,n)))return at(`Alias "${t.record.path}" and the original record: "${e.record.path}" must have the exact same param named "${n.name}"`)}function Ik(e,t){t&&t.record.name&&!e.name&&!e.path&&at(`The route named "${String(t.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function Dk(e,t){for(let n=t;n;n=n.parent)if(n.record.name===e.name)throw new Error(`A route named "${String(e.name)}" has been added as a ${t===n?"child":"descendant"} of a route with the same name. Route names must be unique and a nested route cannot use the same name as an ancestor.`)}function Mk(e,t){for(const n of t.keys)if(!e.keys.find($f.bind(null,n)))return at(`Absolute path "${e.record.path}" must have the exact same param named "${n.name}" as its parent "${t.record.path}".`)}function Ak(e,t){let n=0,o=t.length;for(;n!==o;){const s=n+o>>1;C_(e,t[s])<0?o=s:n=s+1}const i=Pk(e);return i&&(o=t.lastIndexOf(i,o-1),process.env.NODE_ENV!=="production"&&o<0&&at(`Finding ancestor route "${i.record.path}" failed for "${e.record.path}"`)),o}function Pk(e){let t=e;for(;t=t.parent;)if(D_(t)&&C_(e,t)===0)return t}function D_({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Rk(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<o.length;++i){const s=o[i].replace(f_," "),a=s.indexOf("="),u=as(a<0?s:s.slice(0,a)),c=a<0?null:as(s.slice(a+1));if(u in t){let f=t[u];Vn(f)||(f=t[u]=[f]),f.push(c)}else t[u]=c}return t}function M_(e){let t="";for(let n in e){const o=e[n];if(n=XC(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(Vn(o)?o.map(s=>s&&bf(s)):[o&&bf(o)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Vk(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=Vn(o)?o.map(i=>i==null?null:""+i):o==null?o:""+o)}return t}const A_=Symbol(process.env.NODE_ENV!=="production"?"router view location matched":""),P_=Symbol(process.env.NODE_ENV!=="production"?"router view depth":""),cu=Symbol(process.env.NODE_ENV!=="production"?"router":""),Nf=Symbol(process.env.NODE_ENV!=="production"?"route location":""),Cf=Symbol(process.env.NODE_ENV!=="production"?"router view location":"");function va(){let e=[];function t(o){return e.push(o),()=>{const i=e.indexOf(o);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Lk(e,t,n){const o=()=>{e[t].delete(n)};ar(o),hv(o),pv(()=>{e[t].add(n)}),e[t].add(n)}function zk(e){if(process.env.NODE_ENV!=="production"&&!$n()){at("getCurrentInstance() returned null. onBeforeRouteUpdate() must be called at the top of a setup function");return}const t=Yt(A_,{}).value;if(!t){process.env.NODE_ENV!=="production"&&at("No active route record was found when calling `onBeforeRouteUpdate()`. Make sure you call this function inside a component child of <router-view>. Maybe you called it inside of App.vue?");return}Lk(t,"updateGuards",e)}function Di(e,t,n,o,i,s=a=>a()){const a=o&&(o.enterCallbacks[i]=o.enterCallbacks[i]||[]);return()=>new Promise((u,c)=>{const f=g=>{g===!1?c(ls(4,{from:n,to:t})):g instanceof Error?c(g):uu(g)?c(ls(2,{from:t,to:g})):(a&&o.enterCallbacks[i]===a&&typeof g=="function"&&a.push(g),u())},d=s(()=>e.call(o&&o.instances[i],t,n,process.env.NODE_ENV!=="production"?Bk(f,t,n):f));let p=Promise.resolve(d);if(e.length<3&&(p=p.then(f)),process.env.NODE_ENV!=="production"&&e.length>2){const g=`The "next" callback was never called inside of ${e.name?'"'+e.name+'"':""}:
${e.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof d=="object"&&"then"in d)p=p.then(v=>f._called?v:(at(g),Promise.reject(new Error("Invalid navigation guard"))));else if(d!==void 0&&!f._called){at(g),c(new Error("Invalid navigation guard"));return}}p.catch(g=>c(g))})}function Bk(e,t,n){let o=0;return function(){o++===1&&at(`The "next" callback was called more than once in one navigation guard when going from "${n.fullPath}" to "${t.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),e._called=!0,o===1&&e.apply(null,arguments)}}function kf(e,t,n,o,i=s=>s()){const s=[];for(const a of e){process.env.NODE_ENV!=="production"&&!a.components&&!a.children.length&&at(`Record with path "${a.path}" is either missing a "component(s)" or "children" property.`);for(const u in a.components){let c=a.components[u];if(process.env.NODE_ENV!=="production"){if(!c||typeof c!="object"&&typeof c!="function")throw at(`Component "${u}" in record with path "${a.path}" is not a valid component. Received "${String(c)}".`),new Error("Invalid route component");if("then"in c){at(`Component "${u}" in record with path "${a.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const f=c;c=()=>f}else c.__asyncLoader&&!c.__warnedDefineAsync&&(c.__warnedDefineAsync=!0,at(`Component "${u}" in record with path "${a.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(t!=="beforeRouteEnter"&&!a.instances[u]))if(c_(c)){const d=(c.__vccOpts||c)[t];d&&s.push(Di(d,n,o,a,u,i))}else{let f=c();process.env.NODE_ENV!=="production"&&!("catch"in f)&&(at(`Component "${u}" in record with path "${a.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),f=Promise.resolve(f)),s.push(()=>f.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${u}" at "${a.path}"`);const p=zC(d)?d.default:d;a.mods[u]=d,a.components[u]=p;const v=(p.__vccOpts||p)[t];return v&&Di(v,n,o,a,u,i)()}))}}}return s}function R_(e){const t=Yt(cu),n=Yt(Nf);let o=!1,i=null;const s=$e(()=>{const d=b(e.to);return process.env.NODE_ENV!=="production"&&(!o||d!==i)&&(uu(d)||(o?at(`Invalid value for prop "to" in useLink()
- to:`,d,`
- previous to:`,i,`
- props:`,e):at(`Invalid value for prop "to" in useLink()
- to:`,d,`
- props:`,e)),i=d,o=!0),t.resolve(d)}),a=$e(()=>{const{matched:d}=s.value,{length:p}=d,g=d[p-1],v=n.matched;if(!g||!v.length)return-1;const w=v.findIndex(Ti.bind(null,g));if(w>-1)return w;const y=V_(d[p-2]);return p>1&&V_(g)===y&&v[v.length-1].path!==y?v.findIndex(Ti.bind(null,d[p-2])):w}),u=$e(()=>a.value>-1&&jk(n.params,s.value.params)),c=$e(()=>a.value>-1&&a.value===n.matched.length-1&&__(n.params,s.value.params));function f(d={}){if(Uk(d)){const p=t[b(e.replace)?"replace":"push"](b(e.to)).catch(pa);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>p),p}return Promise.resolve()}if(process.env.NODE_ENV!=="production"&&ei){const d=$n();if(d){const p={route:s.value,isActive:u.value,isExactActive:c.value,error:null};d.__vrl_devtools=d.__vrl_devtools||[],d.__vrl_devtools.push(p),qd(()=>{p.route=s.value,p.isActive=u.value,p.isExactActive=c.value,p.error=uu(b(e.to))?null:'Invalid "to" value'},{flush:"post"})}}return{route:s,href:$e(()=>s.value.href),isActive:u,isExactActive:c,navigate:f}}function Fk(e){return e.length===1?e[0]:e}const Hk=Et({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:R_,setup(e,{slots:t}){const n=Ur(R_(e)),{options:o}=Yt(cu),i=$e(()=>({[L_(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[L_(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&Fk(t.default(n));return e.custom?s:xt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}});function Uk(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function jk(e,t){for(const n in t){const o=t[n],i=e[n];if(typeof o=="string"){if(o!==i)return!1}else if(!Vn(i)||i.length!==o.length||o.some((s,a)=>s!==i[a]))return!1}return!0}function V_(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const L_=(e,t,n)=>e??t??n,Gk=Et({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){process.env.NODE_ENV!=="production"&&qk();const o=Yt(Cf),i=$e(()=>e.route||o.value),s=Yt(P_,0),a=$e(()=>{let f=b(s);const{matched:d}=i.value;let p;for(;(p=d[f])&&!p.components;)f++;return f}),u=$e(()=>i.value.matched[a.value]);co(P_,$e(()=>a.value+1)),co(A_,u),co(Cf,i);const c=X();return Le(()=>[c.value,u.value,e.name],([f,d,p],[g,v,w])=>{d&&(d.instances[p]=f,v&&v!==d&&f&&f===g&&(d.leaveGuards.size||(d.leaveGuards=v.leaveGuards),d.updateGuards.size||(d.updateGuards=v.updateGuards))),f&&d&&(!v||!Ti(d,v)||!g)&&(d.enterCallbacks[p]||[]).forEach(y=>y(f))},{flush:"post"}),()=>{const f=i.value,d=e.name,p=u.value,g=p&&p.components[d];if(!g)return z_(n.default,{Component:g,route:f});const v=p.props[d],w=v?v===!0?f.params:typeof v=="function"?v(f):v:null,x=xt(g,$t({},w,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(p.instances[d]=null)},ref:c}));if(process.env.NODE_ENV!=="production"&&ei&&x.ref){const S={depth:a.value,name:p.name,path:p.path,meta:p.meta};(Vn(x.ref)?x.ref.map(I=>I.i):[x.ref.i]).forEach(I=>{I.__vrv_devtools=S})}return z_(n.default,{Component:x,route:f})||x}}});function z_(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Wk=Gk;function qk(){const e=$n(),t=e.parent&&e.parent.type.name,n=e.parent&&e.parent.subTree&&e.parent.subTree.type;if(t&&(t==="KeepAlive"||t.includes("Transition"))&&typeof n=="object"&&n.name==="RouterView"){const o=t==="KeepAlive"?"keep-alive":"transition";at(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${o}>
    <component :is="Component" />
  </${o}>
</router-view>`)}}function ma(e,t){const n=$t({},e,{matched:e.matched.map(o=>iS(o,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:n}}}function du(e){return{_custom:{display:e}}}let Yk=0;function Kk(e,t,n){if(t.__hasDevtools)return;t.__hasDevtools=!0;const o=Yk++;Gm({id:"org.vuejs.router"+(o?"."+o:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},i=>{typeof i.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),i.on.inspectComponent((d,p)=>{d.instanceData&&d.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:ma(t.currentRoute.value,"Current Route")})}),i.on.visitComponentTree(({treeNode:d,componentInstance:p})=>{if(p.__vrv_devtools){const g=p.__vrv_devtools;d.tags.push({label:(g.name?`${g.name.toString()}: `:"")+g.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:B_})}Vn(p.__vrl_devtools)&&(p.__devtoolsApi=i,p.__vrl_devtools.forEach(g=>{let v=g.route.path,w=U_,y="",x=0;g.error?(v=g.error,w=eS,x=tS):g.isExactActive?(w=H_,y="This is exactly active"):g.isActive&&(w=F_,y="This link is active"),d.tags.push({label:v,textColor:x,tooltip:y,backgroundColor:w})}))}),Le(t.currentRoute,()=>{c(),i.notifyComponentUpdate(),i.sendInspectorTree(u),i.sendInspectorState(u)});const s="router:navigations:"+o;i.addTimelineLayer({id:s,label:`Router${o?" "+o:""} Navigations`,color:4237508}),t.onError((d,p)=>{i.addTimelineEvent({layerId:s,event:{title:"Error during Navigation",subtitle:p.fullPath,logType:"error",time:i.now(),data:{error:d},groupId:p.meta.__navigationId}})});let a=0;t.beforeEach((d,p)=>{const g={guard:du("beforeEach"),from:ma(p,"Current Location during this navigation"),to:ma(d,"Target location")};Object.defineProperty(d.meta,"__navigationId",{value:a++}),i.addTimelineEvent({layerId:s,event:{time:i.now(),title:"Start of navigation",subtitle:d.fullPath,data:g,groupId:d.meta.__navigationId}})}),t.afterEach((d,p,g)=>{const v={guard:du("afterEach")};g?(v.failure={_custom:{type:Error,readOnly:!0,display:g?g.message:"",tooltip:"Navigation Failure",value:g}},v.status=du("")):v.status=du(""),v.from=ma(p,"Current Location during this navigation"),v.to=ma(d,"Target location"),i.addTimelineEvent({layerId:s,event:{title:"End of navigation",subtitle:d.fullPath,time:i.now(),data:v,logType:g?"warning":"default",groupId:d.meta.__navigationId}})});const u="router-inspector:"+o;i.addInspector({id:u,label:"Routes"+(o?" "+o:""),icon:"book",treeFilterPlaceholder:"Search routes"});function c(){if(!f)return;const d=f;let p=n.getRoutes().filter(g=>!g.parent||!g.parent.record.components);p.forEach(W_),d.filter&&(p=p.filter(g=>Sf(g,d.filter.toLowerCase()))),p.forEach(g=>G_(g,t.currentRoute.value)),d.rootNodes=p.map(j_)}let f;i.on.getInspectorTree(d=>{f=d,d.app===e&&d.inspectorId===u&&c()}),i.on.getInspectorState(d=>{if(d.app===e&&d.inspectorId===u){const g=n.getRoutes().find(v=>v.record.__vd_id===d.nodeId);g&&(d.state={options:Zk(g)})}}),i.sendInspectorTree(u),i.sendInspectorState(u)})}function Xk(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}function Zk(e){const{record:t}=e,n=[{editable:!1,key:"path",value:t.path}];return t.name!=null&&n.push({editable:!1,key:"name",value:t.name}),n.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map(o=>`${o.name}${Xk(o)}`).join(" "),tooltip:"Param keys",value:e.keys}}}),t.redirect!=null&&n.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&n.push({editable:!1,key:"aliases",value:e.alias.map(o=>o.record.path)}),Object.keys(e.record.meta).length&&n.push({editable:!1,key:"meta",value:e.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map(o=>o.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),n}const B_=15485081,F_=2450411,H_=8702998,Jk=2282478,U_=16486972,Qk=6710886,eS=16704226,tS=12131356;function j_(e){const t=[],{record:n}=e;n.name!=null&&t.push({label:String(n.name),textColor:0,backgroundColor:Jk}),n.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:U_}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:B_}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:H_}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:F_}),n.redirect&&t.push({label:typeof n.redirect=="string"?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:Qk});let o=n.__vd_id;return o==null&&(o=String(nS++),n.__vd_id=o),{id:o,label:n.path,tags:t,children:e.children.map(j_)}}let nS=0;const oS=/^\/(.*)\/([a-z]*)$/;function G_(e,t){const n=t.matched.length&&Ti(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=n,n||(e.__vd_active=t.matched.some(o=>Ti(o,e.record))),e.children.forEach(o=>G_(o,t))}function W_(e){e.__vd_match=!1,e.children.forEach(W_)}function Sf(e,t){const n=String(e.re).match(oS);if(e.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(t))return e.children.forEach(a=>Sf(a,t)),e.record.path!=="/"||t==="/"?(e.__vd_match=e.re.test(t),!0):!1;const i=e.record.path.toLowerCase(),s=as(i);return!t.startsWith("/")&&(s.includes(t)||i.includes(t))||s.startsWith(t)||i.startsWith(t)||e.record.name&&String(e.record.name).includes(t)?!0:e.children.some(a=>Sf(a,t))}function iS(e,t){const n={};for(const o in e)t.includes(o)||(n[o]=e[o]);return n}function rS(e){const t=kk(e.routes,e),n=e.parseQuery||Rk,o=e.stringifyQuery||M_,i=e.history;if(process.env.NODE_ENV!=="production"&&!i)throw new Error('Provide the "history" option when calling "createRouter()": https://router.vuejs.org/api/interfaces/RouterOptions.html#history');const s=va(),a=va(),u=va(),c=Xs(Ii);let f=Ii;ei&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=_f.bind(null,re=>""+re),p=_f.bind(null,JC),g=_f.bind(null,as);function v(re,ye){let ve,Te;return x_(re)?(ve=t.getRecordMatcher(re),process.env.NODE_ENV!=="production"&&!ve&&at(`Parent route "${String(re)}" not found when adding child route`,ye),Te=ye):Te=re,t.addRoute(Te,ve)}function w(re){const ye=t.getRecordMatcher(re);ye?t.removeRoute(ye):process.env.NODE_ENV!=="production"&&at(`Cannot remove non-existent route "${String(re)}"`)}function y(){return t.getRoutes().map(re=>re.record)}function x(re){return!!t.getRecordMatcher(re)}function S(re,ye){if(ye=$t({},ye||c.value),typeof re=="string"){const E=wf(n,re,ye.path),C=t.resolve({path:E.path},ye),F=i.createHref(E.fullPath);return process.env.NODE_ENV!=="production"&&(F.startsWith("//")?at(`Location "${re}" resolved to "${F}". A resolved location cannot start with multiple slashes.`):C.matched.length||at(`No match found for location with path "${re}"`)),$t(E,C,{params:g(C.params),hash:as(E.hash),redirectedFrom:void 0,href:F})}if(process.env.NODE_ENV!=="production"&&!uu(re))return at(`router.resolve() was passed an invalid location. This will fail in production.
- Location:`,re),S({});let ve;if(re.path!=null)process.env.NODE_ENV!=="production"&&"params"in re&&!("name"in re)&&Object.keys(re.params).length&&at(`Path "${re.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),ve=$t({},re,{path:wf(n,re.path,ye.path).path});else{const E=$t({},re.params);for(const C in E)E[C]==null&&delete E[C];ve=$t({},re,{params:p(E)}),ye.params=p(ye.params)}const Te=t.resolve(ve,ye),we=re.hash||"";process.env.NODE_ENV!=="production"&&we&&!we.startsWith("#")&&at(`A \`hash\` should always start with the character "#". Replace "${we}" with "#${we}".`),Te.params=d(g(Te.params));const Ce=tk(o,$t({},re,{hash:KC(we),path:Te.path})),k=i.createHref(Ce);return process.env.NODE_ENV!=="production"&&(k.startsWith("//")?at(`Location "${re}" resolved to "${k}". A resolved location cannot start with multiple slashes.`):Te.matched.length||at(`No match found for location with path "${re.path!=null?re.path:re}"`)),$t({fullPath:Ce,hash:we,query:o===M_?Vk(re.query):re.query||{}},Te,{redirectedFrom:void 0,href:k})}function R(re){return typeof re=="string"?wf(n,re,c.value.path):$t({},re)}function I(re,ye){if(f!==re)return ls(8,{from:ye,to:re})}function L(re){return G(re)}function U(re){return L($t(R(re),{replace:!0}))}function V(re){const ye=re.matched[re.matched.length-1];if(ye&&ye.redirect){const{redirect:ve}=ye;let Te=typeof ve=="function"?ve(re):ve;if(typeof Te=="string"&&(Te=Te.includes("?")||Te.includes("#")?Te=R(Te):{path:Te},Te.params={}),process.env.NODE_ENV!=="production"&&Te.path==null&&!("name"in Te))throw at(`Invalid redirect found:
${JSON.stringify(Te,null,2)}
 when navigating to "${re.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return $t({query:re.query,hash:re.hash,params:Te.path!=null?{}:re.params},Te)}}function G(re,ye){const ve=f=S(re),Te=c.value,we=re.state,Ce=re.force,k=re.replace===!0,E=V(ve);if(E)return G($t(R(E),{state:typeof E=="object"?$t({},we,E.state):we,force:Ce,replace:k}),ye||ve);const C=ve;C.redirectedFrom=ye;let F;return!Ce&&m_(o,Te,ve)&&(F=ls(16,{to:C,from:Te}),te(Te,Te,!0,!1)),(F?Promise.resolve(F):W(C,Te)).catch(A=>ti(A)?ti(A,2)?A:oe(A):Y(A,C,Te)).then(A=>{if(A){if(ti(A,2))return process.env.NODE_ENV!=="production"&&m_(o,S(A.to),C)&&ye&&(ye._count=ye._count?ye._count+1:1)>30?(at(`Detected a possibly infinite redirection in a navigation guard when going from "${Te.fullPath}" to "${C.fullPath}". Aborting to avoid a Stack Overflow.
 Are you always returning a new location within a navigation guard? That would lead to this error. Only return when redirecting or aborting, that should fix this. This might break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):G($t({replace:k},R(A.to),{state:typeof A.to=="object"?$t({},we,A.to.state):we,force:Ce}),ye||C)}else A=B(C,Te,!0,k,we);return J(C,Te,A),A})}function q(re,ye){const ve=I(re,ye);return ve?Promise.reject(ve):Promise.resolve()}function T(re){const ye=ae.values().next().value;return ye&&typeof ye.runWithContext=="function"?ye.runWithContext(re):re()}function W(re,ye){let ve;const[Te,we,Ce]=sS(re,ye);ve=kf(Te.reverse(),"beforeRouteLeave",re,ye);for(const E of Te)E.leaveGuards.forEach(C=>{ve.push(Di(C,re,ye))});const k=q.bind(null,re,ye);return ve.push(k),Ne(ve).then(()=>{ve=[];for(const E of s.list())ve.push(Di(E,re,ye));return ve.push(k),Ne(ve)}).then(()=>{ve=kf(we,"beforeRouteUpdate",re,ye);for(const E of we)E.updateGuards.forEach(C=>{ve.push(Di(C,re,ye))});return ve.push(k),Ne(ve)}).then(()=>{ve=[];for(const E of Ce)if(E.beforeEnter)if(Vn(E.beforeEnter))for(const C of E.beforeEnter)ve.push(Di(C,re,ye));else ve.push(Di(E.beforeEnter,re,ye));return ve.push(k),Ne(ve)}).then(()=>(re.matched.forEach(E=>E.enterCallbacks={}),ve=kf(Ce,"beforeRouteEnter",re,ye,T),ve.push(k),Ne(ve))).then(()=>{ve=[];for(const E of a.list())ve.push(Di(E,re,ye));return ve.push(k),Ne(ve)}).catch(E=>ti(E,8)?E:Promise.reject(E))}function J(re,ye,ve){u.list().forEach(Te=>T(()=>Te(re,ye,ve)))}function B(re,ye,ve,Te,we){const Ce=I(re,ye);if(Ce)return Ce;const k=ye===Ii,E=ei?history.state:{};ve&&(Te||k?i.replace(re.fullPath,$t({scroll:k&&E&&E.scroll},we)):i.push(re.fullPath,we)),c.value=re,te(re,ye,ve,k),oe()}let Z;function N(){Z||(Z=i.listen((re,ye,ve)=>{if(!me.listening)return;const Te=S(re),we=V(Te);if(we){G($t(we,{replace:!0,force:!0}),Te).catch(pa);return}f=Te;const Ce=c.value;ei&&uk(b_(Ce.fullPath,ve.delta),lu()),W(Te,Ce).catch(k=>ti(k,12)?k:ti(k,2)?(G($t(R(k.to),{force:!0}),Te).then(E=>{ti(E,20)&&!ve.delta&&ve.type===ha.pop&&i.go(-1,!1)}).catch(pa),Promise.reject()):(ve.delta&&i.go(-ve.delta,!1),Y(k,Te,Ce))).then(k=>{k=k||B(Te,Ce,!1),k&&(ve.delta&&!ti(k,8)?i.go(-ve.delta,!1):ve.type===ha.pop&&ti(k,20)&&i.go(-1,!1)),J(Te,Ce,k)}).catch(pa)}))}let Q=va(),j=va(),ne;function Y(re,ye,ve){oe(re);const Te=j.list();return Te.length?Te.forEach(we=>we(re,ye,ve)):(process.env.NODE_ENV!=="production"&&at("uncaught error during route navigation:"),console.error(re)),Promise.reject(re)}function fe(){return ne&&c.value!==Ii?Promise.resolve():new Promise((re,ye)=>{Q.add([re,ye])})}function oe(re){return ne||(ne=!re,N(),Q.list().forEach(([ye,ve])=>re?ve(re):ye()),Q.reset()),re}function te(re,ye,ve,Te){const{scrollBehavior:we}=e;if(!ei||!we)return Promise.resolve();const Ce=!ve&&ck(b_(re.fullPath,0))||(Te||!ve)&&history.state&&history.state.scroll||null;return St().then(()=>we(re,ye,Ce)).then(k=>k&&lk(k)).catch(k=>Y(k,re,ye))}const ge=re=>i.go(re);let Ee;const ae=new Set,me={currentRoute:c,listening:!0,addRoute:v,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:x,getRoutes:y,resolve:S,options:e,push:L,replace:U,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:s.add,beforeResolve:a.add,afterEach:u.add,onError:j.add,isReady:fe,install(re){const ye=this;re.component("RouterLink",Hk),re.component("RouterView",Wk),re.config.globalProperties.$router=ye,Object.defineProperty(re.config.globalProperties,"$route",{enumerable:!0,get:()=>b(c)}),ei&&!Ee&&c.value===Ii&&(Ee=!0,L(i.location).catch(we=>{process.env.NODE_ENV!=="production"&&at("Unexpected error when starting the router:",we)}));const ve={};for(const we in Ii)Object.defineProperty(ve,we,{get:()=>c.value[we],enumerable:!0});re.provide(cu,ye),re.provide(Nf,Ag(ve)),re.provide(Cf,c);const Te=re.unmount;ae.add(re),re.unmount=function(){ae.delete(re),ae.size<1&&(f=Ii,Z&&Z(),Z=null,c.value=Ii,Ee=!1,ne=!1),Te()},process.env.NODE_ENV!=="production"&&ei&&Kk(re,ye,t)}};function Ne(re){return re.reduce((ye,ve)=>ye.then(()=>T(ve)),Promise.resolve())}return me}function sS(e,t){const n=[],o=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const u=t.matched[a];u&&(e.matched.find(f=>Ti(f,u))?o.push(u):n.push(u));const c=e.matched[a];c&&(t.matched.find(f=>Ti(f,c))||i.push(c))}return[n,o,i]}function gr(){return Yt(cu)}function fu(e){return Yt(Nf)}const aS={class:"NotFound"},lS={class:"learningpaths-edit-add"},uS={__name:"NotFound",setup(e){const t=We(),n=gr();return Ke(()=>{n.value==null&&t.state.view&&n.push({name:"learningpaths-edit-overview"})}),(o,i)=>{const s=Yr("router-link");return O(),D("div",aS,[m("h2",null,H(b(t).state.strings.route_not_found_site_name),1),m("h3",null,H(b(t).state.strings.route_not_found),1),m("div",lS,[pe(s,{to:{name:"learningpaths-edit-overview"},tag:"button",class:"btn btn-primary"},{default:Qe(()=>[Ue(H(b(t).state.strings.btnreload),1)]),_:1})])])}}};function _a(e){return bl()?(Hs(e),!0):!1}function ni(e){return typeof e=="function"?e():b(e)}const cS=typeof window<"u"&&typeof document<"u",dS=e=>typeof e<"u",fS=Object.prototype.toString,pS=e=>fS.call(e)==="[object Object]",hS=()=>{};function gS(e,t){function n(...o){return new Promise((i,s)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(i).catch(s)})}return n}const q_=e=>e();function vS(e=q_){const t=X(!0);function n(){t.value=!1}function o(){t.value=!0}const i=(...s)=>{t.value&&e(...s)};return{isActive:$d(t),pause:n,resume:o,eventFilter:i}}function Y_(e,t=!1,n="Timeout"){return new Promise((o,i)=>{setTimeout(t?()=>i(n):o,e)})}function mS(e,t,n={}){const{eventFilter:o=q_,...i}=n;return Le(e,gS(o,t),i)}function us(e,t,n={}){const{eventFilter:o,...i}=n,{eventFilter:s,pause:a,resume:u,isActive:c}=vS(o);return{stop:mS(e,t,{...i,eventFilter:s}),pause:a,resume:u,isActive:c}}function _S(e,t={}){if(!Vt(e))return kx(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=Cx(()=>({get(){return e.value[o]},set(i){var s;if((s=ni(t.replaceRef))!=null?s:!0)if(Array.isArray(e.value)){const u=[...e.value];u[o]=i,e.value=u}else{const u={...e.value,[o]:i};Object.setPrototypeOf(u,Object.getPrototypeOf(e.value)),e.value=u}else e.value[o]=i}}));return n}function Of(e,t=!1){function n(p,{flush:g="sync",deep:v=!1,timeout:w,throwOnTimeout:y}={}){let x=null;const R=[new Promise(I=>{x=Le(e,L=>{p(L)!==t&&(x?.(),I(L))},{flush:g,deep:v,immediate:!0})})];return w!=null&&R.push(Y_(w,y).then(()=>ni(e)).finally(()=>x?.())),Promise.race(R)}function o(p,g){if(!Vt(p))return n(L=>L===p,g);const{flush:v="sync",deep:w=!1,timeout:y,throwOnTimeout:x}=g??{};let S=null;const I=[new Promise(L=>{S=Le([e,p],([U,V])=>{t!==(U===V)&&(S?.(),L(U))},{flush:v,deep:w,immediate:!0})})];return y!=null&&I.push(Y_(y,x).then(()=>ni(e)).finally(()=>(S?.(),ni(e)))),Promise.race(I)}function i(p){return n(g=>!!g,p)}function s(p){return o(null,p)}function a(p){return o(void 0,p)}function u(p){return n(Number.isNaN,p)}function c(p,g){return n(v=>{const w=Array.from(v);return w.includes(p)||w.includes(ni(p))},g)}function f(p){return d(1,p)}function d(p=1,g){let v=-1;return n(()=>(v+=1,v>=p),g)}return Array.isArray(ni(e))?{toMatch:n,toContains:c,changed:f,changedTimes:d,get not(){return Of(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:i,toBeNull:s,toBeNaN:u,toBeUndefined:a,changed:f,changedTimes:d,get not(){return Of(e,!t)}}}function Tf(e){return Of(e)}function yS(e){var t;const n=ni(e);return(t=n?.$el)!=null?t:n}const K_=cS?window:void 0;function X_(...e){let t,n,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,i]=e,t=K_):[t,n,o,i]=e,!t)return hS;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],a=()=>{s.forEach(d=>d()),s.length=0},u=(d,p,g,v)=>(d.addEventListener(p,g,v),()=>d.removeEventListener(p,g,v)),c=Le(()=>[yS(t),ni(i)],([d,p])=>{if(a(),!d)return;const g=pS(p)?{...p}:p;s.push(...n.flatMap(v=>o.map(w=>u(d,v,w,g))))},{immediate:!0,flush:"post"}),f=()=>{c(),a()};return _a(f),f}function bS(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Z_(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=K_,eventName:s="keydown",passive:a=!1,dedupe:u=!1}=o,c=bS(t);return X_(i,s,d=>{d.repeat&&ni(u)||c(d)&&n(d)},a)}function wS(e){return JSON.parse(JSON.stringify(e))}function If(e,t,n,o={}){var i,s,a;const{clone:u=!1,passive:c=!1,eventName:f,deep:d=!1,defaultValue:p,shouldEmit:g}=o,v=$n(),w=n||v?.emit||((i=v?.$emit)==null?void 0:i.bind(v))||((a=(s=v?.proxy)==null?void 0:s.$emit)==null?void 0:a.bind(v?.proxy));let y=f;t||(t="modelValue"),y=y||`update:${t.toString()}`;const x=I=>u?typeof u=="function"?u(I):wS(I):I,S=()=>dS(e[t])?x(e[t]):p,R=I=>{g?g(I)&&w(y,I):w(y,I)};if(c){const I=S(),L=X(I);let U=!1;return Le(()=>e[t],V=>{U||(U=!0,L.value=x(V),St(()=>U=!1))}),Le(L,V=>{!U&&(V!==e[t]||d)&&R(V)},{deep:d}),L}else return $e({get(){return S()},set(I){R(I)}})}var ES={value:()=>{}};function pu(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new hu(n)}function hu(e){this._=e}function xS(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}hu.prototype=pu.prototype={constructor:hu,on:function(e,t){var n=this._,o=xS(e+"",n),i,s=-1,a=o.length;if(arguments.length<2){for(;++s<a;)if((i=(e=o[s]).type)&&(i=$S(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=o[s]).type)n[i]=J_(n[i],e.name,t);else if(t==null)for(i in n)n[i]=J_(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new hu(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,s;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],o=0,i=s.length;o<i;++o)s[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,s=o.length;i<s;++i)o[i].value.apply(t,n)}};function $S(e,t){for(var n=0,o=e.length,i;n<o;++n)if((i=e[n]).name===t)return i.value}function J_(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=ES,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Df="http://www.w3.org/1999/xhtml";const Q_={svg:"http://www.w3.org/2000/svg",xhtml:Df,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Q_.hasOwnProperty(t)?{space:Q_[t],local:e}:e}function NS(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Df&&t.documentElement.namespaceURI===Df?t.createElement(e):t.createElementNS(n,e)}}function CS(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ey(e){var t=gu(e);return(t.local?CS:NS)(t)}function kS(){}function Mf(e){return e==null?kS:function(){return this.querySelector(e)}}function SS(e){typeof e!="function"&&(e=Mf(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,u=o[i]=new Array(a),c,f,d=0;d<a;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f);return new Ln(o,this._parents)}function OS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function TS(){return[]}function ty(e){return e==null?TS:function(){return this.querySelectorAll(e)}}function IS(e){return function(){return OS(e.apply(this,arguments))}}function DS(e){typeof e=="function"?e=IS(e):e=ty(e);for(var t=this._groups,n=t.length,o=[],i=[],s=0;s<n;++s)for(var a=t[s],u=a.length,c,f=0;f<u;++f)(c=a[f])&&(o.push(e.call(c,c.__data__,f,a)),i.push(c));return new Ln(o,i)}function ny(e){return function(){return this.matches(e)}}function oy(e){return function(t){return t.matches(e)}}var MS=Array.prototype.find;function AS(e){return function(){return MS.call(this.children,e)}}function PS(){return this.firstElementChild}function RS(e){return this.select(e==null?PS:AS(typeof e=="function"?e:oy(e)))}var VS=Array.prototype.filter;function LS(){return Array.from(this.children)}function zS(e){return function(){return VS.call(this.children,e)}}function BS(e){return this.selectAll(e==null?LS:zS(typeof e=="function"?e:oy(e)))}function FS(e){typeof e!="function"&&(e=ny(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,u=o[i]=[],c,f=0;f<a;++f)(c=s[f])&&e.call(c,c.__data__,f,s)&&u.push(c);return new Ln(o,this._parents)}function iy(e){return new Array(e.length)}function HS(){return new Ln(this._enter||this._groups.map(iy),this._parents)}function vu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}vu.prototype={constructor:vu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function US(e){return function(){return e}}function jS(e,t,n,o,i,s){for(var a=0,u,c=t.length,f=s.length;a<f;++a)(u=t[a])?(u.__data__=s[a],o[a]=u):n[a]=new vu(e,s[a]);for(;a<c;++a)(u=t[a])&&(i[a]=u)}function GS(e,t,n,o,i,s,a){var u,c,f=new Map,d=t.length,p=s.length,g=new Array(d),v;for(u=0;u<d;++u)(c=t[u])&&(g[u]=v=a.call(c,c.__data__,u,t)+"",f.has(v)?i[u]=c:f.set(v,c));for(u=0;u<p;++u)v=a.call(e,s[u],u,s)+"",(c=f.get(v))?(o[u]=c,c.__data__=s[u],f.delete(v)):n[u]=new vu(e,s[u]);for(u=0;u<d;++u)(c=t[u])&&f.get(g[u])===c&&(i[u]=c)}function WS(e){return e.__data__}function qS(e,t){if(!arguments.length)return Array.from(this,WS);var n=t?GS:jS,o=this._parents,i=this._groups;typeof e!="function"&&(e=US(e));for(var s=i.length,a=new Array(s),u=new Array(s),c=new Array(s),f=0;f<s;++f){var d=o[f],p=i[f],g=p.length,v=YS(e.call(d,d&&d.__data__,f,o)),w=v.length,y=u[f]=new Array(w),x=a[f]=new Array(w),S=c[f]=new Array(g);n(d,p,y,x,S,v,t);for(var R=0,I=0,L,U;R<w;++R)if(L=y[R]){for(R>=I&&(I=R+1);!(U=x[I])&&++I<w;);L._next=U||null}}return a=new Ln(a,o),a._enter=u,a._exit=c,a}function YS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function KS(){return new Ln(this._exit||this._groups.map(iy),this._parents)}function XS(e,t,n){var o=this.enter(),i=this,s=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),o&&i?o.merge(i).order():i}function ZS(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,s=o.length,a=Math.min(i,s),u=new Array(i),c=0;c<a;++c)for(var f=n[c],d=o[c],p=f.length,g=u[c]=new Array(p),v,w=0;w<p;++w)(v=f[w]||d[w])&&(g[w]=v);for(;c<i;++c)u[c]=n[c];return new Ln(u,this._parents)}function JS(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],i=o.length-1,s=o[i],a;--i>=0;)(a=o[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function QS(e){e||(e=eO);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}for(var n=this._groups,o=n.length,i=new Array(o),s=0;s<o;++s){for(var a=n[s],u=a.length,c=i[s]=new Array(u),f,d=0;d<u;++d)(f=a[d])&&(c[d]=f);c.sort(t)}return new Ln(i,this._parents).order()}function eO(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function tO(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function nO(){return Array.from(this)}function oO(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,s=o.length;i<s;++i){var a=o[i];if(a)return a}return null}function iO(){let e=0;for(const t of this)++e;return e}function rO(){return!this.node()}function sO(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i=t[n],s=0,a=i.length,u;s<a;++s)(u=i[s])&&e.call(u,u.__data__,s,i);return this}function aO(e){return function(){this.removeAttribute(e)}}function lO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uO(e,t){return function(){this.setAttribute(e,t)}}function cO(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function dO(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function fO(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function pO(e,t){var n=gu(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?lO:aO:typeof t=="function"?n.local?fO:dO:n.local?cO:uO)(n,t))}function ry(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hO(e){return function(){this.style.removeProperty(e)}}function gO(e,t,n){return function(){this.style.setProperty(e,t,n)}}function vO(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function mO(e,t,n){return arguments.length>1?this.each((t==null?hO:typeof t=="function"?vO:gO)(e,t,n??"")):cs(this.node(),e)}function cs(e,t){return e.style.getPropertyValue(t)||ry(e).getComputedStyle(e,null).getPropertyValue(t)}function _O(e){return function(){delete this[e]}}function yO(e,t){return function(){this[e]=t}}function bO(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function wO(e,t){return arguments.length>1?this.each((t==null?_O:typeof t=="function"?bO:yO)(e,t)):this.node()[e]}function sy(e){return e.trim().split(/^|\s+/)}function Af(e){return e.classList||new ay(e)}function ay(e){this._node=e,this._names=sy(e.getAttribute("class")||"")}ay.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ly(e,t){for(var n=Af(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function uy(e,t){for(var n=Af(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function EO(e){return function(){ly(this,e)}}function xO(e){return function(){uy(this,e)}}function $O(e,t){return function(){(t.apply(this,arguments)?ly:uy)(this,e)}}function NO(e,t){var n=sy(e+"");if(arguments.length<2){for(var o=Af(this.node()),i=-1,s=n.length;++i<s;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?$O:t?EO:xO)(n,t))}function CO(){this.textContent=""}function kO(e){return function(){this.textContent=e}}function SO(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function OO(e){return arguments.length?this.each(e==null?CO:(typeof e=="function"?SO:kO)(e)):this.node().textContent}function TO(){this.innerHTML=""}function IO(e){return function(){this.innerHTML=e}}function DO(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function MO(e){return arguments.length?this.each(e==null?TO:(typeof e=="function"?DO:IO)(e)):this.node().innerHTML}function AO(){this.nextSibling&&this.parentNode.appendChild(this)}function PO(){return this.each(AO)}function RO(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function VO(){return this.each(RO)}function LO(e){var t=typeof e=="function"?e:ey(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function zO(){return null}function BO(e,t){var n=typeof e=="function"?e:ey(e),o=t==null?zO:typeof t=="function"?t:Mf(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function FO(){var e=this.parentNode;e&&e.removeChild(this)}function HO(){return this.each(FO)}function UO(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jO(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function GO(e){return this.select(e?jO:UO)}function WO(e){return arguments.length?this.property("__data__",e):this.node().__data__}function qO(e){return function(t){e.call(this,t,this.__data__)}}function YO(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function KO(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++o]=s;++o?t.length=o:delete this.__on}}}function XO(e,t,n){return function(){var o=this.__on,i,s=qO(t);if(o){for(var a=0,u=o.length;a<u;++a)if((i=o[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(i):this.__on=[i]}}function ZO(e,t,n){var o=YO(e+""),i,s=o.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,f=u.length,d;c<f;++c)for(i=0,d=u[c];i<s;++i)if((a=o[i]).type===d.type&&a.name===d.name)return d.value}return}for(u=t?XO:KO,i=0;i<s;++i)this.each(u(o[i],t,n));return this}function cy(e,t,n){var o=ry(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function JO(e,t){return function(){return cy(this,e,t)}}function QO(e,t){return function(){return cy(this,e,t.apply(this,arguments))}}function e2(e,t){return this.each((typeof t=="function"?QO:JO)(e,t))}function*t2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,s=o.length,a;i<s;++i)(a=o[i])&&(yield a)}var dy=[null];function Ln(e,t){this._groups=e,this._parents=t}function ya(){return new Ln([[document.documentElement]],dy)}function n2(){return this}Ln.prototype=ya.prototype={constructor:Ln,select:SS,selectAll:DS,selectChild:RS,selectChildren:BS,filter:FS,data:qS,enter:HS,exit:KS,join:XS,merge:ZS,selection:n2,order:JS,sort:QS,call:tO,nodes:nO,node:oO,size:iO,empty:rO,each:sO,attr:pO,style:mO,property:wO,classed:NO,text:OO,html:MO,raise:PO,lower:VO,append:LO,insert:BO,remove:HO,clone:GO,datum:WO,on:ZO,dispatch:e2,[Symbol.iterator]:t2};function vo(e){return typeof e=="string"?new Ln([[document.querySelector(e)]],[document.documentElement]):new Ln([[e]],dy)}function o2(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Do(e,t){if(e=o2(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const i2={passive:!1},ba={capture:!0,passive:!1};function Pf(e){e.stopImmediatePropagation()}function ds(e){e.preventDefault(),e.stopImmediatePropagation()}function fy(e){var t=e.document.documentElement,n=vo(e).on("dragstart.drag",ds,ba);"onselectstart"in t?n.on("selectstart.drag",ds,ba):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function py(e,t){var n=e.document.documentElement,o=vo(e).on("dragstart.drag",null);t&&(o.on("click.drag",ds,ba),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const mu=e=>()=>e;function Rf(e,{sourceEvent:t,subject:n,target:o,identifier:i,active:s,x:a,y:u,dx:c,dy:f,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:d}})}Rf.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function r2(e){return!e.ctrlKey&&!e.button}function s2(){return this.parentNode}function a2(e,t){return t??{x:e.x,y:e.y}}function l2(){return navigator.maxTouchPoints||"ontouchstart"in this}function u2(){var e=r2,t=s2,n=a2,o=l2,i={},s=pu("start","drag","end"),a=0,u,c,f,d,p=0;function g(L){L.on("mousedown.drag",v).filter(o).on("touchstart.drag",x).on("touchmove.drag",S,i2).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(L,U){if(!(d||!e.call(this,L,U))){var V=I(this,t.call(this,L,U),L,U,"mouse");V&&(vo(L.view).on("mousemove.drag",w,ba).on("mouseup.drag",y,ba),fy(L.view),Pf(L),f=!1,u=L.clientX,c=L.clientY,V("start",L))}}function w(L){if(ds(L),!f){var U=L.clientX-u,V=L.clientY-c;f=U*U+V*V>p}i.mouse("drag",L)}function y(L){vo(L.view).on("mousemove.drag mouseup.drag",null),py(L.view,f),ds(L),i.mouse("end",L)}function x(L,U){if(e.call(this,L,U)){var V=L.changedTouches,G=t.call(this,L,U),q=V.length,T,W;for(T=0;T<q;++T)(W=I(this,G,L,U,V[T].identifier,V[T]))&&(Pf(L),W("start",L,V[T]))}}function S(L){var U=L.changedTouches,V=U.length,G,q;for(G=0;G<V;++G)(q=i[U[G].identifier])&&(ds(L),q("drag",L,U[G]))}function R(L){var U=L.changedTouches,V=U.length,G,q;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),G=0;G<V;++G)(q=i[U[G].identifier])&&(Pf(L),q("end",L,U[G]))}function I(L,U,V,G,q,T){var W=s.copy(),J=Do(T||V,U),B,Z,N;if((N=n.call(L,new Rf("beforestart",{sourceEvent:V,target:g,identifier:q,active:a,x:J[0],y:J[1],dx:0,dy:0,dispatch:W}),G))!=null)return B=N.x-J[0]||0,Z=N.y-J[1]||0,function Q(j,ne,Y){var fe=J,oe;switch(j){case"start":i[q]=Q,oe=a++;break;case"end":delete i[q],--a;case"drag":J=Do(Y||ne,U),oe=a;break}W.call(j,L,new Rf(j,{sourceEvent:ne,subject:N,target:g,identifier:q,active:oe,x:J[0]+B,y:J[1]+Z,dx:J[0]-fe[0],dy:J[1]-fe[1],dispatch:W}),G)}}return g.filter=function(L){return arguments.length?(e=typeof L=="function"?L:mu(!!L),g):e},g.container=function(L){return arguments.length?(t=typeof L=="function"?L:mu(L),g):t},g.subject=function(L){return arguments.length?(n=typeof L=="function"?L:mu(L),g):n},g.touchable=function(L){return arguments.length?(o=typeof L=="function"?L:mu(!!L),g):o},g.on=function(){var L=s.on.apply(s,arguments);return L===s?g:L},g.clickDistance=function(L){return arguments.length?(p=(L=+L)*L,g):Math.sqrt(p)},g}function Vf(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function hy(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function wa(){}var Ea=.7,_u=1/Ea,fs="\\s*([+-]?\\d+)\\s*",xa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c2=/^#([0-9a-f]{3,8})$/,d2=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),f2=new RegExp(`^rgb\\(${Mo},${Mo},${Mo}\\)$`),p2=new RegExp(`^rgba\\(${fs},${fs},${fs},${xa}\\)$`),h2=new RegExp(`^rgba\\(${Mo},${Mo},${Mo},${xa}\\)$`),g2=new RegExp(`^hsl\\(${xa},${Mo},${Mo}\\)$`),v2=new RegExp(`^hsla\\(${xa},${Mo},${Mo},${xa}\\)$`),gy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vf(wa,vr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vy,formatHex:vy,formatHex8:m2,formatHsl:_2,formatRgb:my,toString:my});function vy(){return this.rgb().formatHex()}function m2(){return this.rgb().formatHex8()}function _2(){return Ey(this).formatHsl()}function my(){return this.rgb().formatRgb()}function vr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c2.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_y(t):n===3?new Cn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?yu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?yu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=d2.exec(e))?new Cn(t[1],t[2],t[3],1):(t=f2.exec(e))?new Cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=p2.exec(e))?yu(t[1],t[2],t[3],t[4]):(t=h2.exec(e))?yu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=g2.exec(e))?wy(t[1],t[2]/100,t[3]/100,1):(t=v2.exec(e))?wy(t[1],t[2]/100,t[3]/100,t[4]):gy.hasOwnProperty(e)?_y(gy[e]):e==="transparent"?new Cn(NaN,NaN,NaN,0):null}function _y(e){return new Cn(e>>16&255,e>>8&255,e&255,1)}function yu(e,t,n,o){return o<=0&&(e=t=n=NaN),new Cn(e,t,n,o)}function y2(e){return e instanceof wa||(e=vr(e)),e?(e=e.rgb(),new Cn(e.r,e.g,e.b,e.opacity)):new Cn}function Lf(e,t,n,o){return arguments.length===1?y2(e):new Cn(e,t,n,o??1)}function Cn(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Vf(Cn,Lf,hy(wa,{brighter(e){return e=e==null?_u:Math.pow(_u,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ea:Math.pow(Ea,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Cn(mr(this.r),mr(this.g),mr(this.b),bu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yy,formatHex:yy,formatHex8:b2,formatRgb:by,toString:by}));function yy(){return`#${_r(this.r)}${_r(this.g)}${_r(this.b)}`}function b2(){return`#${_r(this.r)}${_r(this.g)}${_r(this.b)}${_r((isNaN(this.opacity)?1:this.opacity)*255)}`}function by(){const e=bu(this.opacity);return`${e===1?"rgb(":"rgba("}${mr(this.r)}, ${mr(this.g)}, ${mr(this.b)}${e===1?")":`, ${e})`}`}function bu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _r(e){return e=mr(e),(e<16?"0":"")+e.toString(16)}function wy(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mo(e,t,n,o)}function Ey(e){if(e instanceof mo)return new mo(e.h,e.s,e.l,e.opacity);if(e instanceof wa||(e=vr(e)),!e)return new mo;if(e instanceof mo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),s=Math.max(t,n,o),a=NaN,u=s-i,c=(s+i)/2;return u?(t===s?a=(n-o)/u+(n<o)*6:n===s?a=(o-t)/u+2:a=(t-n)/u+4,u/=c<.5?s+i:2-s-i,a*=60):u=c>0&&c<1?0:a,new mo(a,u,c,e.opacity)}function w2(e,t,n,o){return arguments.length===1?Ey(e):new mo(e,t,n,o??1)}function mo(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Vf(mo,w2,hy(wa,{brighter(e){return e=e==null?_u:Math.pow(_u,e),new mo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ea:Math.pow(Ea,e),new mo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new Cn(zf(e>=240?e-240:e+120,i,o),zf(e,i,o),zf(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new mo(xy(this.h),wu(this.s),wu(this.l),bu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bu(this.opacity);return`${e===1?"hsl(":"hsla("}${xy(this.h)}, ${wu(this.s)*100}%, ${wu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xy(e){return e=(e||0)%360,e<0?e+360:e}function wu(e){return Math.max(0,Math.min(1,e||0))}function zf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Bf=e=>()=>e;function E2(e,t){return function(n){return e+n*t}}function x2(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function $2(e){return(e=+e)==1?$y:function(t,n){return n-t?x2(t,n,e):Bf(isNaN(t)?n:t)}}function $y(e,t){var n=t-e;return n?E2(e,n):Bf(isNaN(e)?t:e)}const Eu=(function e(t){var n=$2(t);function o(i,s){var a=n((i=Lf(i)).r,(s=Lf(s)).r),u=n(i.g,s.g),c=n(i.b,s.b),f=$y(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=u(d),i.b=c(d),i.opacity=f(d),i+""}}return o.gamma=e,o})(1);function N2(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),i;return function(s){for(i=0;i<n;++i)o[i]=e[i]*(1-s)+t[i]*s;return o}}function C2(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function k2(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,i=new Array(o),s=new Array(n),a;for(a=0;a<o;++a)i[a]=$a(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(u){for(a=0;a<o;++a)s[a]=i[a](u);return s}}function S2(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function Ao(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function O2(e,t){var n={},o={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=$a(e[i],t[i]):o[i]=t[i];return function(s){for(i in n)o[i]=n[i](s);return o}}var Ff=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hf=new RegExp(Ff.source,"g");function T2(e){return function(){return e}}function I2(e){return function(t){return e(t)+""}}function Ny(e,t){var n=Ff.lastIndex=Hf.lastIndex=0,o,i,s,a=-1,u=[],c=[];for(e=e+"",t=t+"";(o=Ff.exec(e))&&(i=Hf.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),u[a]?u[a]+=s:u[++a]=s),(o=o[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:Ao(o,i)})),n=Hf.lastIndex;return n<t.length&&(s=t.slice(n),u[a]?u[a]+=s:u[++a]=s),u.length<2?c[0]?I2(c[0].x):T2(t):(t=c.length,function(f){for(var d=0,p;d<t;++d)u[(p=c[d]).i]=p.x(f);return u.join("")})}function $a(e,t){var n=typeof t,o;return t==null||n==="boolean"?Bf(t):(n==="number"?Ao:n==="string"?(o=vr(t))?(t=o,Eu):Ny:t instanceof vr?Eu:t instanceof Date?S2:C2(t)?N2:Array.isArray(t)?k2:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?O2:Ao)(e,t)}var Cy=180/Math.PI,Uf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ky(e,t,n,o,i,s){var a,u,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(u=Math.sqrt(n*n+o*o))&&(n/=u,o/=u,c/=u),e*o<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Cy,skewX:Math.atan(c)*Cy,scaleX:a,scaleY:u}}var xu;function D2(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Uf:ky(t.a,t.b,t.c,t.d,t.e,t.f)}function M2(e){return e==null||(xu||(xu=document.createElementNS("http://www.w3.org/2000/svg","g")),xu.setAttribute("transform",e),!(e=xu.transform.baseVal.consolidate()))?Uf:(e=e.matrix,ky(e.a,e.b,e.c,e.d,e.e,e.f))}function Sy(e,t,n,o){function i(f){return f.length?f.pop()+" ":""}function s(f,d,p,g,v,w){if(f!==p||d!==g){var y=v.push("translate(",null,t,null,n);w.push({i:y-4,x:Ao(f,p)},{i:y-2,x:Ao(d,g)})}else(p||g)&&v.push("translate("+p+t+g+n)}function a(f,d,p,g){f!==d?(f-d>180?d+=360:d-f>180&&(f+=360),g.push({i:p.push(i(p)+"rotate(",null,o)-2,x:Ao(f,d)})):d&&p.push(i(p)+"rotate("+d+o)}function u(f,d,p,g){f!==d?g.push({i:p.push(i(p)+"skewX(",null,o)-2,x:Ao(f,d)}):d&&p.push(i(p)+"skewX("+d+o)}function c(f,d,p,g,v,w){if(f!==p||d!==g){var y=v.push(i(v)+"scale(",null,",",null,")");w.push({i:y-4,x:Ao(f,p)},{i:y-2,x:Ao(d,g)})}else(p!==1||g!==1)&&v.push(i(v)+"scale("+p+","+g+")")}return function(f,d){var p=[],g=[];return f=e(f),d=e(d),s(f.translateX,f.translateY,d.translateX,d.translateY,p,g),a(f.rotate,d.rotate,p,g),u(f.skewX,d.skewX,p,g),c(f.scaleX,f.scaleY,d.scaleX,d.scaleY,p,g),f=d=null,function(v){for(var w=-1,y=g.length,x;++w<y;)p[(x=g[w]).i]=x.x(v);return p.join("")}}}var A2=Sy(D2,"px, ","px)","deg)"),P2=Sy(M2,", ",")",")"),R2=1e-12;function Oy(e){return((e=Math.exp(e))+1/e)/2}function V2(e){return((e=Math.exp(e))-1/e)/2}function L2(e){return((e=Math.exp(2*e))-1)/(e+1)}const $u=(function e(t,n,o){function i(s,a){var u=s[0],c=s[1],f=s[2],d=a[0],p=a[1],g=a[2],v=d-u,w=p-c,y=v*v+w*w,x,S;if(y<R2)S=Math.log(g/f)/t,x=function(G){return[u+G*v,c+G*w,f*Math.exp(t*G*S)]};else{var R=Math.sqrt(y),I=(g*g-f*f+o*y)/(2*f*n*R),L=(g*g-f*f-o*y)/(2*g*n*R),U=Math.log(Math.sqrt(I*I+1)-I),V=Math.log(Math.sqrt(L*L+1)-L);S=(V-U)/t,x=function(G){var q=G*S,T=Oy(U),W=f/(n*R)*(T*L2(t*q+U)-V2(U));return[u+W*v,c+W*w,f*T/Oy(t*q+U)]}}return x.duration=S*1e3*t/Math.SQRT2,x}return i.rho=function(s){var a=Math.max(.001,+s),u=a*a,c=u*u;return e(a,u,c)},i})(Math.SQRT2,2,4);var ps=0,Na=0,Ca=0,Ty=1e3,Nu,ka,Cu=0,yr=0,ku=0,Sa=typeof performance=="object"&&performance.now?performance:Date,Iy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function jf(){return yr||(Iy(z2),yr=Sa.now()+ku)}function z2(){yr=0}function Su(){this._call=this._time=this._next=null}Su.prototype=Dy.prototype={constructor:Su,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?jf():+n)+(t==null?0:+t),!this._next&&ka!==this&&(ka?ka._next=this:Nu=this,ka=this),this._call=e,this._time=n,Gf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gf())}};function Dy(e,t,n){var o=new Su;return o.restart(e,t,n),o}function B2(){jf(),++ps;for(var e=Nu,t;e;)(t=yr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ps}function My(){yr=(Cu=Sa.now())+ku,ps=Na=0;try{B2()}finally{ps=0,H2(),yr=0}}function F2(){var e=Sa.now(),t=e-Cu;t>Ty&&(ku-=t,Cu=e)}function H2(){for(var e,t=Nu,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Nu=n);ka=e,Gf(o)}function Gf(e){if(!ps){Na&&(Na=clearTimeout(Na));var t=e-yr;t>24?(e<1/0&&(Na=setTimeout(My,e-Sa.now()-ku)),Ca&&(Ca=clearInterval(Ca))):(Ca||(Cu=Sa.now(),Ca=setInterval(F2,Ty)),ps=1,Iy(My))}}function Ay(e,t,n){var o=new Su;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,n),o}var U2=pu("start","end","cancel","interrupt"),j2=[],Py=0,Ry=1,Wf=2,Ou=3,Vy=4,qf=5,Tu=6;function Iu(e,t,n,o,i,s){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;G2(e,n,{name:t,index:o,group:i,on:U2,tween:j2,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Py})}function Yf(e,t){var n=_o(e,t);if(n.state>Py)throw new Error("too late; already scheduled");return n}function Po(e,t){var n=_o(e,t);if(n.state>Ou)throw new Error("too late; already running");return n}function _o(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function G2(e,t,n){var o=e.__transition,i;o[t]=n,n.timer=Dy(s,0,n.time);function s(f){n.state=Ry,n.timer.restart(a,n.delay,n.time),n.delay<=f&&a(f-n.delay)}function a(f){var d,p,g,v;if(n.state!==Ry)return c();for(d in o)if(v=o[d],v.name===n.name){if(v.state===Ou)return Ay(a);v.state===Vy?(v.state=Tu,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete o[d]):+d<t&&(v.state=Tu,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete o[d])}if(Ay(function(){n.state===Ou&&(n.state=Vy,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=Wf,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Wf){for(n.state=Ou,i=new Array(g=n.tween.length),d=0,p=-1;d<g;++d)(v=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++p]=v);i.length=p+1}}function u(f){for(var d=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=qf,1),p=-1,g=i.length;++p<g;)i[p].call(e,d);n.state===qf&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Tu,n.timer.stop(),delete o[t];for(var f in o)return;delete e.__transition}}function Du(e,t){var n=e.__transition,o,i,s=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){s=!1;continue}i=o.state>Wf&&o.state<qf,o.state=Tu,o.timer.stop(),o.on.call(i?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}s&&delete e.__transition}}function W2(e){return this.each(function(){Du(this,e)})}function q2(e,t){var n,o;return function(){var i=Po(this,e),s=i.tween;if(s!==n){o=n=s;for(var a=0,u=o.length;a<u;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function Y2(e,t,n){var o,i;if(typeof n!="function")throw new Error;return function(){var s=Po(this,e),a=s.tween;if(a!==o){i=(o=a).slice();for(var u={name:t,value:n},c=0,f=i.length;c<f;++c)if(i[c].name===t){i[c]=u;break}c===f&&i.push(u)}s.tween=i}}function K2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=_o(this.node(),n).tween,i=0,s=o.length,a;i<s;++i)if((a=o[i]).name===e)return a.value;return null}return this.each((t==null?q2:Y2)(n,e,t))}function Kf(e,t,n){var o=e._id;return e.each(function(){var i=Po(this,o);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return _o(i,o).value[t]}}function Ly(e,t){var n;return(typeof t=="number"?Ao:t instanceof vr?Eu:(n=vr(t))?(t=n,Eu):Ny)(e,t)}function X2(e){return function(){this.removeAttribute(e)}}function Z2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function J2(e,t,n){var o,i=n+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===o?s:s=t(o=a,n)}}function Q2(e,t,n){var o,i=n+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?s:s=t(o=a,n)}}function eT(e,t,n){var o,i,s;return function(){var a,u=n(this),c;return u==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=u+"",a===c?null:a===o&&c===i?s:(i=c,s=t(o=a,u)))}}function tT(e,t,n){var o,i,s;return function(){var a,u=n(this),c;return u==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=u+"",a===c?null:a===o&&c===i?s:(i=c,s=t(o=a,u)))}}function nT(e,t){var n=gu(e),o=n==="transform"?P2:Ly;return this.attrTween(e,typeof t=="function"?(n.local?tT:eT)(n,o,Kf(this,"attr."+e,t)):t==null?(n.local?Z2:X2)(n):(n.local?Q2:J2)(n,o,t))}function oT(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function iT(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function rT(e,t){var n,o;function i(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&iT(e,s)),n}return i._value=t,i}function sT(e,t){var n,o;function i(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&oT(e,s)),n}return i._value=t,i}function aT(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=gu(e);return this.tween(n,(o.local?rT:sT)(o,t))}function lT(e,t){return function(){Yf(this,e).delay=+t.apply(this,arguments)}}function uT(e,t){return t=+t,function(){Yf(this,e).delay=t}}function cT(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lT:uT)(t,e)):_o(this.node(),t).delay}function dT(e,t){return function(){Po(this,e).duration=+t.apply(this,arguments)}}function fT(e,t){return t=+t,function(){Po(this,e).duration=t}}function pT(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?dT:fT)(t,e)):_o(this.node(),t).duration}function hT(e,t){if(typeof t!="function")throw new Error;return function(){Po(this,e).ease=t}}function gT(e){var t=this._id;return arguments.length?this.each(hT(t,e)):_o(this.node(),t).ease}function vT(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Po(this,e).ease=n}}function mT(e){if(typeof e!="function")throw new Error;return this.each(vT(this._id,e))}function _T(e){typeof e!="function"&&(e=ny(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,u=o[i]=[],c,f=0;f<a;++f)(c=s[f])&&e.call(c,c.__data__,f,s)&&u.push(c);return new oi(o,this._parents,this._name,this._id)}function yT(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,s=Math.min(o,i),a=new Array(o),u=0;u<s;++u)for(var c=t[u],f=n[u],d=c.length,p=a[u]=new Array(d),g,v=0;v<d;++v)(g=c[v]||f[v])&&(p[v]=g);for(;u<o;++u)a[u]=t[u];return new oi(a,this._parents,this._name,this._id)}function bT(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function wT(e,t,n){var o,i,s=bT(t)?Yf:Po;return function(){var a=s(this,e),u=a.on;u!==o&&(i=(o=u).copy()).on(t,n),a.on=i}}function ET(e,t){var n=this._id;return arguments.length<2?_o(this.node(),n).on.on(e):this.each(wT(n,e,t))}function xT(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function $T(){return this.on("end.remove",xT(this._id))}function NT(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Mf(e));for(var o=this._groups,i=o.length,s=new Array(i),a=0;a<i;++a)for(var u=o[a],c=u.length,f=s[a]=new Array(c),d,p,g=0;g<c;++g)(d=u[g])&&(p=e.call(d,d.__data__,g,u))&&("__data__"in d&&(p.__data__=d.__data__),f[g]=p,Iu(f[g],t,n,g,f,_o(d,n)));return new oi(s,this._parents,t,n)}function CT(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ty(e));for(var o=this._groups,i=o.length,s=[],a=[],u=0;u<i;++u)for(var c=o[u],f=c.length,d,p=0;p<f;++p)if(d=c[p]){for(var g=e.call(d,d.__data__,p,c),v,w=_o(d,n),y=0,x=g.length;y<x;++y)(v=g[y])&&Iu(v,t,n,y,g,w);s.push(g),a.push(d)}return new oi(s,a,t,n)}var kT=ya.prototype.constructor;function ST(){return new kT(this._groups,this._parents)}function OT(e,t){var n,o,i;return function(){var s=cs(this,e),a=(this.style.removeProperty(e),cs(this,e));return s===a?null:s===n&&a===o?i:i=t(n=s,o=a)}}function zy(e){return function(){this.style.removeProperty(e)}}function TT(e,t,n){var o,i=n+"",s;return function(){var a=cs(this,e);return a===i?null:a===o?s:s=t(o=a,n)}}function IT(e,t,n){var o,i,s;return function(){var a=cs(this,e),u=n(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(e),cs(this,e))),a===c?null:a===o&&c===i?s:(i=c,s=t(o=a,u))}}function DT(e,t){var n,o,i,s="style."+t,a="end."+s,u;return function(){var c=Po(this,e),f=c.on,d=c.value[s]==null?u||(u=zy(t)):void 0;(f!==n||i!==d)&&(o=(n=f).copy()).on(a,i=d),c.on=o}}function MT(e,t,n){var o=(e+="")=="transform"?A2:Ly;return t==null?this.styleTween(e,OT(e,o)).on("end.style."+e,zy(e)):typeof t=="function"?this.styleTween(e,IT(e,o,Kf(this,"style."+e,t))).each(DT(this._id,e)):this.styleTween(e,TT(e,o,t),n).on("end.style."+e,null)}function AT(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function PT(e,t,n){var o,i;function s(){var a=t.apply(this,arguments);return a!==i&&(o=(i=a)&&AT(e,a,n)),o}return s._value=t,s}function RT(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,PT(e,t,n??""))}function VT(e){return function(){this.textContent=e}}function LT(e){return function(){var t=e(this);this.textContent=t??""}}function zT(e){return this.tween("text",typeof e=="function"?LT(Kf(this,"text",e)):VT(e==null?"":e+""))}function BT(e){return function(t){this.textContent=e.call(this,t)}}function FT(e){var t,n;function o(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&BT(i)),t}return o._value=e,o}function HT(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,FT(e))}function UT(){for(var e=this._name,t=this._id,n=By(),o=this._groups,i=o.length,s=0;s<i;++s)for(var a=o[s],u=a.length,c,f=0;f<u;++f)if(c=a[f]){var d=_o(c,t);Iu(c,e,n,f,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new oi(o,this._parents,e,n)}function jT(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(s,a){var u={value:a},c={value:function(){--i===0&&s()}};n.each(function(){var f=Po(this,o),d=f.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),f.on=t}),i===0&&s()})}var GT=0;function oi(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function By(){return++GT}var ii=ya.prototype;oi.prototype={constructor:oi,select:NT,selectAll:CT,selectChild:ii.selectChild,selectChildren:ii.selectChildren,filter:_T,merge:yT,selection:ST,transition:UT,call:ii.call,nodes:ii.nodes,node:ii.node,size:ii.size,empty:ii.empty,each:ii.each,on:ET,attr:nT,attrTween:aT,style:MT,styleTween:RT,text:zT,textTween:HT,remove:$T,tween:K2,delay:cT,duration:pT,ease:gT,easeVarying:mT,end:jT,[Symbol.iterator]:ii[Symbol.iterator]};function WT(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var qT={time:null,delay:0,duration:250,ease:WT};function YT(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function KT(e){var t,n;e instanceof oi?(t=e._id,e=e._name):(t=By(),(n=qT).time=jf(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,s=0;s<i;++s)for(var a=o[s],u=a.length,c,f=0;f<u;++f)(c=a[f])&&Iu(c,e,t,f,a,n||YT(c,t));return new oi(o,this._parents,e,t)}ya.prototype.interrupt=W2,ya.prototype.transition=KT;const Mu=e=>()=>e;function XT(e,{sourceEvent:t,target:n,transform:o,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function ri(e,t,n){this.k=e,this.x=t,this.y=n}ri.prototype={constructor:ri,scale:function(e){return e===1?this:new ri(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ri(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hs=new ri(1,0,0);ri.prototype;function Xf(e){e.stopImmediatePropagation()}function Oa(e){e.preventDefault(),e.stopImmediatePropagation()}function ZT(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function JT(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Fy(){return this.__zoom||hs}function QT(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function eI(){return navigator.maxTouchPoints||"ontouchstart"in this}function tI(e,t,n){var o=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function nI(){var e=ZT,t=JT,n=tI,o=QT,i=eI,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,c=$u,f=pu("start","zoom","end"),d,p,g,v=500,w=150,y=0,x=10;function S(N){N.property("__zoom",Fy).on("wheel.zoom",q,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",W).filter(i).on("touchstart.zoom",J).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(N,Q,j,ne){var Y=N.selection?N.selection():N;Y.property("__zoom",Fy),N!==Y?U(N,Q,j,ne):Y.interrupt().each(function(){V(this,arguments).event(ne).start().zoom(null,typeof Q=="function"?Q.apply(this,arguments):Q).end()})},S.scaleBy=function(N,Q,j,ne){S.scaleTo(N,function(){var Y=this.__zoom.k,fe=typeof Q=="function"?Q.apply(this,arguments):Q;return Y*fe},j,ne)},S.scaleTo=function(N,Q,j,ne){S.transform(N,function(){var Y=t.apply(this,arguments),fe=this.__zoom,oe=j==null?L(Y):typeof j=="function"?j.apply(this,arguments):j,te=fe.invert(oe),ge=typeof Q=="function"?Q.apply(this,arguments):Q;return n(I(R(fe,ge),oe,te),Y,a)},j,ne)},S.translateBy=function(N,Q,j,ne){S.transform(N,function(){return n(this.__zoom.translate(typeof Q=="function"?Q.apply(this,arguments):Q,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),a)},null,ne)},S.translateTo=function(N,Q,j,ne,Y){S.transform(N,function(){var fe=t.apply(this,arguments),oe=this.__zoom,te=ne==null?L(fe):typeof ne=="function"?ne.apply(this,arguments):ne;return n(hs.translate(te[0],te[1]).scale(oe.k).translate(typeof Q=="function"?-Q.apply(this,arguments):-Q,typeof j=="function"?-j.apply(this,arguments):-j),fe,a)},ne,Y)};function R(N,Q){return Q=Math.max(s[0],Math.min(s[1],Q)),Q===N.k?N:new ri(Q,N.x,N.y)}function I(N,Q,j){var ne=Q[0]-j[0]*N.k,Y=Q[1]-j[1]*N.k;return ne===N.x&&Y===N.y?N:new ri(N.k,ne,Y)}function L(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function U(N,Q,j,ne){N.on("start.zoom",function(){V(this,arguments).event(ne).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(ne).end()}).tween("zoom",function(){var Y=this,fe=arguments,oe=V(Y,fe).event(ne),te=t.apply(Y,fe),ge=j==null?L(te):typeof j=="function"?j.apply(Y,fe):j,Ee=Math.max(te[1][0]-te[0][0],te[1][1]-te[0][1]),ae=Y.__zoom,me=typeof Q=="function"?Q.apply(Y,fe):Q,Ne=c(ae.invert(ge).concat(Ee/ae.k),me.invert(ge).concat(Ee/me.k));return function(re){if(re===1)re=me;else{var ye=Ne(re),ve=Ee/ye[2];re=new ri(ve,ge[0]-ye[0]*ve,ge[1]-ye[1]*ve)}oe.zoom(null,re)}})}function V(N,Q,j){return!j&&N.__zooming||new G(N,Q)}function G(N,Q){this.that=N,this.args=Q,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,Q),this.taps=0}G.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,Q){return this.mouse&&N!=="mouse"&&(this.mouse[1]=Q.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=Q.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=Q.invert(this.touch1[0])),this.that.__zoom=Q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var Q=vo(this.that).datum();f.call(N,this.that,new XT(N,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:f}),Q)}};function q(N,...Q){if(!e.apply(this,arguments))return;var j=V(this,Q).event(N),ne=this.__zoom,Y=Math.max(s[0],Math.min(s[1],ne.k*Math.pow(2,o.apply(this,arguments)))),fe=Do(N);if(j.wheel)(j.mouse[0][0]!==fe[0]||j.mouse[0][1]!==fe[1])&&(j.mouse[1]=ne.invert(j.mouse[0]=fe)),clearTimeout(j.wheel);else{if(ne.k===Y)return;j.mouse=[fe,ne.invert(fe)],Du(this),j.start()}Oa(N),j.wheel=setTimeout(oe,w),j.zoom("mouse",n(I(R(ne,Y),j.mouse[0],j.mouse[1]),j.extent,a));function oe(){j.wheel=null,j.end()}}function T(N,...Q){if(g||!e.apply(this,arguments))return;var j=N.currentTarget,ne=V(this,Q,!0).event(N),Y=vo(N.view).on("mousemove.zoom",ge,!0).on("mouseup.zoom",Ee,!0),fe=Do(N,j),oe=N.clientX,te=N.clientY;fy(N.view),Xf(N),ne.mouse=[fe,this.__zoom.invert(fe)],Du(this),ne.start();function ge(ae){if(Oa(ae),!ne.moved){var me=ae.clientX-oe,Ne=ae.clientY-te;ne.moved=me*me+Ne*Ne>y}ne.event(ae).zoom("mouse",n(I(ne.that.__zoom,ne.mouse[0]=Do(ae,j),ne.mouse[1]),ne.extent,a))}function Ee(ae){Y.on("mousemove.zoom mouseup.zoom",null),py(ae.view,ne.moved),Oa(ae),ne.event(ae).end()}}function W(N,...Q){if(e.apply(this,arguments)){var j=this.__zoom,ne=Do(N.changedTouches?N.changedTouches[0]:N,this),Y=j.invert(ne),fe=j.k*(N.shiftKey?.5:2),oe=n(I(R(j,fe),ne,Y),t.apply(this,Q),a);Oa(N),u>0?vo(this).transition().duration(u).call(U,oe,ne,N):vo(this).call(S.transform,oe,ne,N)}}function J(N,...Q){if(e.apply(this,arguments)){var j=N.touches,ne=j.length,Y=V(this,Q,N.changedTouches.length===ne).event(N),fe,oe,te,ge;for(Xf(N),oe=0;oe<ne;++oe)te=j[oe],ge=Do(te,this),ge=[ge,this.__zoom.invert(ge),te.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==ge[2]&&(Y.touch1=ge,Y.taps=0):(Y.touch0=ge,fe=!0,Y.taps=1+!!d);d&&(d=clearTimeout(d)),fe&&(Y.taps<2&&(p=ge[0],d=setTimeout(function(){d=null},v)),Du(this),Y.start())}}function B(N,...Q){if(this.__zooming){var j=V(this,Q).event(N),ne=N.changedTouches,Y=ne.length,fe,oe,te,ge;for(Oa(N),fe=0;fe<Y;++fe)oe=ne[fe],te=Do(oe,this),j.touch0&&j.touch0[2]===oe.identifier?j.touch0[0]=te:j.touch1&&j.touch1[2]===oe.identifier&&(j.touch1[0]=te);if(oe=j.that.__zoom,j.touch1){var Ee=j.touch0[0],ae=j.touch0[1],me=j.touch1[0],Ne=j.touch1[1],re=(re=me[0]-Ee[0])*re+(re=me[1]-Ee[1])*re,ye=(ye=Ne[0]-ae[0])*ye+(ye=Ne[1]-ae[1])*ye;oe=R(oe,Math.sqrt(re/ye)),te=[(Ee[0]+me[0])/2,(Ee[1]+me[1])/2],ge=[(ae[0]+Ne[0])/2,(ae[1]+Ne[1])/2]}else if(j.touch0)te=j.touch0[0],ge=j.touch0[1];else return;j.zoom("touch",n(I(oe,te,ge),j.extent,a))}}function Z(N,...Q){if(this.__zooming){var j=V(this,Q).event(N),ne=N.changedTouches,Y=ne.length,fe,oe;for(Xf(N),g&&clearTimeout(g),g=setTimeout(function(){g=null},v),fe=0;fe<Y;++fe)oe=ne[fe],j.touch0&&j.touch0[2]===oe.identifier?delete j.touch0:j.touch1&&j.touch1[2]===oe.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(oe=Do(oe,this),Math.hypot(p[0]-oe[0],p[1]-oe[1])<x)){var te=vo(this).on("dblclick.zoom");te&&te.apply(this,arguments)}}}return S.wheelDelta=function(N){return arguments.length?(o=typeof N=="function"?N:Mu(+N),S):o},S.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Mu(!!N),S):e},S.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:Mu(!!N),S):i},S.extent=function(N){return arguments.length?(t=typeof N=="function"?N:Mu([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),S):t},S.scaleExtent=function(N){return arguments.length?(s[0]=+N[0],s[1]=+N[1],S):[s[0],s[1]]},S.translateExtent=function(N){return arguments.length?(a[0][0]=+N[0][0],a[1][0]=+N[1][0],a[0][1]=+N[0][1],a[1][1]=+N[1][1],S):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},S.constrain=function(N){return arguments.length?(n=N,S):n},S.duration=function(N){return arguments.length?(u=+N,S):u},S.interpolate=function(N){return arguments.length?(c=N,S):c},S.on=function(){var N=f.on.apply(f,arguments);return N===f?S:N},S.clickDistance=function(N){return arguments.length?(y=(N=+N)*N,S):Math.sqrt(y)},S.tapDistance=function(N){return arguments.length?(x=+N,S):x},S}var Re=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(Re||{}),Zf=(e=>(e.Partial="partial",e.Full="full",e))(Zf||{}),br=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(br||{}),Mi=(e=>(e.Strict="strict",e.Loose="loose",e))(Mi||{}),Au=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Au||{}),Ta=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Ta||{});const oI=["INPUT","SELECT","TEXTAREA"],iI=typeof document<"u"?document:null;function Jf(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,i=typeof o?.hasAttribute=="function"?o.hasAttribute("contenteditable"):!1,s=typeof o?.closest=="function"?o.closest(".nokey"):null;return oI.includes(o?.nodeName)||i||!!s}function rI(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Hy(e,t,n,o){const i=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(a=>a.trim().toLowerCase());if(i.length===1)return e.toLowerCase()===t.toLowerCase();o||n.add(e.toLowerCase());const s=i.every((a,u)=>n.has(a)&&Array.from(n.values())[u]===i[u]);return o&&n.delete(e.toLowerCase()),s}function sI(e,t){return n=>{if(!n.code&&!n.key)return!1;const o=aI(n.code,e);return Array.isArray(e)?e.some(i=>Hy(n[o],i,t,n.type==="keyup")):Hy(n[o],e,t,n.type==="keyup")}}function aI(e,t){return t.includes(e)?"code":"key"}function Ia(e,t){const n=$e(()=>gt(t?.target)??iI),o=Xs(gt(e)===!0);let i=!1;const s=new Set;let a=c(gt(e));Le(()=>gt(e),(f,d)=>{typeof d=="boolean"&&typeof f!="boolean"&&u(),a=c(f)},{immediate:!0}),X_(["blur","contextmenu"],u),Z_((...f)=>a(...f),f=>{var d,p;const g=gt(t?.actInsideInputWithModifier)??!0,v=gt(t?.preventDefault)??!1;if(i=rI(f),(!i||i&&!g)&&Jf(f))return;const y=((p=(d=f.composedPath)==null?void 0:d.call(f))==null?void 0:p[0])||f.target,x=y?.nodeName==="BUTTON"||y?.nodeName==="A";!v&&(i||!x)&&f.preventDefault(),o.value=!0},{eventName:"keydown",target:n}),Z_((...f)=>a(...f),f=>{const d=gt(t?.actInsideInputWithModifier)??!0;if(o.value){if((!i||i&&!d)&&Jf(f))return;i=!1,o.value=!1}},{eventName:"keyup",target:n});function u(){i=!1,s.clear(),o.value=gt(e)===!0}function c(f){return f===null?(u(),()=>!1):typeof f=="boolean"?(u(),o.value=f,()=>!1):Array.isArray(f)||typeof f=="string"?sI(f,s):f}return o}const Uy="vue-flow__node-desc",jy="vue-flow__edge-desc",lI="vue-flow__aria-live",Gy=["Enter"," ","Escape"],gs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Pu(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function Ru(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function Vu(e){return{width:e.offsetWidth,height:e.offsetHeight}}function wr(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Wy(e,t){return{x:wr(e.x,t[0][0],t[1][0]),y:wr(e.y,t[0][1],t[1][1])}}function qy(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function Ai(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Er(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!Ai(e)}function Da(e){return Er(e)&&"computedPosition"in e}function Lu(e){return!Number.isNaN(e)&&Number.isFinite(e)}function uI(e){return Lu(e.width)&&Lu(e.height)&&Lu(e.x)&&Lu(e.y)}function cI(e,t,n){const o={id:e.id.toString(),type:e.type??"default",dimensions:Ks({width:0,height:0}),computedPosition:Ks({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Xt(e.data)?e.data:{},events:Ks(Xt(e.events)?e.events:{})};return Object.assign(t??o,e,{id:e.id.toString(),parentNode:n})}function Yy(e,t,n){var o,i;const s={id:e.id.toString(),type:e.type??t?.type??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(i=e.targetHandle)==null?void 0:i.toString(),updatable:e.updatable??n?.updatable,selectable:e.selectable??n?.selectable,focusable:e.focusable??n?.focusable,data:Xt(e.data)?e.data:{},events:Ks(Xt(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??n?.interactionWidth,...n??{}};return Object.assign(t??s,e,{id:e.id.toString()})}function Ky(e,t,n,o){const i=typeof e=="string"?e:e.id,s=new Set,a=o==="source"?"target":"source";for(const u of n)u[a]===i&&s.add(u[o]);return t.filter(u=>s.has(u.id))}function dI(...e){if(e.length===3){const[s,a,u]=e;return Ky(s,a,u,"target")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(s=>Ai(s)&&s.source===o).map(s=>n.find(a=>Er(a)&&a.id===s.target))}function fI(...e){if(e.length===3){const[s,a,u]=e;return Ky(s,a,u,"source")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(s=>Ai(s)&&s.target===o).map(s=>n.find(a=>Er(a)&&a.id===s.source))}function Xy({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function pI(e,t){return t.some(n=>Ai(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Qf({x:e,y:t},{x:n,y:o,zoom:i}){return{x:e*i+n,y:t*i+o}}function Ma({x:e,y:t},{x:n,y:o,zoom:i},s=!1,a=[1,1]){const u={x:(e-n)/i,y:(t-o)/i};return s?Bu(u,a):u}function Zy(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function zu({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function Jy({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function hI(e,t){return Jy(Zy(zu(e),zu(t)))}function ep(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const o=e[n];t=Zy(t,zu({...o.computedPosition,...o.dimensions}))}return Jy(t)}function Qy(e,t,n={x:0,y:0,zoom:1},o=!1,i=!1){const s={...Ma(t,n),width:t.width/n.zoom,height:t.height/n.zoom},a=[];for(const u of e){const{dimensions:c,selectable:f=!0,hidden:d=!1}=u,p=c.width??u.width??null,g=c.height??u.height??null;if(i&&!f||d)continue;const v=Ru(s,Pu(u)),w=p===null||g===null,y=o&&v>0,x=(p??0)*(g??0);(w||y||v>=x||u.dragging)&&a.push(u)}return a}function xr(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function e0(e,t,n,o,i,s=.1,a={x:0,y:0}){const u=t/(e.width*(1+s)),c=n/(e.height*(1+s)),f=Math.min(u,c),d=wr(f,o,i),p=e.x+e.width/2,g=e.y+e.height/2,v=t/2-p*d+(a.x??0),w=n/2-g*d+(a.y??0);return{x:v,y:w,zoom:d}}function gI(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function t0(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:t0(n,t):!1}function Aa(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`}function tp(e){const t=e.ctrlKey&&Pa()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function n0(e,t,n){return e<t?wr(Math.abs(e-t),1,t)/t:e>n?-wr(Math.abs(e-n),1,t)/t:0}function o0(e,t,n=15,o=40){const i=n0(e.x,o,t.width-o)*n,s=n0(e.y,o,t.height-o)*n;return[i,s]}function np(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let i={};if(typeof t.style=="function"?i={...t.style(t)}:t.style&&(i={...t.style}),i.width=i.width??`${t.dimensions.width}px`,i.height=i.height??`${t.dimensions.height}px`,n>0)if(typeof i.width=="string"){const s=Number(i.width.replace("px",""));i.width=`${s+n}px`}else i.width+=n;if(o>0)if(typeof i.height=="string"){const s=Number(i.height.replace("px",""));i.height=`${s+o}px`}else i.height+=o;if(e.position.x<0){const s=Math.abs(e.position.x);if(t.position.x=t.position.x-s,typeof i.width=="string"){const a=Number(i.width.replace("px",""));i.width=`${a+s}px`}else i.width+=s;e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);if(t.position.y=t.position.y-s,typeof i.height=="string"){const a=Number(i.height.replace("px",""));i.height=`${a+s}px`}else i.height+=s;e.position.y=0}t.dimensions.width=Number(i.width.toString().replace("px","")),t.dimensions.height=Number(i.height.toString().replace("px","")),typeof t.style=="function"?t.style=s=>{const a=t.style;return{...a(s),...i}}:t.style={...t.style,...i}}}}function i0(e,t){var n,o;const i=e.filter(a=>a.type==="add"||a.type==="remove");for(const a of i)if(a.type==="add")t.findIndex(c=>c.id===a.item.id)===-1&&t.push(a.item);else if(a.type==="remove"){const u=t.findIndex(c=>c.id===a.id);u!==-1&&t.splice(u,1)}const s=t.map(a=>a.id);for(const a of t)for(const u of e)if(u.id===a.id)switch(u.type){case"select":a.selected=u.selected;break;case"position":if(Da(a)&&(typeof u.position<"u"&&(a.position=u.position),typeof u.dragging<"u"&&(a.dragging=u.dragging),a.expandParent&&a.parentNode)){const c=t[s.indexOf(a.parentNode)];c&&Da(c)&&np(a,c)}break;case"dimensions":if(Da(a)&&(typeof u.dimensions<"u"&&(a.dimensions=u.dimensions),typeof u.updateStyle<"u"&&u.updateStyle&&(a.style={...a.style||{},width:`${(n=u.dimensions)==null?void 0:n.width}px`,height:`${(o=u.dimensions)==null?void 0:o.height}px`}),typeof u.resizing<"u"&&(a.resizing=u.resizing),a.expandParent&&a.parentNode)){const c=t[s.indexOf(a.parentNode)];c&&Da(c)&&(!!c.dimensions.width&&!!c.dimensions.height?np(a,c):St(()=>{np(a,c)}))}break}return t}function Pi(e,t){return{id:e,type:"select",selected:t}}function r0(e){return{item:e,type:"add"}}function s0(e){return{id:e,type:"remove"}}function a0(e,t,n,o,i){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:i||null,type:"remove"}}function Ri(e,t=new Set,n=!1){const o=[];for(const[i,s]of e){const a=t.has(i);!(s.selected===void 0&&!a)&&s.selected!==a&&(n&&(s.selected=a),o.push(Pi(s.id,a)))}return o}const l0=()=>{};function ze(e){const t=new Set;let n=l0,o=()=>!1;const i=()=>t.size>0||o(),s=g=>{n=g},a=()=>{n=l0},u=g=>{o=g},c=()=>{o=()=>!1},f=g=>{t.delete(g)};return{on:g=>{t.add(g);const v=()=>f(g);return _a(v),{off:v}},off:f,trigger:g=>{const v=[n];return i()?v.push(...t):e&&v.push(e),Promise.allSettled(v.map(w=>w(g)))},hasListeners:i,listeners:t,setEmitter:s,removeEmitter:a,setHasEmitListeners:u,removeHasEmitListeners:c}}function u0(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function vI(e,t,n,o){var i,s;const a=new Map;for(const[u,c]of e)(c.selected||c.id===o)&&(!c.parentNode||!t0(c,e))&&(c.draggable||t&&typeof c.draggable>"u")&&e.get(u)&&a.set(u,{id:c.id,position:c.position||{x:0,y:0},distance:{x:n.x-((i=c.computedPosition)==null?void 0:i.x)||0,y:n.y-((s=c.computedPosition)==null?void 0:s.y)||0},from:{x:c.computedPosition.x,y:c.computedPosition.y},extent:c.extent,parentNode:c.parentNode,dimensions:{...c.dimensions},expandParent:c.expandParent});return Array.from(a.values())}function op({id:e,dragItems:t,findNode:n}){const o=[];for(const i of t){const s=n(i.id);s&&o.push(s)}return[e?o.find(i=>i.id===e):o[0],o]}function c0(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function mI(e,t,n){const[o,i,s,a]=typeof e!="string"?c0(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+a,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-i,n.computedPosition.y+n.dimensions.height-s]]:!1}function _I(e,t,n,o){let i=e.extent||n;if((i==="parent"||!Array.isArray(i)&&i?.range==="parent")&&!e.expandParent)if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const s=mI(i,e,o);s&&(i=s)}else t(new en(Kt.NODE_EXTENT_INVALID,e.id)),i=n;else if(Array.isArray(i)){const s=o?.computedPosition.x||0,a=o?.computedPosition.y||0;i=[[i[0][0]+s,i[0][1]+a],[i[1][0]+s,i[1][1]+a]]}else if(i!=="parent"&&i?.range&&Array.isArray(i.range)){const[s,a,u,c]=c0(i.padding),f=o?.computedPosition.x||0,d=o?.computedPosition.y||0;i=[[i.range[0][0]+f+c,i.range[0][1]+d+s],[i.range[1][0]+f-a,i.range[1][1]+d-u]]}return i==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:i}function yI({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function ip(e,t,n,o,i){const s=yI(e.dimensions,_I(e,n,o,i)),a=Wy(t,s);return{position:{x:a.x-(i?.computedPosition.x||0),y:a.y-(i?.computedPosition.y||0)},computedPosition:a}}function vs(e,t,n=Re.Left,o=!1){const i=(t?.x??0)+e.computedPosition.x,s=(t?.y??0)+e.computedPosition.y,{width:a,height:u}=t??xI(e);if(o)return{x:i+a/2,y:s+u/2};switch(t?.position??n){case Re.Top:return{x:i+a/2,y:s};case Re.Right:return{x:i+a,y:s+u/2};case Re.Bottom:return{x:i+a/2,y:s+u};case Re.Left:return{x:i,y:s+u/2}}}function d0(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function bI({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:i,targetHeight:s,width:a,height:u,viewport:c}){const f={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+o,t.y+s)};f.x===f.x2&&(f.x2+=1),f.y===f.y2&&(f.y2+=1);const d=zu({x:(0-c.x)/c.zoom,y:(0-c.y)/c.zoom,width:a/c.zoom,height:u/c.zoom}),p=Math.max(0,Math.min(d.x2,f.x2)-Math.max(d.x,f.x)),g=Math.max(0,Math.min(d.y2,f.y2)-Math.max(d.y,f.y));return Math.ceil(p*g)>0}function wI(e,t,n=!1){const o=typeof e.zIndex=="number";let i=o?e.zIndex:0;const s=t(e.source),a=t(e.target);return!s||!a?0:(n&&(i=o?e.zIndex:Math.max(s.computedPosition.z||0,a.computedPosition.z||0)),i)}var Kt=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Kt||{});const f0={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class en extends Error{constructor(t,...n){var o;super((o=f0[t])==null?void 0:o.call(f0,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function rp(e){return"clientX"in e}function EI(e){return"sourceEvent"in e}function Ro(e,t){const n=rp(e);let o,i;return n?(o=e.clientX,i=e.clientY):"touches"in e&&e.touches.length>0?(o=e.touches[0].clientX,i=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(o=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY):(o=0,i=0),{x:o-(t?.left??0),y:i-(t?.top??0)}}const Pa=()=>{var e;return typeof navigator<"u"&&((e=navigator?.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function xI(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function Bu(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const $I=()=>!0;function sp(e){e?.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function NI(e,t,n){const o=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())Ru(i,Pu(s))>0&&o.push(s);return o}const CI=250;function kI(e,t,n,o){var i,s;let a=[],u=Number.POSITIVE_INFINITY;const c=NI(e,n,t+CI);for(const f of c){const d=[...((i=f.handleBounds)==null?void 0:i.source)??[],...((s=f.handleBounds)==null?void 0:s.target)??[]];for(const p of d){if(o.nodeId===p.nodeId&&o.type===p.type&&o.id===p.id)continue;const{x:g,y:v}=vs(f,p,p.position,!0),w=Math.sqrt((g-e.x)**2+(v-e.y)**2);w>t||(w<u?(a=[{...p,x:g,y:v}],u=w):w===u&&a.push({...p,x:g,y:v}))}}if(!a.length)return null;if(a.length>1){const f=o.type==="source"?"target":"source";return a.find(d=>d.type===f)??a[0]}return a[0]}function p0(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:i,fromType:s,doc:a,lib:u,flowId:c,isValidConnection:f=$I},d,p,g,v){const w=s==="target",y=t?a.querySelector(`.${u}-flow__handle[data-id="${c}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x,y:S}=Ro(e),R=a.elementFromPoint(x,S),I=R?.classList.contains(`${u}-flow__handle`)?R:y,L={handleDomNode:I,isValid:!1,connection:null,toHandle:null};if(I){const U=h0(void 0,I),V=I.getAttribute("data-nodeid"),G=I.getAttribute("data-handleid"),q=I.classList.contains("connectable"),T=I.classList.contains("connectableend");if(!V||!U)return L;const W={source:w?V:o,sourceHandle:w?G:i,target:w?o:V,targetHandle:w?i:G};L.connection=W;const B=q&&T&&(n===Mi.Strict?w&&U==="source"||!w&&U==="target":V!==o||G!==i);L.isValid=B&&f(W,{nodes:p,edges:d,sourceNode:g(W.source),targetNode:g(W.target)}),L.toHandle=g0(V,U,G,v,n,!0)}return L}function h0(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function SI(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function OI(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function g0(e,t,n,o,i,s=!1){var a,u,c;const f=o.get(e);if(!f)return null;const d=i===Mi.Strict?(a=f.handleBounds)==null?void 0:a[t]:[...((u=f.handleBounds)==null?void 0:u.source)??[],...((c=f.handleBounds)==null?void 0:c.target)??[]],p=(n?d?.find(g=>g.id===n):d?.[0])??null;return p&&s?{...p,...vs(f,p,p.position,!0)}:p}const ap={[Re.Left]:Re.Right,[Re.Right]:Re.Left,[Re.Top]:Re.Bottom,[Re.Bottom]:Re.Top},TI=["production","prod"];function Fu(e,...t){v0()&&console.warn(`[Vue Flow]: ${e}`,...t)}function v0(){return!TI.includes(process.env.NODE_ENV||"")}function m0(e,t,n,o,i){const s=t.querySelectorAll(`.vue-flow__handle.${e}`);return s?.length?Array.from(s).map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:i,position:a.getAttribute("data-handlepos"),x:(u.left-n.left)/o,y:(u.top-n.top)/o,...Vu(a)}}):null}function lp(e,t,n,o,i,s=!1,a){i.value=!1,e.selected?(s||e.selected&&t)&&(o([e]),St(()=>{a.blur()})):n([e])}function Xt(e){return typeof b(e)<"u"}function II(e,t,n,o){if(!e||!e.source||!e.target)return n(new en(Kt.EDGE_INVALID,e?.id??"[ID UNKNOWN]")),!1;let i;return Ai(e)?i=e:i={...e,id:Xy(e)},i=Yy(i,void 0,o),pI(i,t)?!1:i}function DI(e,t,n,o,i){if(!t.source||!t.target)return i(new en(Kt.EDGE_INVALID,e.id)),!1;if(!n)return i(new en(Kt.EDGE_NOT_FOUND,e.id)),!1;const{id:s,...a}=e;return{...a,id:o?Xy(t):s,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function _0(e,t,n){const o={},i=[];for(let s=0;s<e.length;++s){const a=e[s];if(!Er(a)){n(new en(Kt.NODE_INVALID,a?.id)||`[ID UNKNOWN|INDEX ${s}]`);continue}const u=cI(a,t(a.id),a.parentNode);a.parentNode&&(o[a.parentNode]=!0),i[s]=u}for(const s of i){const a=t(s.parentNode)||i.find(u=>u.id===s.parentNode);s.parentNode&&!a&&n(new en(Kt.NODE_MISSING_PARENT,s.id,s.parentNode)),(s.parentNode||o[s.id])&&(o[s.id]&&(s.isParent=!0),a&&(a.isParent=!0))}return i}function y0(e,t,n,o,i,s){let a=i;const u=o.get(a)||new Map;o.set(a,u.set(n,t)),a=`${i}-${e}`;const c=o.get(a)||new Map;if(o.set(a,c.set(n,t)),s){a=`${i}-${e}-${s}`;const f=o.get(a)||new Map;o.set(a,f.set(n,t))}}function up(e,t,n){e.clear();for(const o of n){const{source:i,target:s,sourceHandle:a=null,targetHandle:u=null}=o,c={edgeId:o.id,source:i,target:s,sourceHandle:a,targetHandle:u},f=`${i}-${a}--${s}-${u}`,d=`${s}-${u}--${i}-${a}`;y0("source",c,d,e,i,a),y0("target",c,f,e,s,u)}}function b0(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function cp(e,t,n,o,i,s,a,u){const c=[];for(const f of e){const d=Ai(f)?f:II(f,u,i,s);if(!d)continue;const p=n(d.source),g=n(d.target);if(!p||!g){i(new en(Kt.EDGE_SOURCE_TARGET_MISSING,d.id,d.source,d.target));continue}if(!p){i(new en(Kt.EDGE_SOURCE_MISSING,d.id,d.source));continue}if(!g){i(new en(Kt.EDGE_TARGET_MISSING,d.id,d.target));continue}if(t&&!t(d,{edges:u,nodes:a,sourceNode:p,targetNode:g})){i(new en(Kt.EDGE_INVALID,d.id));continue}const v=o(d.id);c.push({...Yy(d,v,s),sourceNode:p,targetNode:g})}return c}const w0=Symbol("vueFlow"),E0=Symbol("nodeId"),x0=Symbol("nodeRef"),MI=Symbol("edgeId"),AI=Symbol("edgeRef"),Hu=Symbol("slots");function $0(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:i,nodeLookup:s,nodeExtent:a,nodeDragThreshold:u,viewport:c,autoPanOnNodeDrag:f,autoPanSpeed:d,nodesDraggable:p,panBy:g,findNode:v,multiSelectionActive:w,nodesSelectionActive:y,selectNodesOnDrag:x,removeSelectedElements:S,addSelectedNodes:R,updateNodePositions:I,emits:L}=lt(),{onStart:U,onDrag:V,onStop:G,onClick:q,el:T,disabled:W,id:J,selectable:B,dragHandle:Z}=e,N=Xs(!1);let Q=[],j,ne=null,Y={x:void 0,y:void 0},fe={x:0,y:0},oe=null,te=!1,ge=!1,Ee=0,ae=!1;const me=VI(),Ne=({x:Ce,y:k})=>{Y={x:Ce,y:k};let E=!1;if(Q=Q.map(C=>{const F={x:Ce-C.distance.x,y:k-C.distance.y},{computedPosition:A}=ip(C,n.value?Bu(F,o.value):F,L.error,a.value,C.parentNode?v(C.parentNode):void 0);return E=E||C.position.x!==A.x||C.position.y!==A.y,C.position=A,C}),ge=ge||E,!!E&&(I(Q,!0,!0),N.value=!0,oe)){const[C,F]=op({id:J,dragItems:Q,findNode:v});V({event:oe,node:C,nodes:F})}},re=()=>{if(!ne)return;const[Ce,k]=o0(fe,ne,d.value);if(Ce!==0||k!==0){const E={x:(Y.x??0)-Ce/c.value.zoom,y:(Y.y??0)-k/c.value.zoom};g({x:Ce,y:k})&&Ne(E)}Ee=requestAnimationFrame(re)},ye=(Ce,k)=>{te=!0;const E=v(J);!x.value&&!w.value&&E&&(E.selected||S()),E&&gt(B)&&x.value&&lp(E,w.value,R,S,y,!1,k);const C=me(Ce.sourceEvent);if(Y=C,Q=vI(s.value,p.value,C,J),Q.length){const[F,A]=op({id:J,dragItems:Q,findNode:v});U({event:Ce.sourceEvent,node:F,nodes:A})}},ve=(Ce,k)=>{var E;Ce.sourceEvent.type==="touchmove"&&Ce.sourceEvent.touches.length>1||(ge=!1,u.value===0&&ye(Ce,k),Y=me(Ce.sourceEvent),ne=((E=t.value)==null?void 0:E.getBoundingClientRect())||null,fe=Ro(Ce.sourceEvent,ne))},Te=(Ce,k)=>{const E=me(Ce.sourceEvent);if(!ae&&te&&f.value&&(ae=!0,re()),!te){const C=E.xSnapped-(Y.x??0),F=E.ySnapped-(Y.y??0);Math.sqrt(C*C+F*F)>u.value&&ye(Ce,k)}(Y.x!==E.xSnapped||Y.y!==E.ySnapped)&&Q.length&&te&&(oe=Ce.sourceEvent,fe=Ro(Ce.sourceEvent,ne),Ne(E))},we=Ce=>{let k=!1;if(!te&&!N.value&&!w.value){const E=Ce.sourceEvent,C=me(E),F=C.xSnapped-(Y.x??0),A=C.ySnapped-(Y.y??0),ee=Math.sqrt(F*F+A*A);ee!==0&&ee<=u.value&&(q?.(E),k=!0)}if(Q.length&&!k){ge&&(I(Q,!1,!1),ge=!1);const[E,C]=op({id:J,dragItems:Q,findNode:v});G({event:Ce.sourceEvent,node:E,nodes:C})}Q=[],N.value=!1,ae=!1,te=!1,Y={x:void 0,y:void 0},cancelAnimationFrame(Ee)};return Le([()=>gt(W),T],([Ce,k],E,C)=>{if(k){const F=vo(k);Ce||(j=u2().on("start",A=>ve(A,k)).on("drag",A=>Te(A,k)).on("end",A=>we(A)).filter(A=>{const ee=A.target,ce=gt(Z);return!A.button&&(!i.value||!u0(ee,`.${i.value}`,k)&&(!ce||u0(ee,ce,k)))}),F.call(j)),C(()=>{F.on(".drag",null),j&&(j.on("start",null),j.on("drag",null),j.on("end",null))})}}),N}function PI(){return{doubleClick:ze(),click:ze(),mouseEnter:ze(),mouseMove:ze(),mouseLeave:ze(),contextMenu:ze(),updateStart:ze(),update:ze(),updateEnd:ze()}}function RI(e,t){const n=PI();return n.doubleClick.on(o=>{var i,s;t.edgeDoubleClick(o),(s=(i=e.events)==null?void 0:i.doubleClick)==null||s.call(i,o)}),n.click.on(o=>{var i,s;t.edgeClick(o),(s=(i=e.events)==null?void 0:i.click)==null||s.call(i,o)}),n.mouseEnter.on(o=>{var i,s;t.edgeMouseEnter(o),(s=(i=e.events)==null?void 0:i.mouseEnter)==null||s.call(i,o)}),n.mouseMove.on(o=>{var i,s;t.edgeMouseMove(o),(s=(i=e.events)==null?void 0:i.mouseMove)==null||s.call(i,o)}),n.mouseLeave.on(o=>{var i,s;t.edgeMouseLeave(o),(s=(i=e.events)==null?void 0:i.mouseLeave)==null||s.call(i,o)}),n.contextMenu.on(o=>{var i,s;t.edgeContextMenu(o),(s=(i=e.events)==null?void 0:i.contextMenu)==null||s.call(i,o)}),n.updateStart.on(o=>{var i,s;t.edgeUpdateStart(o),(s=(i=e.events)==null?void 0:i.updateStart)==null||s.call(i,o)}),n.update.on(o=>{var i,s;t.edgeUpdate(o),(s=(i=e.events)==null?void 0:i.update)==null||s.call(i,o)}),n.updateEnd.on(o=>{var i,s;t.edgeUpdateEnd(o),(s=(i=e.events)==null?void 0:i.updateEnd)==null||s.call(i,o)}),Object.entries(n).reduce((o,[i,s])=>(o.emit[i]=s.trigger,o.on[i]=s.on,o),{emit:{},on:{}})}function VI(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:o}=lt();return i=>{var s;const a=((s=o.value)==null?void 0:s.getBoundingClientRect())??{left:0,top:0},u=EI(i)?i.sourceEvent:i,{x:c,y:f}=Ro(u,a),d=Ma({x:c,y:f},e.value),{x:p,y:g}=n.value?Bu(d,t.value):d;return{xSnapped:p,ySnapped:g,...d}}}function Uu(){return!0}function N0({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:i,onEdgeUpdate:s,onEdgeUpdateEnd:a}){const{id:u,vueFlowRef:c,connectionMode:f,connectionRadius:d,connectOnClick:p,connectionClickStartHandle:g,nodesConnectable:v,autoPanOnConnect:w,autoPanSpeed:y,findNode:x,panBy:S,startConnection:R,updateConnection:I,endConnection:L,emits:U,viewport:V,edges:G,nodes:q,isValidConnection:T,nodeLookup:W}=lt();let J=null,B=!1,Z=null;function N(j){var ne;const Y=gt(n)==="target",fe=rp(j),oe=qy(j.target),te=j.currentTarget;if(te&&(fe&&j.button===0||!fe)){let ge=function(de){E=Ro(de,we),Ne=kI(Ma(E,V.value,!1,[1,1]),d.value,W.value,A),C||(F(),C=!0);const De=p0(de,{handle:Ne,connectionMode:f.value,fromNodeId:gt(t),fromHandleId:gt(e),fromType:Y?"target":"source",isValidConnection:me,doc:oe,lib:"vue",flowId:u,nodeLookup:W.value},G.value,q.value,x,W.value);Z=De.handleDomNode,J=De.connection,B=OI(!!Ne,De.isValid);const Se={...se,isValid:B,to:De.toHandle&&B?Qf({x:De.toHandle.x,y:De.toHandle.y},V.value):E,toHandle:De.toHandle,toPosition:B&&De.toHandle?De.toHandle.position:ap[A.position],toNode:De.toHandle?W.value.get(De.toHandle.nodeId):null};if(B&&Ne&&se?.toHandle&&Se.toHandle&&se.toHandle.type===Se.toHandle.type&&se.toHandle.nodeId===Se.toHandle.nodeId&&se.toHandle.id===Se.toHandle.id&&se.to.x===Se.to.x&&se.to.y===Se.to.y)return;const Pe=Ne??De.toHandle;if(I(Pe&&B?Qf({x:Pe.x,y:Pe.y},V.value):E,De.toHandle,SI(!!Pe,B)),se=Se,!Ne&&!B&&!Z)return sp(k);J&&J.source!==J.target&&Z&&(sp(k),k=Z,Z.classList.add("connecting","vue-flow__handle-connecting"),Z.classList.toggle("valid",!!B),Z.classList.toggle("vue-flow__handle-valid",!!B))},Ee=function(de){"touches"in de&&de.touches.length>0||((Ne||Z)&&J&&B&&(s?s(de,J):U.connect(J)),U.connectEnd(de),i&&a?.(de),sp(k),cancelAnimationFrame(re),L(de),C=!1,B=!1,J=null,Z=null,oe.removeEventListener("mousemove",ge),oe.removeEventListener("mouseup",Ee),oe.removeEventListener("touchmove",ge),oe.removeEventListener("touchend",Ee))};const ae=x(gt(t));let me=gt(o)||T.value||Uu;!me&&ae&&(me=(Y?ae.isValidSourcePos:ae.isValidTargetPos)||Uu);let Ne,re=0;const{x:ye,y:ve}=Ro(j),Te=h0(gt(i),te),we=(ne=c.value)==null?void 0:ne.getBoundingClientRect();if(!we||!Te)return;const Ce=g0(gt(t),Te,gt(e),W.value,f.value);if(!Ce)return;let k,E=Ro(j,we),C=!1;const F=()=>{if(!w.value)return;const[de,De]=o0(E,we,y.value);S({x:de,y:De}),re=requestAnimationFrame(F)},A={...Ce,nodeId:gt(t),type:Te,position:Ce.position},ee=W.value.get(gt(t)),he={inProgress:!0,isValid:null,from:vs(ee,A,Re.Left,!0),fromHandle:A,fromPosition:A.position,fromNode:ee,to:E,toHandle:null,toPosition:ap[A.position],toNode:null};R({nodeId:gt(t),id:gt(e),type:Te,position:te?.getAttribute("data-handlepos")||Re.Top,...E},{x:ye-we.left,y:ve-we.top}),U.connectStart({event:j,nodeId:gt(t),handleId:gt(e),handleType:Te});let se=he;oe.addEventListener("mousemove",ge),oe.addEventListener("mouseup",Ee),oe.addEventListener("touchmove",ge),oe.addEventListener("touchend",Ee)}}function Q(j){var ne,Y;if(!p.value)return;const fe=gt(n)==="target";if(!g.value){U.clickConnectStart({event:j,nodeId:gt(t),handleId:gt(e)}),R({nodeId:gt(t),type:gt(n),id:gt(e),position:Re.Top,...Ro(j)},void 0,!0);return}let oe=gt(o)||T.value||Uu;const te=x(gt(t));if(!oe&&te&&(oe=(fe?te.isValidSourcePos:te.isValidTargetPos)||Uu),te&&(typeof te.connectable>"u"?v.value:te.connectable)===!1)return;const ge=qy(j.target),Ee=p0(j,{handle:{nodeId:gt(t),id:gt(e),type:gt(n),position:Re.Top,...Ro(j)},connectionMode:f.value,fromNodeId:g.value.nodeId,fromHandleId:g.value.id??null,fromType:g.value.type,isValidConnection:oe,doc:ge,lib:"vue",flowId:u,nodeLookup:W.value},G.value,q.value,x,W.value),ae=((ne=Ee.connection)==null?void 0:ne.source)===((Y=Ee.connection)==null?void 0:Y.target);Ee.isValid&&Ee.connection&&!ae&&U.connect(Ee.connection),U.clickConnectEnd(j),L(j,!0)}return{handlePointerDown:N,handleClick:Q}}function LI(){return Yt(E0,"")}function C0(e){const t=e??LI()??"",n=Yt(x0,X(null)),{findNode:o,edges:i,emits:s}=lt(),a=o(t);return a||s.error(new en(Kt.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:a,parentNode:$e(()=>o(a.parentNode)),connectedEdges:$e(()=>xr([a],i.value))}}function zI(){return{doubleClick:ze(),click:ze(),mouseEnter:ze(),mouseMove:ze(),mouseLeave:ze(),contextMenu:ze(),dragStart:ze(),drag:ze(),dragStop:ze()}}function BI(e,t){const n=zI();return n.doubleClick.on(o=>{var i,s;t.nodeDoubleClick(o),(s=(i=e.events)==null?void 0:i.doubleClick)==null||s.call(i,o)}),n.click.on(o=>{var i,s;t.nodeClick(o),(s=(i=e.events)==null?void 0:i.click)==null||s.call(i,o)}),n.mouseEnter.on(o=>{var i,s;t.nodeMouseEnter(o),(s=(i=e.events)==null?void 0:i.mouseEnter)==null||s.call(i,o)}),n.mouseMove.on(o=>{var i,s;t.nodeMouseMove(o),(s=(i=e.events)==null?void 0:i.mouseMove)==null||s.call(i,o)}),n.mouseLeave.on(o=>{var i,s;t.nodeMouseLeave(o),(s=(i=e.events)==null?void 0:i.mouseLeave)==null||s.call(i,o)}),n.contextMenu.on(o=>{var i,s;t.nodeContextMenu(o),(s=(i=e.events)==null?void 0:i.contextMenu)==null||s.call(i,o)}),n.dragStart.on(o=>{var i,s;t.nodeDragStart(o),(s=(i=e.events)==null?void 0:i.dragStart)==null||s.call(i,o)}),n.drag.on(o=>{var i,s;t.nodeDrag(o),(s=(i=e.events)==null?void 0:i.drag)==null||s.call(i,o)}),n.dragStop.on(o=>{var i,s;t.nodeDragStop(o),(s=(i=e.events)==null?void 0:i.dragStop)==null||s.call(i,o)}),Object.entries(n).reduce((o,[i,s])=>(o.emit[i]=s.trigger,o.on[i]=s.on,o),{emit:{},on:{}})}function k0(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:i,snapToGrid:s,nodesDraggable:a,emits:u}=lt();return(c,f=!1)=>{const d=s.value?i.value[0]:5,p=s.value?i.value[1]:5,g=f?4:1,v=c.x*d*g,w=c.y*p*g,y=[];for(const x of e.value)if(x.draggable||a&&typeof x.draggable>"u"){const S={x:x.computedPosition.x+v,y:x.computedPosition.y+w},{computedPosition:R}=ip(x,S,u.error,t.value,x.parentNode?o(x.parentNode):void 0);y.push({id:x.id,position:R,from:x.position,distance:{x:c.x,y:c.y},dimensions:x.dimensions})}n(y,!0,!1)}}const dp=.1,FI=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function Vi(){return Fu("Viewport not initialized yet."),Promise.resolve(!1)}const HI={zoomIn:Vi,zoomOut:Vi,zoomTo:Vi,fitView:Vi,setCenter:Vi,fitBounds:Vi,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:Vi,setTransform:Vi,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function UI(e){function t(o,i){return new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(i?.interpolate==="linear"?$a:$u).scaleBy(fp(e.d3Selection,i?.duration,i?.ease,()=>{s(!0)}),o):s(!1)})}function n(o,i,s,a){return new Promise(u=>{var c;const{x:f,y:d}=Wy({x:-o,y:-i},e.translateExtent),p=hs.translate(-f,-d).scale(s);e.d3Selection&&e.d3Zoom?(c=e.d3Zoom)==null||c.interpolate(a?.interpolate==="linear"?$a:$u).transform(fp(e.d3Selection,a?.duration,a?.ease,()=>{u(!0)}),p):u(!1)})}return $e(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:i=>t(1.2,i),zoomOut:i=>t(1/1.2,i),zoomTo:(i,s)=>new Promise(a=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(s?.interpolate==="linear"?$a:$u).scaleTo(fp(e.d3Selection,s?.duration,s?.ease,()=>{a(!0)}),i):a(!1)}),setViewport:(i,s)=>n(i.x,i.y,i.zoom,s),setTransform:(i,s)=>n(i.x,i.y,i.zoom,s),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(i={padding:dp,includeHiddenNodes:!1,duration:0})=>{var s,a;const u=[];for(const g of e.nodes)g.dimensions.width&&g.dimensions.height&&(i?.includeHiddenNodes||!g.hidden)&&(!((s=i.nodes)!=null&&s.length)||(a=i.nodes)!=null&&a.length&&i.nodes.includes(g.id))&&u.push(g);if(!u.length)return Promise.resolve(!1);const c=ep(u),{x:f,y:d,zoom:p}=e0(c,e.dimensions.width,e.dimensions.height,i.minZoom??e.minZoom,i.maxZoom??e.maxZoom,i.padding??dp,i.offset);return n(f,d,p,i)},setCenter:(i,s,a)=>{const u=typeof a?.zoom<"u"?a.zoom:e.maxZoom,c=e.dimensions.width/2-i*u,f=e.dimensions.height/2-s*u;return n(c,f,u,a)},fitBounds:(i,s={padding:dp})=>{const{x:a,y:u,zoom:c}=e0(i,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,s.padding);return n(a,u,c,s)},project:i=>Ma(i,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:i=>{if(e.vueFlowRef){const{x:s,y:a}=e.vueFlowRef.getBoundingClientRect(),u={x:i.x-s,y:i.y-a};return Ma(u,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:i=>{if(e.vueFlowRef){const{x:s,y:a}=e.vueFlowRef.getBoundingClientRect(),u={x:i.x+s,y:i.y+a};return Qf(u,e.viewport)}return{x:0,y:0}}}:HI)}function fp(e,t=0,n=FI,o=()=>{}){const i=typeof t=="number"&&t>0;return i||o(),i?e.transition().duration(t).ease(n).on("end",o):e}function jI(e,t,n){const o=hd(!0);return o.run(()=>{const i=()=>{o.run(()=>{let y,x,S=!!(n.nodes.value.length||n.edges.value.length);y=us([e.modelValue,()=>{var R,I;return(I=(R=e.modelValue)==null?void 0:R.value)==null?void 0:I.length}],([R])=>{R&&Array.isArray(R)&&(x?.pause(),n.setElements(R),!x&&!S&&R.length?S=!0:x?.resume())}),x=us([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([R,I])=>{var L;(L=e.modelValue)!=null&&L.value&&Array.isArray(e.modelValue.value)&&(y?.pause(),e.modelValue.value=[...R,...I],St(()=>{y?.resume()}))},{immediate:S}),Hs(()=>{y?.stop(),x?.stop()})})},s=()=>{o.run(()=>{let y,x,S=!!n.nodes.value.length;y=us([e.nodes,()=>{var R,I;return(I=(R=e.nodes)==null?void 0:R.value)==null?void 0:I.length}],([R])=>{R&&Array.isArray(R)&&(x?.pause(),n.setNodes(R),!x&&!S&&R.length?S=!0:x?.resume())}),x=us([n.nodes,()=>n.nodes.value.length],([R])=>{var I;(I=e.nodes)!=null&&I.value&&Array.isArray(e.nodes.value)&&(y?.pause(),e.nodes.value=[...R],St(()=>{y?.resume()}))},{immediate:S}),Hs(()=>{y?.stop(),x?.stop()})})},a=()=>{o.run(()=>{let y,x,S=!!n.edges.value.length;y=us([e.edges,()=>{var R,I;return(I=(R=e.edges)==null?void 0:R.value)==null?void 0:I.length}],([R])=>{R&&Array.isArray(R)&&(x?.pause(),n.setEdges(R),!x&&!S&&R.length?S=!0:x?.resume())}),x=us([n.edges,()=>n.edges.value.length],([R])=>{var I;(I=e.edges)!=null&&I.value&&Array.isArray(e.edges.value)&&(y?.pause(),e.edges.value=[...R],St(()=>{y?.resume()}))},{immediate:S}),Hs(()=>{y?.stop(),x?.stop()})})},u=()=>{o.run(()=>{Le(()=>t.maxZoom,()=>{t.maxZoom&&Xt(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},c=()=>{o.run(()=>{Le(()=>t.minZoom,()=>{t.minZoom&&Xt(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},f=()=>{o.run(()=>{Le(()=>t.translateExtent,()=>{t.translateExtent&&Xt(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},d=()=>{o.run(()=>{Le(()=>t.nodeExtent,()=>{t.nodeExtent&&Xt(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},p=()=>{o.run(()=>{Le(()=>t.applyDefault,()=>{Xt(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},g=()=>{o.run(()=>{const y=async x=>{let S=x;typeof t.autoConnect=="function"&&(S=await t.autoConnect(x)),S!==!1&&n.addEdges([S])};Le(()=>t.autoConnect,()=>{Xt(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),Le(n.autoConnect,(x,S,R)=>{x?n.onConnect(y):n.hooks.value.connect.off(y),R(()=>{n.hooks.value.connect.off(y)})},{immediate:!0})})},v=()=>{const y=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const x of Object.keys(t)){const S=x;if(!y.includes(S)){const R=It(()=>t[S]),I=n[S];Vt(I)&&o.run(()=>{Le(R,L=>{Xt(L)&&(I.value=L)},{immediate:!0})})}}};(()=>{i(),s(),a(),c(),u(),f(),d(),p(),g(),v()})()}),()=>o.stop()}function GI(){return{edgesChange:ze(),nodesChange:ze(),nodeDoubleClick:ze(),nodeClick:ze(),nodeMouseEnter:ze(),nodeMouseMove:ze(),nodeMouseLeave:ze(),nodeContextMenu:ze(),nodeDragStart:ze(),nodeDrag:ze(),nodeDragStop:ze(),nodesInitialized:ze(),miniMapNodeClick:ze(),miniMapNodeDoubleClick:ze(),miniMapNodeMouseEnter:ze(),miniMapNodeMouseMove:ze(),miniMapNodeMouseLeave:ze(),connect:ze(),connectStart:ze(),connectEnd:ze(),clickConnectStart:ze(),clickConnectEnd:ze(),paneReady:ze(),init:ze(),move:ze(),moveStart:ze(),moveEnd:ze(),selectionDragStart:ze(),selectionDrag:ze(),selectionDragStop:ze(),selectionContextMenu:ze(),selectionStart:ze(),selectionEnd:ze(),viewportChangeStart:ze(),viewportChange:ze(),viewportChangeEnd:ze(),paneScroll:ze(),paneClick:ze(),paneContextMenu:ze(),paneMouseEnter:ze(),paneMouseMove:ze(),paneMouseLeave:ze(),edgeContextMenu:ze(),edgeMouseEnter:ze(),edgeMouseMove:ze(),edgeMouseLeave:ze(),edgeDoubleClick:ze(),edgeClick:ze(),edgeUpdateStart:ze(),edgeUpdate:ze(),edgeUpdateEnd:ze(),updateNodeInternals:ze(),error:ze(e=>Fu(e.message))}}function WI(e,t){const n=$n();vv(()=>{for(const[i,s]of Object.entries(t.value)){const a=u=>{e(i,u)};s.setEmitter(a),_a(s.removeEmitter),s.setHasEmitListeners(()=>o(i)),_a(s.removeHasEmitListeners)}});function o(i){var s;const a=qI(i);return!!((s=n?.vnode.props)==null?void 0:s[a])}}function qI(e){const[t,...n]=e.split(":");return`on${t.replace(/(?:^|-)(\w)/g,(i,s)=>s.toUpperCase())}${n.length?`:${n.join(":")}`:""}`}function S0(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Zf.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Ta.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:br.Bezier,style:{}},connectionMode:Mi.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Pa()?"Meta":"Control",zoomActivationKeyCode:Pa()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:GI(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const YI=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function KI(e,t,n){const o=UI(e),i=E=>{const C=E??[];e.hooks.updateNodeInternals.trigger(C)},s=E=>fI(E,e.nodes,e.edges),a=E=>dI(E,e.nodes,e.edges),u=E=>xr(E,e.edges),c=({id:E,type:C,nodeId:F})=>{var A;const ee=E?`-${C}-${E}`:`-${C}`;return Array.from(((A=e.connectionLookup.get(`${F}${ee}`))==null?void 0:A.values())??[])},f=E=>{if(E)return t.value.get(E)},d=E=>{if(E)return n.value.get(E)},p=(E,C,F)=>{var A,ee;const ce=[];for(const he of E){const se={id:he.id,type:"position",dragging:F,from:he.from};if(C&&(se.position=he.position,he.parentNode)){const de=f(he.parentNode);se.position={x:se.position.x-(((A=de?.computedPosition)==null?void 0:A.x)??0),y:se.position.y-(((ee=de?.computedPosition)==null?void 0:ee.y)??0)}}ce.push(se)}ce?.length&&e.hooks.nodesChange.trigger(ce)},g=E=>{if(!e.vueFlowRef)return;const C=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!C)return;const F=window.getComputedStyle(C),{m22:A}=new window.DOMMatrixReadOnly(F.transform),ee=[];for(const ce of E){const he=ce,se=f(he.id);if(se){const de=Vu(he.nodeElement);if(!!(de.width&&de.height&&(se.dimensions.width!==de.width||se.dimensions.height!==de.height||he.forceUpdate))){const Se=he.nodeElement.getBoundingClientRect();se.dimensions=de,se.handleBounds.source=m0("source",he.nodeElement,Se,A,se.id),se.handleBounds.target=m0("target",he.nodeElement,Se,A,se.id),ee.push({id:se.id,type:"dimensions",dimensions:de})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),ee.length&&e.hooks.nodesChange.trigger(ee)},v=(E,C)=>{const F=new Set,A=new Set;for(const he of E)Er(he)?F.add(he.id):Ai(he)&&A.add(he.id);const ee=Ri(t.value,F,!0),ce=Ri(n.value,A);if(e.multiSelectionActive){for(const he of F)ee.push(Pi(he,C));for(const he of A)ce.push(Pi(he,C))}ee.length&&e.hooks.nodesChange.trigger(ee),ce.length&&e.hooks.edgesChange.trigger(ce)},w=E=>{if(e.multiSelectionActive){const C=E.map(F=>Pi(F.id,!0));e.hooks.nodesChange.trigger(C);return}e.hooks.nodesChange.trigger(Ri(t.value,new Set(E.map(C=>C.id)),!0)),e.hooks.edgesChange.trigger(Ri(n.value))},y=E=>{if(e.multiSelectionActive){const C=E.map(F=>Pi(F.id,!0));e.hooks.edgesChange.trigger(C);return}e.hooks.edgesChange.trigger(Ri(n.value,new Set(E.map(C=>C.id)))),e.hooks.nodesChange.trigger(Ri(t.value,new Set,!0))},x=E=>{v(E,!0)},S=E=>{const F=(E||e.nodes).map(A=>(A.selected=!1,Pi(A.id,!1)));e.hooks.nodesChange.trigger(F)},R=E=>{const F=(E||e.edges).map(A=>(A.selected=!1,Pi(A.id,!1)));e.hooks.edgesChange.trigger(F)},I=E=>{if(!E||!E.length)return v([],!1);const C=E.reduce((F,A)=>{const ee=Pi(A.id,!1);return Er(A)?F.nodes.push(ee):F.edges.push(ee),F},{nodes:[],edges:[]});C.nodes.length&&e.hooks.nodesChange.trigger(C.nodes),C.edges.length&&e.hooks.edgesChange.trigger(C.edges)},L=E=>{var C;(C=e.d3Zoom)==null||C.scaleExtent([E,e.maxZoom]),e.minZoom=E},U=E=>{var C;(C=e.d3Zoom)==null||C.scaleExtent([e.minZoom,E]),e.maxZoom=E},V=E=>{var C;(C=e.d3Zoom)==null||C.translateExtent(E),e.translateExtent=E},G=E=>{e.nodeExtent=E,i()},q=E=>{var C;(C=e.d3Zoom)==null||C.clickDistance(E)},T=E=>{e.nodesDraggable=E,e.nodesConnectable=E,e.elementsSelectable=E},W=E=>{const C=E instanceof Function?E(e.nodes):E;!e.initialized&&!C.length||(e.nodes=_0(C,f,e.hooks.error.trigger))},J=E=>{const C=E instanceof Function?E(e.edges):E;if(!e.initialized&&!C.length)return;const F=cp(C,e.isValidConnection,f,d,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);up(e.connectionLookup,n.value,F),e.edges=F},B=E=>{const C=E instanceof Function?E([...e.nodes,...e.edges]):E;!e.initialized&&!C.length||(W(C.filter(Er)),J(C.filter(Ai)))},Z=E=>{let C=E instanceof Function?E(e.nodes):E;C=Array.isArray(C)?C:[C];const F=_0(C,f,e.hooks.error.trigger),A=[];for(const ee of F)A.push(r0(ee));A.length&&e.hooks.nodesChange.trigger(A)},N=E=>{let C=E instanceof Function?E(e.edges):E;C=Array.isArray(C)?C:[C];const F=cp(C,e.isValidConnection,f,d,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),A=[];for(const ee of F)A.push(r0(ee));A.length&&e.hooks.edgesChange.trigger(A)},Q=(E,C=!0,F=!1)=>{const A=E instanceof Function?E(e.nodes):E,ee=Array.isArray(A)?A:[A],ce=[],he=[];function se(De){const Se=u(De);for(const Pe of Se)(!Xt(Pe.deletable)||Pe.deletable)&&he.push(a0(Pe.id,Pe.source,Pe.target,Pe.sourceHandle,Pe.targetHandle))}function de(De){const Se=[];for(const Pe of e.nodes)Pe.parentNode===De&&Se.push(Pe);if(Se.length){for(const Pe of Se)ce.push(s0(Pe.id));C&&se(Se);for(const Pe of Se)de(Pe.id)}}for(const De of ee){const Se=typeof De=="string"?f(De):De;Se&&(Xt(Se.deletable)&&!Se.deletable||(ce.push(s0(Se.id)),C&&se([Se]),F&&de(Se.id)))}he.length&&e.hooks.edgesChange.trigger(he),ce.length&&e.hooks.nodesChange.trigger(ce)},j=E=>{const C=E instanceof Function?E(e.edges):E,F=Array.isArray(C)?C:[C],A=[];for(const ee of F){const ce=typeof ee=="string"?d(ee):ee;ce&&(Xt(ce.deletable)&&!ce.deletable||A.push(a0(typeof ee=="string"?ee:ee.id,ce.source,ce.target,ce.sourceHandle,ce.targetHandle)))}e.hooks.edgesChange.trigger(A)},ne=(E,C,F=!0)=>{const A=d(E.id);if(!A)return!1;const ee=e.edges.indexOf(A),ce=DI(E,C,A,F,e.hooks.error.trigger);if(ce){const[he]=cp([ce],e.isValidConnection,f,d,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((se,de)=>de===ee?he:se),up(e.connectionLookup,n.value,[he]),he}return!1},Y=(E,C,F={replace:!1})=>{const A=d(E);if(!A)return;const ee=typeof C=="function"?C(A):C;A.data=F.replace?ee:{...A.data,...ee}},fe=E=>i0(E,e.nodes),oe=E=>{const C=i0(E,e.edges);return up(e.connectionLookup,n.value,C),C},te=(E,C,F={replace:!1})=>{const A=f(E);if(!A)return;const ee=typeof C=="function"?C(A):C;F.replace?e.nodes.splice(e.nodes.indexOf(A),1,ee):Object.assign(A,ee)},ge=(E,C,F={replace:!1})=>{const A=f(E);if(!A)return;const ee=typeof C=="function"?C(A):C;A.data=F.replace?ee:{...A.data,...ee}},Ee=(E,C,F=!1)=>{F?e.connectionClickStartHandle=E:e.connectionStartHandle=E,e.connectionEndHandle=null,e.connectionStatus=null,C&&(e.connectionPosition=C)},ae=(E,C=null,F=null)=>{e.connectionStartHandle&&(e.connectionPosition=E,e.connectionEndHandle=C,e.connectionStatus=F)},me=(E,C)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,C?e.connectionClickStartHandle=null:e.connectionStartHandle=null},Ne=E=>{const C=uI(E),F=C?null:Da(E)?E:f(E.id);return!C&&!F?[null,null,C]:[C?E:Pu(F),F,C]},re=(E,C=!0,F=e.nodes)=>{const[A,ee,ce]=Ne(E);if(!A)return[];const he=[];for(const se of F||e.nodes){if(!ce&&(se.id===ee.id||!se.computedPosition))continue;const de=Pu(se),De=Ru(de,A);(C&&De>0||De>=de.width*de.height||De>=Number(A.width)*Number(A.height))&&he.push(se)}return he},ye=(E,C,F=!0)=>{const[A]=Ne(E);if(!A)return!1;const ee=Ru(A,C);return F&&ee>0||ee>=Number(A.width)*Number(A.height)},ve=E=>{const{viewport:C,dimensions:F,d3Zoom:A,d3Selection:ee,translateExtent:ce}=e;if(!A||!ee||!E.x&&!E.y)return!1;const he=hs.translate(C.x+E.x,C.y+E.y).scale(C.zoom),se=[[0,0],[F.width,F.height]],de=A.constrain()(he,se,ce),De=e.viewport.x!==de.x||e.viewport.y!==de.y||e.viewport.zoom!==de.k;return A.transform(ee,de),De},Te=E=>{const C=E instanceof Function?E(e):E,F=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Xt(C.defaultEdgeOptions)&&(e.defaultEdgeOptions=C.defaultEdgeOptions);const A=C.modelValue||C.nodes||C.edges?[]:void 0;A&&(C.modelValue&&A.push(...C.modelValue),C.nodes&&A.push(...C.nodes),C.edges&&A.push(...C.edges),B(A));const ee=()=>{Xt(C.maxZoom)&&U(C.maxZoom),Xt(C.minZoom)&&L(C.minZoom),Xt(C.translateExtent)&&V(C.translateExtent)};for(const ce of Object.keys(C)){const he=ce,se=C[he];![...YI,...F].includes(he)&&Xt(se)&&(e[he]=se)}Tf(()=>e.d3Zoom).not.toBeNull().then(ee),e.initialized||(e.initialized=!0)};return{updateNodePositions:p,updateNodeDimensions:g,setElements:B,setNodes:W,setEdges:J,addNodes:Z,addEdges:N,removeNodes:Q,removeEdges:j,findNode:f,findEdge:d,updateEdge:ne,updateEdgeData:Y,updateNode:te,updateNodeData:ge,applyEdgeChanges:oe,applyNodeChanges:fe,addSelectedElements:x,addSelectedNodes:w,addSelectedEdges:y,setMinZoom:L,setMaxZoom:U,setTranslateExtent:V,setNodeExtent:G,setPaneClickDistance:q,removeSelectedElements:I,removeSelectedNodes:S,removeSelectedEdges:R,startConnection:Ee,updateConnection:ae,endConnection:me,setInteractive:T,setState:Te,getIntersectingNodes:re,getIncomers:s,getOutgoers:a,getConnectedEdges:u,getHandleConnections:c,isNodeIntersecting:ye,panBy:ve,fitView:E=>o.value.fitView(E),zoomIn:E=>o.value.zoomIn(E),zoomOut:E=>o.value.zoomOut(E),zoomTo:(E,C)=>o.value.zoomTo(E,C),setViewport:(E,C)=>o.value.setViewport(E,C),setTransform:(E,C)=>o.value.setTransform(E,C),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(E,C,F)=>o.value.setCenter(E,C,F),fitBounds:(E,C)=>o.value.fitBounds(E,C),project:E=>o.value.project(E),screenToFlowCoordinate:E=>o.value.screenToFlowCoordinate(E),flowToScreenCoordinate:E=>o.value.flowToScreenCoordinate(E),toObject:()=>{const E=[],C=[];for(const F of e.nodes){const{computedPosition:A,handleBounds:ee,selected:ce,dimensions:he,isParent:se,resizing:de,dragging:De,events:Se,...Pe}=F;E.push(Pe)}for(const F of e.edges){const{selected:A,sourceNode:ee,targetNode:ce,events:he,...se}=F;C.push(se)}return JSON.parse(JSON.stringify({nodes:E,edges:C,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:E=>new Promise(C=>{const{nodes:F,edges:A,position:ee,zoom:ce,viewport:he}=E;if(F&&W(F),A&&J(A),he?.x&&he?.y||ee){const se=he?.x||ee[0],de=he?.y||ee[1],De=he?.zoom||ce||e.viewport.zoom;return Tf(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:se,y:de,zoom:De}).then(()=>{C(!0)})})}else C(!0)}),updateNodeInternals:i,viewportHelper:o,$reset:()=>{const E=S0();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const C=hs.translate(E.defaultViewport.x??0,E.defaultViewport.y??0).scale(wr(E.defaultViewport.zoom??1,E.minZoom,E.maxZoom)),F=e.viewportRef.getBoundingClientRect(),A=[[0,0],[F.width,F.height]],ee=e.d3Zoom.constrain()(C,A,E.translateExtent);e.d3Zoom.transform(e.d3Selection,ee)}Te(E)},$destroy:()=>{}}}const XI=["data-id","data-handleid","data-nodeid","data-handlepos"],Pt=Et({...{name:"Handle",compatConfig:{MODE:3}},props:{id:{default:null},type:{},position:{default:()=>Re.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=h$(e,["position","connectable","connectableStart","connectableEnd","id"]),o=It(()=>n.type??"source"),i=It(()=>n.isValidConnection??null),{id:s,connectionStartHandle:a,connectionClickStartHandle:u,connectionEndHandle:c,vueFlowRef:f,nodesConnectable:d,noDragClassName:p,noPanClassName:g}=lt(),{id:v,node:w,nodeEl:y,connectedEdges:x}=C0(),S=X(),R=It(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),I=It(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),L=It(()=>{var J,B,Z,N,Q,j;return((J=a.value)==null?void 0:J.nodeId)===v&&((B=a.value)==null?void 0:B.id)===e.id&&((Z=a.value)==null?void 0:Z.type)===o.value||((N=c.value)==null?void 0:N.nodeId)===v&&((Q=c.value)==null?void 0:Q.id)===e.id&&((j=c.value)==null?void 0:j.type)===o.value}),U=It(()=>{var J,B,Z;return((J=u.value)==null?void 0:J.nodeId)===v&&((B=u.value)==null?void 0:B.id)===e.id&&((Z=u.value)==null?void 0:Z.type)===o.value}),{handlePointerDown:V,handleClick:G}=N0({nodeId:v,handleId:e.id,isValidConnection:i,type:o}),q=$e(()=>typeof e.connectable=="string"&&e.connectable==="single"?!x.value.some(J=>{const B=J[`${o.value}Handle`];return J[o.value]!==v?!1:B?B===e.id:!0}):typeof e.connectable=="number"?x.value.filter(J=>{const B=J[`${o.value}Handle`];return J[o.value]!==v?!1:B?B===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(w,x.value):Xt(e.connectable)?e.connectable:d.value);Ke(()=>{var J;if(!w.dimensions.width||!w.dimensions.height)return;const B=(J=w.handleBounds[o.value])==null?void 0:J.find(fe=>fe.id===e.id);if(!f.value||B)return;const Z=f.value.querySelector(".vue-flow__transformationpane");if(!y.value||!S.value||!Z||!e.id)return;const N=y.value.getBoundingClientRect(),Q=S.value.getBoundingClientRect(),j=window.getComputedStyle(Z),{m22:ne}=new window.DOMMatrixReadOnly(j.transform),Y={id:e.id,position:e.position,x:(Q.left-N.left)/ne,y:(Q.top-N.top)/ne,type:o.value,nodeId:v,...Vu(S.value)};w.handleBounds[o.value]=[...w.handleBounds[o.value]??[],Y]});function T(J){const B=rp(J);q.value&&R.value&&(B&&J.button===0||!B)&&V(J)}function W(J){!v||!u.value&&!R.value||q.value&&G(J)}return t({handleClick:G,handlePointerDown:V,onClick:W,onPointerDown:T}),(J,B)=>(O(),D("div",{ref_key:"handle",ref:S,"data-id":`${b(s)}-${b(v)}-${e.id}-${o.value}`,"data-handleid":e.id,"data-nodeid":b(v),"data-handlepos":J.position,class:Be(["vue-flow__handle",[`vue-flow__handle-${J.position}`,`vue-flow__handle-${e.id}`,b(p),b(g),o.value,{connectable:q.value,connecting:U.value,connectablestart:R.value,connectableend:I.value,connectionindicator:q.value&&(R.value&&!L.value||I.value&&L.value)}]]),onMousedown:T,onTouchstartPassive:T,onClick:W},[qn(J.$slots,"default",{id:J.id})],42,XI))}}),ju=function({sourcePosition:e=Re.Bottom,targetPosition:t=Re.Top,label:n,connectable:o=!0,isValidTargetPos:i,isValidSourcePos:s,data:a}){const u=a.label??n;return[xt(Pt,{type:"target",position:t,connectable:o,isValidConnection:i}),typeof u!="string"&&u?xt(u):xt(Fe,[u]),xt(Pt,{type:"source",position:e,connectable:o,isValidConnection:s})]};ju.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"],ju.inheritAttrs=!1,ju.compatConfig={MODE:3};const ZI=ju,Gu=function({targetPosition:e=Re.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:i}){const s=i.label??t;return[xt(Pt,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof s!="string"&&s?xt(s):xt(Fe,[s])]};Gu.props=["targetPosition","label","isValidTargetPos","connectable","data"],Gu.inheritAttrs=!1,Gu.compatConfig={MODE:3};const JI=Gu,Wu=function({sourcePosition:e=Re.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:i}){const s=i.label??t;return[typeof s!="string"&&s?xt(s):xt(Fe,[s]),xt(Pt,{type:"source",position:e,connectable:n,isValidConnection:o})]};Wu.props=["sourcePosition","label","isValidSourcePos","connectable","data"],Wu.inheritAttrs=!1,Wu.compatConfig={MODE:3};const QI=Wu,eD=["transform"],tD=["width","height","x","y","rx","ry"],nD=["y"],oD=Et({...{name:"EdgeText",compatConfig:{MODE:3}},props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=X({x:0,y:0,width:0,height:0}),n=X(null),o=$e(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);Ke(i),Le([()=>e.x,()=>e.y,n,()=>e.label],i);function i(){if(!n.value)return;const s=n.value.getBBox();(s.width!==t.value.width||s.height!==t.value.height)&&(t.value=s)}return(s,a)=>(O(),D("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[s.labelShowBg?(O(),D("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*s.labelBgPadding[0]}px`,height:`${t.value.height+2*s.labelBgPadding[1]}px`,x:-s.labelBgPadding[0],y:-s.labelBgPadding[1],style:Me(s.labelBgStyle),rx:s.labelBgBorderRadius,ry:s.labelBgBorderRadius},null,12,tD)):_e("",!0),m("text",dr(s.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:s.labelStyle}),[qn(s.$slots,"default",{},()=>[typeof s.label!="string"?(O(),dt(Kr(s.label),{key:0})):(O(),D(Fe,{key:1},[Ue(H(s.label),1)],64))])],16,nD)],8,eD))}}),iD=["id","d","marker-end","marker-start"],rD=["d","stroke-width"],Ra=Et({...{name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=X(null),o=X(null),i=X(null),s=zd();return t({pathEl:n,interactionEl:o,labelEl:i}),(a,u)=>(O(),D(Fe,null,[m("path",dr(b(s),{id:a.id,ref_key:"pathEl",ref:n,d:a.path,class:"vue-flow__edge-path","marker-end":a.markerEnd,"marker-start":a.markerStart}),null,16,iD),a.interactionWidth?(O(),D("path",{key:0,ref_key:"interactionEl",ref:o,fill:"none",d:a.path,"stroke-width":a.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,rD)):_e("",!0),a.label&&a.labelX&&a.labelY?(O(),dt(oD,{key:1,ref_key:"labelEl",ref:i,x:a.labelX,y:a.labelY,label:a.label,"label-show-bg":a.labelShowBg,"label-bg-style":a.labelBgStyle,"label-bg-padding":a.labelBgPadding,"label-bg-border-radius":a.labelBgBorderRadius,"label-style":a.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):_e("",!0)],64))}});function O0({sourceX:e,sourceY:t,targetX:n,targetY:o}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,a=Math.abs(o-t)/2,u=o<t?o+a:o-a;return[s,u,i,a]}function T0({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:i,sourceControlY:s,targetControlX:a,targetControlY:u}){const c=e*.125+i*.375+a*.375+n*.125,f=t*.125+s*.375+u*.375+o*.125,d=Math.abs(c-e),p=Math.abs(f-t);return[c,f,d,p]}function qu(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function I0({pos:e,x1:t,y1:n,x2:o,y2:i,c:s}){let a,u;switch(e){case Re.Left:a=t-qu(t-o,s),u=n;break;case Re.Right:a=t+qu(o-t,s),u=n;break;case Re.Top:a=t,u=n-qu(n-i,s);break;case Re.Bottom:a=t,u=n+qu(i-n,s);break}return[a,u]}function Yu(e){const{sourceX:t,sourceY:n,sourcePosition:o=Re.Bottom,targetX:i,targetY:s,targetPosition:a=Re.Top,curvature:u=.25}=e,[c,f]=I0({pos:o,x1:t,y1:n,x2:i,y2:s,c:u}),[d,p]=I0({pos:a,x1:i,y1:s,x2:t,y2:n,c:u}),[g,v,w,y]=T0({sourceX:t,sourceY:n,targetX:i,targetY:s,sourceControlX:c,sourceControlY:f,targetControlX:d,targetControlY:p});return[`M${t},${n} C${c},${f} ${d},${p} ${i},${s}`,g,v,w,y]}function D0({pos:e,x1:t,y1:n,x2:o,y2:i}){let s,a;switch(e){case Re.Left:case Re.Right:s=.5*(t+o),a=n;break;case Re.Top:case Re.Bottom:s=t,a=.5*(n+i);break}return[s,a]}function M0(e){const{sourceX:t,sourceY:n,sourcePosition:o=Re.Bottom,targetX:i,targetY:s,targetPosition:a=Re.Top}=e,[u,c]=D0({pos:o,x1:t,y1:n,x2:i,y2:s}),[f,d]=D0({pos:a,x1:i,y1:s,x2:t,y2:n}),[p,g,v,w]=T0({sourceX:t,sourceY:n,targetX:i,targetY:s,sourceControlX:u,sourceControlY:c,targetControlX:f,targetControlY:d});return[`M${t},${n} C${u},${c} ${f},${d} ${i},${s}`,p,g,v,w]}const A0={[Re.Left]:{x:-1,y:0},[Re.Right]:{x:1,y:0},[Re.Top]:{x:0,y:-1},[Re.Bottom]:{x:0,y:1}};function sD({source:e,sourcePosition:t=Re.Bottom,target:n}){return t===Re.Left||t===Re.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function P0(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function aD({source:e,sourcePosition:t=Re.Bottom,target:n,targetPosition:o=Re.Top,center:i,offset:s}){const a=A0[t],u=A0[o],c={x:e.x+a.x*s,y:e.y+a.y*s},f={x:n.x+u.x*s,y:n.y+u.y*s},d=sD({source:c,sourcePosition:t,target:f}),p=d.x!==0?"x":"y",g=d[p];let v,w,y;const x={x:0,y:0},S={x:0,y:0},[R,I,L,U]=O0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[p]*u[p]===-1){w=i.x??R,y=i.y??I;const G=[{x:w,y:c.y},{x:w,y:f.y}],q=[{x:c.x,y},{x:f.x,y}];a[p]===g?v=p==="x"?G:q:v=p==="x"?q:G}else{const G=[{x:c.x,y:f.y}],q=[{x:f.x,y:c.y}];if(p==="x"?v=a.x===g?q:G:v=a.y===g?G:q,t===o){const Z=Math.abs(e[p]-n[p]);if(Z<=s){const N=Math.min(s-1,s-Z);a[p]===g?x[p]=(c[p]>e[p]?-1:1)*N:S[p]=(f[p]>n[p]?-1:1)*N}}if(t!==o){const Z=p==="x"?"y":"x",N=a[p]===u[Z],Q=c[Z]>f[Z],j=c[Z]<f[Z];(a[p]===1&&(!N&&Q||N&&j)||a[p]!==1&&(!N&&j||N&&Q))&&(v=p==="x"?G:q)}const T={x:c.x+x.x,y:c.y+x.y},W={x:f.x+S.x,y:f.y+S.y},J=Math.max(Math.abs(T.x-v[0].x),Math.abs(W.x-v[0].x)),B=Math.max(Math.abs(T.y-v[0].y),Math.abs(W.y-v[0].y));J>=B?(w=(T.x+W.x)/2,y=v[0].y):(w=v[0].x,y=(T.y+W.y)/2)}return[[e,{x:c.x+x.x,y:c.y+x.y},...v,{x:f.x+S.x,y:f.y+S.y},n],w,y,L,U]}function lD(e,t,n,o){const i=Math.min(P0(e,t)/2,P0(t,n)/2,o),{x:s,y:a}=t;if(e.x===s&&s===n.x||e.y===a&&a===n.y)return`L${s} ${a}`;if(e.y===a){const f=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${s+i*f},${a}Q ${s},${a} ${s},${a+i*d}`}const u=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${s},${a+i*c}Q ${s},${a} ${s+i*u},${a}`}function pp(e){const{sourceX:t,sourceY:n,sourcePosition:o=Re.Bottom,targetX:i,targetY:s,targetPosition:a=Re.Top,borderRadius:u=5,centerX:c,centerY:f,offset:d=20}=e,[p,g,v,w,y]=aD({source:{x:t,y:n},sourcePosition:o,target:{x:i,y:s},targetPosition:a,center:{x:c,y:f},offset:d});return[p.reduce((S,R,I)=>{let L;return I>0&&I<p.length-1?L=lD(p[I-1],R,p[I+1],u):L=`${I===0?"M":"L"}${R.x} ${R.y}`,S+=L,S},""),g,v,w,y]}function uD(e){const{sourceX:t,sourceY:n,targetX:o,targetY:i}=e,[s,a,u,c]=O0({sourceX:t,sourceY:n,targetX:o,targetY:i});return[`M ${t},${n}L ${o},${i}`,s,a,u,c]}const cD=Et({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,i]=uD(e);return xt(Ra,{path:n,labelX:o,labelY:i,...t,...e})}}}),R0=Et({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,i]=pp({...e,sourcePosition:e.sourcePosition??Re.Bottom,targetPosition:e.targetPosition??Re.Top});return xt(Ra,{path:n,labelX:o,labelY:i,...t,...e})}}}),dD=Et({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>xt(R0,{...e,...t,borderRadius:0})}}),fD=Et({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,i]=Yu({...e,sourcePosition:e.sourcePosition??Re.Bottom,targetPosition:e.targetPosition??Re.Top});return xt(Ra,{path:n,labelX:o,labelY:i,...t,...e})}}}),pD=Et({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,i]=M0({...e,sourcePosition:e.sourcePosition??Re.Bottom,targetPosition:e.targetPosition??Re.Top});return xt(Ra,{path:n,labelX:o,labelY:i,...t,...e})}}}),hD={input:QI,default:ZI,output:JI},gD={default:fD,straight:cD,step:dD,smoothstep:R0,simplebezier:pD};function vD(e,t,n){const o=$e(()=>y=>t.value.get(y)),i=$e(()=>y=>n.value.get(y)),s=$e(()=>{const y={...gD,...e.edgeTypes},x=Object.keys(y);for(const S of e.edges)S.type&&!x.includes(S.type)&&(y[S.type]=S.type);return y}),a=$e(()=>{const y={...hD,...e.nodeTypes},x=Object.keys(y);for(const S of e.nodes)S.type&&!x.includes(S.type)&&(y[S.type]=S.type);return y}),u=$e(()=>e.onlyRenderVisibleElements?Qy(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),c=$e(()=>{if(e.onlyRenderVisibleElements){const y=[];for(const x of e.edges){const S=t.value.get(x.source),R=t.value.get(x.target);bI({sourcePos:S.computedPosition||{x:0,y:0},targetPos:R.computedPosition||{x:0,y:0},sourceWidth:S.dimensions.width,sourceHeight:S.dimensions.height,targetWidth:R.dimensions.width,targetHeight:R.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&y.push(x)}return y}return e.edges}),f=$e(()=>[...u.value,...c.value]),d=$e(()=>{const y=[];for(const x of e.nodes)x.selected&&y.push(x);return y}),p=$e(()=>{const y=[];for(const x of e.edges)x.selected&&y.push(x);return y}),g=$e(()=>[...d.value,...p.value]),v=$e(()=>{const y=[];for(const x of e.nodes)x.dimensions.width&&x.dimensions.height&&x.handleBounds!==void 0&&y.push(x);return y}),w=$e(()=>u.value.length>0&&v.value.length===u.value.length);return{getNode:o,getEdge:i,getElements:f,getEdgeTypes:s,getNodeTypes:a,getEdges:c,getNodes:u,getSelectedElements:g,getSelectedNodes:d,getSelectedEdges:p,getNodesInitialized:v,areNodesInitialized:w}}class $r{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=$n())==null?void 0:t.appContext.app,o=n?.config.globalProperties.$vueFlowStorage??$r.instance;return $r.instance=o??new $r,n&&(n.config.globalProperties.$vueFlowStorage=$r.instance),$r.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=S0(),i=Ur(o),s={};for(const[g,v]of Object.entries(i.hooks)){const w=`on${g.charAt(0).toUpperCase()+g.slice(1)}`;s[w]=v.on}const a={};for(const[g,v]of Object.entries(i.hooks))a[g]=v.trigger;const u=$e(()=>{const g=new Map;for(const v of i.nodes)g.set(v.id,v);return g}),c=$e(()=>{const g=new Map;for(const v of i.edges)g.set(v.id,v);return g}),f=vD(i,u,c),d=KI(i,u,c);d.setState({...i,...n});const p={...s,...f,...d,..._S(i),nodeLookup:u,edgeLookup:c,emits:a,id:t,vueFlowVersion:"1.46.4",$destroy:()=>{this.remove(t)}};return this.set(t,p),p}getId(){return`vue-flow-${this.currentId++}`}}function lt(e){const t=$r.getInstance(),n=bl(),o=typeof e=="object",i=o?e:{id:e},s=i.id,a=s??n?.vueFlowId;let u;if(n){const c=Yt(w0,null);typeof c<"u"&&c!==null&&(!a||c.id===a)&&(u=c)}if(u||a&&(u=t.get(a)),!u||a&&u.id!==a){const c=s??t.getId(),f=t.create(c,i);u=f,(n??hd(!0)).run(()=>{Le(f.applyDefault,(p,g,v)=>{const w=x=>{f.applyNodeChanges(x)},y=x=>{f.applyEdgeChanges(x)};p?(f.onNodesChange(w),f.onEdgesChange(y)):(f.hooks.value.nodesChange.off(w),f.hooks.value.edgesChange.off(y)),v(()=>{f.hooks.value.nodesChange.off(w),f.hooks.value.edgesChange.off(y)})},{immediate:!0}),_a(()=>{if(u){const p=t.get(u.id);p?p.$destroy():Fu(`No store instance found for id ${u.id} in storage.`)}})})}else o&&u.setState(i);if(n&&(co(w0,u),n.vueFlowId=u.id),o){const c=$n();c?.type.name!=="VueFlow"&&u.emits.error(new en(Kt.USEVUEFLOW_OPTIONS))}return u}function mD(e){const{emits:t,dimensions:n}=lt();let o;Ke(()=>{const i=()=>{var s,a;if(!e.value||!(((a=(s=e.value).checkVisibility)==null?void 0:a.call(s))??!0))return;const u=Vu(e.value);(u.width===0||u.height===0)&&t.error(new en(Kt.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:u.width||500,height:u.height||500}};i(),window.addEventListener("resize",i),e.value&&(o=new ResizeObserver(()=>i()),o.observe(e.value)),Xo(()=>{window.removeEventListener("resize",i),o&&e.value&&o.unobserve(e.value)})})}const _D=Et({...{name:"UserSelection",compatConfig:{MODE:3}},props:{userSelectionRect:{}},setup(e){return(t,n)=>(O(),D("div",{class:"vue-flow__selection vue-flow__container",style:Me({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),yD=["tabIndex"],bD=Et({...{name:"NodesSelection",compatConfig:{MODE:3}},setup(e){const{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:i,disableKeyboardA11y:s,userSelectionActive:a}=lt(),u=k0(),c=X(null),f=$0({el:c,onStart(w){t.selectionDragStart(w),t.nodeDragStart(w)},onDrag(w){t.selectionDrag(w),t.nodeDrag(w)},onStop(w){t.selectionDragStop(w),t.nodeDragStop(w)}});Ke(()=>{var w;s.value||(w=c.value)==null||w.focus({preventScroll:!0})});const d=$e(()=>ep(o.value)),p=$e(()=>({width:`${d.value.width}px`,height:`${d.value.height}px`,top:`${d.value.y}px`,left:`${d.value.x}px`}));function g(w){t.selectionContextMenu({event:w,nodes:o.value})}function v(w){s||gs[w.key]&&(w.preventDefault(),u({x:gs[w.key].x,y:gs[w.key].y},w.shiftKey))}return(w,y)=>!b(a)&&d.value.width&&d.value.height?(O(),D("div",{key:0,class:Be(["vue-flow__nodesselection vue-flow__container",b(i)]),style:Me({transform:`translate(${b(n).x}px,${b(n).y}px) scale(${b(n).zoom})`})},[m("div",{ref_key:"el",ref:c,class:Be([{dragging:b(f)},"vue-flow__nodesselection-rect"]),style:Me(p.value),tabIndex:b(s)?void 0:-1,onContextmenu:g,onKeydown:v},null,46,yD)],6)):_e("",!0)}});function wD(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const ED=Et({...{name:"Pane",compatConfig:{MODE:3}},props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:o,emits:i,userSelectionActive:s,removeSelectedElements:a,userSelectionRect:u,elementsSelectable:c,nodesSelectionActive:f,getSelectedEdges:d,getSelectedNodes:p,removeNodes:g,removeEdges:v,selectionMode:w,deleteKeyCode:y,multiSelectionKeyCode:x,multiSelectionActive:S,edgeLookup:R,nodeLookup:I,connectionLookup:L,defaultEdgeOptions:U,connectionStartHandle:V}=lt(),G=X(null),q=X(new Set),T=X(new Set),W=X(),J=It(()=>c.value&&(e.isSelecting||s.value)),B=It(()=>V.value!==null);let Z=!1,N=!1;const Q=Ia(y,{actInsideInputWithModifier:!1}),j=Ia(x);Le(Q,ae=>{ae&&(g(p.value),v(d.value),f.value=!1)}),Le(j,ae=>{S.value=ae});function ne(ae,me){return Ne=>{Ne.target===me&&ae?.(Ne)}}function Y(ae){if(Z||B.value){Z=!1;return}i.paneClick(ae),a(),f.value=!1}function fe(ae){ae.preventDefault(),ae.stopPropagation(),i.paneContextMenu(ae)}function oe(ae){i.paneScroll(ae)}function te(ae){var me,Ne,re;if(W.value=(me=t.value)==null?void 0:me.getBoundingClientRect(),!c.value||!e.isSelecting||ae.button!==0||ae.target!==G.value||!W.value)return;(re=(Ne=ae.target)==null?void 0:Ne.setPointerCapture)==null||re.call(Ne,ae.pointerId);const{x:ye,y:ve}=wD(ae,W.value);N=!0,Z=!1,a(),u.value={width:0,height:0,startX:ye,startY:ve,x:ye,y:ve},i.selectionStart(ae)}function ge(ae){var me;if(!W.value||!u.value)return;Z=!0;const{x:Ne,y:re}=Ro(ae,W.value),{startX:ye=0,startY:ve=0}=u.value,Te={startX:ye,startY:ve,x:Ne<ye?Ne:ye,y:re<ve?re:ve,width:Math.abs(Ne-ye),height:Math.abs(re-ve)},we=q.value,Ce=T.value;q.value=new Set(Qy(n.value,Te,o.value,w.value===Zf.Partial,!0).map(E=>E.id)),T.value=new Set;const k=((me=U.value)==null?void 0:me.selectable)??!0;for(const E of q.value){const C=L.value.get(E);if(C)for(const{edgeId:F}of C.values()){const A=R.value.get(F);A&&(A.selectable??k)&&T.value.add(F)}}if(!b0(we,q.value)){const E=Ri(I.value,q.value,!0);i.nodesChange(E)}if(!b0(Ce,T.value)){const E=Ri(R.value,T.value);i.edgesChange(E)}u.value=Te,s.value=!0,f.value=!1}function Ee(ae){var me;ae.button!==0||!N||((me=ae.target)==null||me.releasePointerCapture(ae.pointerId),!s.value&&u.value&&ae.target===G.value&&Y(ae),s.value=!1,u.value=null,f.value=q.value.size>0,i.selectionEnd(ae),e.selectionKeyPressed&&(Z=!1),N=!1)}return(ae,me)=>(O(),D("div",{ref_key:"container",ref:G,class:Be(["vue-flow__pane vue-flow__container",{selection:ae.isSelecting}]),onClick:me[0]||(me[0]=Ne=>J.value?void 0:ne(Y,G.value)(Ne)),onContextmenu:me[1]||(me[1]=Ne=>ne(fe,G.value)(Ne)),onWheelPassive:me[2]||(me[2]=Ne=>ne(oe,G.value)(Ne)),onPointerenter:me[3]||(me[3]=Ne=>J.value?void 0:b(i).paneMouseEnter(Ne)),onPointerdown:me[4]||(me[4]=Ne=>J.value?te(Ne):b(i).paneMouseMove(Ne)),onPointermove:me[5]||(me[5]=Ne=>J.value?ge(Ne):b(i).paneMouseMove(Ne)),onPointerup:me[6]||(me[6]=Ne=>J.value?Ee(Ne):void 0),onPointerleave:me[7]||(me[7]=Ne=>b(i).paneMouseLeave(Ne))},[qn(ae.$slots,"default"),b(s)&&b(u)?(O(),dt(_D,{key:0,"user-selection-rect":b(u)},null,8,["user-selection-rect"])):_e("",!0),b(f)&&b(p).length?(O(),dt(bD,{key:1})):_e("",!0)],34))}}),xD=Et({...{name:"Transform",compatConfig:{MODE:3}},setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=lt(),i=$e(()=>n.value?!o.value:!1),s=$e(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(a,u)=>(O(),D("div",{class:"vue-flow__transformationpane vue-flow__container",style:Me({transform:s.value,opacity:i.value?0:void 0})},[qn(a.$slots,"default")],4))}}),$D=Et({...{name:"Viewport",compatConfig:{MODE:3}},setup(e){const{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:i,zoomActivationKeyCode:s,selectionKeyCode:a,panActivationKeyCode:u,panOnScroll:c,panOnScrollMode:f,panOnScrollSpeed:d,panOnDrag:p,zoomOnDoubleClick:g,zoomOnPinch:v,zoomOnScroll:w,preventScrolling:y,noWheelClassName:x,noPanClassName:S,emits:R,connectionStartHandle:I,userSelectionActive:L,paneDragging:U,d3Zoom:V,d3Selection:G,d3ZoomHandler:q,viewport:T,viewportRef:W,paneClickDistance:J}=lt();mD(W);const B=Xs(!1),Z=Xs(!1);let N=null,Q=!1,j=0,ne={x:0,y:0,zoom:0};const Y=Ia(u),fe=Ia(a),oe=Ia(s),te=It(()=>(!fe.value||fe.value&&a.value===!0)&&(Y.value||p.value)),ge=It(()=>Y.value||c.value),Ee=It(()=>fe.value||a.value===!0&&te.value!==!0),ae=It(()=>I.value!==null);Ke(()=>{if(!W.value){Fu("Viewport element is missing");return}const ve=W.value,Te=ve.getBoundingClientRect(),we=nI().clickDistance(J.value).scaleExtent([t.value,n.value]).translateExtent(i.value),Ce=vo(ve).call(we),k=Ce.on("wheel.zoom"),E=hs.translate(o.value.x??0,o.value.y??0).scale(wr(o.value.zoom??1,t.value,n.value)),C=[[0,0],[Te.width,Te.height]],F=we.constrain()(E,C,i.value);we.transform(Ce,F),we.wheelDelta(tp),V.value=we,G.value=Ce,q.value=k,T.value={x:F.x,y:F.y,zoom:F.k},we.on("start",A=>{var ee;if(!A.sourceEvent)return null;j=A.sourceEvent.button,B.value=!0;const ce=re(A.transform);((ee=A.sourceEvent)==null?void 0:ee.type)==="mousedown"&&(U.value=!0),ne=ce,R.viewportChangeStart(ce),R.moveStart({event:A,flowTransform:ce})}),we.on("end",A=>{if(!A.sourceEvent)return null;if(B.value=!1,U.value=!1,me(te.value,j??0)&&!Q&&R.paneContextMenu(A.sourceEvent),Q=!1,Ne(ne,A.transform)){const ee=re(A.transform);ne=ee,R.viewportChangeEnd(ee),R.moveEnd({event:A,flowTransform:ee})}}),we.filter(A=>{var ee;const ce=oe.value||w.value,he=v.value&&A.ctrlKey,se=A.button,de=A.type==="wheel";if(se===1&&A.type==="mousedown"&&(ye(A,"vue-flow__node")||ye(A,"vue-flow__edge")))return!0;if(!te.value&&!ce&&!ge.value&&!g.value&&!v.value||L.value||ae.value&&!de||!g.value&&A.type==="dblclick"||ye(A,x.value)&&de||ye(A,S.value)&&(!de||ge.value&&de&&!oe.value)||!v.value&&A.ctrlKey&&de||!ce&&!ge.value&&!he&&de)return!1;if(!v&&A.type==="touchstart"&&((ee=A.touches)==null?void 0:ee.length)>1)return A.preventDefault(),!1;if(!te.value&&(A.type==="mousedown"||A.type==="touchstart")||a.value===!0&&Array.isArray(p.value)&&p.value.includes(0)&&se===0||Array.isArray(p.value)&&!p.value.includes(se)&&(A.type==="mousedown"||A.type==="touchstart"))return!1;const De=Array.isArray(p.value)&&p.value.includes(se)||a.value===!0&&Array.isArray(p.value)&&!p.value.includes(0)||!se||se<=1;return(!A.ctrlKey||Y.value||de)&&De}),Le([L,te],()=>{L.value&&!B.value?we.on("zoom",null):L.value||we.on("zoom",A=>{T.value={x:A.transform.x,y:A.transform.y,zoom:A.transform.k};const ee=re(A.transform);Q=me(te.value,j??0),R.viewportChange(ee),R.move({event:A,flowTransform:ee})})},{immediate:!0}),Le([L,ge,f,oe,v,y,x],()=>{ge.value&&!oe.value&&!L.value?Ce.on("wheel.zoom",A=>{if(ye(A,x.value))return!1;const ee=oe.value||w.value,ce=v.value&&A.ctrlKey;if(!(!y.value||ge.value||ee||ce))return!1;A.preventDefault(),A.stopImmediatePropagation();const se=Ce.property("__zoom").k||1,de=Pa();if(!Y.value&&A.ctrlKey&&v.value&&de){const ot=Do(A),vt=tp(A),_t=se*2**vt;we.scaleTo(Ce,_t,ot,A);return}const De=A.deltaMode===1?20:1;let Se=f.value===Ta.Vertical?0:A.deltaX*De,Pe=f.value===Ta.Horizontal?0:A.deltaY*De;!de&&A.shiftKey&&f.value!==Ta.Vertical&&!Se&&Pe&&(Se=Pe,Pe=0),we.translateBy(Ce,-(Se/se)*d.value,-(Pe/se)*d.value);const qe=re(Ce.property("__zoom"));N&&clearTimeout(N),Z.value?(R.move({event:A,flowTransform:qe}),R.viewportChange(qe),N=setTimeout(()=>{R.moveEnd({event:A,flowTransform:qe}),R.viewportChangeEnd(qe),Z.value=!1},150)):(Z.value=!0,R.moveStart({event:A,flowTransform:qe}),R.viewportChangeStart(qe))},{passive:!1}):typeof k<"u"&&Ce.on("wheel.zoom",function(A,ee){const ce=!y.value&&A.type==="wheel"&&!A.ctrlKey,he=oe.value||w.value,se=v.value&&A.ctrlKey;if(!he&&!c.value&&!se&&A.type==="wheel"||ce||ye(A,x.value))return null;A.preventDefault(),k.call(this,A,ee)},{passive:!1})},{immediate:!0})});function me(ve,Te){return Te===2&&Array.isArray(ve)&&ve.includes(2)}function Ne(ve,Te){return ve.x!==Te.x&&!Number.isNaN(Te.x)||ve.y!==Te.y&&!Number.isNaN(Te.y)||ve.zoom!==Te.k&&!Number.isNaN(Te.k)}function re(ve){return{x:ve.x,y:ve.y,zoom:ve.k}}function ye(ve,Te){return ve.target.closest(`.${Te}`)}return(ve,Te)=>(O(),D("div",{ref_key:"viewportRef",ref:W,class:"vue-flow__viewport vue-flow__container"},[pe(ED,{"is-selecting":Ee.value,"selection-key-pressed":b(fe),class:Be({connecting:ae.value,dragging:b(U),draggable:b(p)===!0||Array.isArray(b(p))&&b(p).includes(0)})},{default:Qe(()=>[pe(xD,null,{default:Qe(()=>[qn(ve.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),ND=["id"],CD=["id"],kD=["id"],SD=Et({...{name:"A11yDescriptions",compatConfig:{MODE:3}},setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=lt();return(i,s)=>(O(),D(Fe,null,[m("div",{id:`${b(Uy)}-${b(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+H(b(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,ND),m("div",{id:`${b(jy)}-${b(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,CD),b(n)?_e("",!0):(O(),D("div",{key:0,id:`${b(lI)}-${b(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},H(b(o)),9,kD))],64))}});function OD(){const e=lt();Le(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function TD(e,t,n){return n===Re.Left?e-t:n===Re.Right?e+t:e}function ID(e,t,n){return n===Re.Top?e-t:n===Re.Bottom?e+t:e}const hp=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=Re.Top,type:i}){return xt("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${i}`,cx:TD(t,e,o),cy:ID(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};hp.props=["radius","centerX","centerY","position","type"],hp.compatConfig={MODE:3};const V0=hp,DD=Et({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:i,emits:s,nodesSelectionActive:a,noPanClassName:u,getEdgeTypes:c,removeSelectedEdges:f,findEdge:d,findNode:p,isValidConnection:g,multiSelectionActive:v,disableKeyboardA11y:w,elementsSelectable:y,edgesUpdatable:x,edgesFocusable:S,hooks:R}=lt(),I=$e(()=>d(e.id)),{emit:L,on:U}=RI(I.value,s),V=Yt(Hu),G=$n(),q=X(!1),T=X(!1),W=X(""),J=X(null),B=X("source"),Z=X(null),N=It(()=>typeof I.value.selectable>"u"?y.value:I.value.selectable),Q=It(()=>typeof I.value.updatable>"u"?x.value:I.value.updatable),j=It(()=>typeof I.value.focusable>"u"?S.value:I.value.focusable);co(MI,e.id),co(AI,Z);const ne=$e(()=>I.value.class instanceof Function?I.value.class(I.value):I.value.class),Y=$e(()=>I.value.style instanceof Function?I.value.style(I.value):I.value.style),fe=$e(()=>{const C=I.value.type||"default",F=V?.[`edge-${C}`];if(F)return F;let A=I.value.template??c.value[C];if(typeof A=="string"&&G){const ee=Object.keys(G.appContext.components);ee&&ee.includes(C)&&(A=Yr(C,!1))}return A&&typeof A!="string"?A:(s.error(new en(Kt.EDGE_TYPE_MISSING,A)),!1)}),{handlePointerDown:oe}=N0({nodeId:W,handleId:J,type:B,isValidConnection:g,edgeUpdaterType:B,onEdgeUpdate:Ee,onEdgeUpdateEnd:ae});return()=>{const C=p(I.value.source),F=p(I.value.target),A="pathOptions"in I.value?I.value.pathOptions:{};if(!C&&!F)return s.error(new en(Kt.EDGE_SOURCE_TARGET_MISSING,I.value.id,I.value.source,I.value.target)),null;if(!C)return s.error(new en(Kt.EDGE_SOURCE_MISSING,I.value.id,I.value.source)),null;if(!F)return s.error(new en(Kt.EDGE_TARGET_MISSING,I.value.id,I.value.target)),null;if(!I.value||I.value.hidden||C.hidden||F.hidden)return null;let ee;o.value===Mi.Strict?ee=C.handleBounds.source:ee=[...C.handleBounds.source||[],...C.handleBounds.target||[]];const ce=d0(ee,I.value.sourceHandle);let he;o.value===Mi.Strict?he=F.handleBounds.target:he=[...F.handleBounds.target||[],...F.handleBounds.source||[]];const se=d0(he,I.value.targetHandle),de=ce?.position||Re.Bottom,De=se?.position||Re.Top,{x:Se,y:Pe}=vs(C,ce,de),{x:qe,y:ot}=vs(F,se,De);return I.value.sourceX=Se,I.value.sourceY=Pe,I.value.targetX=qe,I.value.targetY=ot,xt("g",{ref:Z,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${fe.value===!1?"default":I.value.type||"default"}`,u.value,ne.value,{updating:q.value,selected:I.value.selected,animated:I.value.animated,inactive:!N.value&&!R.value.edgeClick.hasListeners()}],tabIndex:j.value?0:void 0,"aria-label":I.value.ariaLabel===null?void 0:I.value.ariaLabel??`Edge from ${I.value.source} to ${I.value.target}`,"aria-describedby":j.value?`${jy}-${t}`:void 0,"aria-roledescription":"edge",role:j.value?"group":"img",...I.value.domAttributes,onClick:Ne,onContextmenu:re,onDblclick:ye,onMouseenter:ve,onMousemove:Te,onMouseleave:we,onKeyDown:j.value?E:void 0},[T.value?null:xt(fe.value===!1?c.value.default:fe.value,{id:e.id,sourceNode:C,targetNode:F,source:I.value.source,target:I.value.target,type:I.value.type,updatable:Q.value,selected:I.value.selected,animated:I.value.animated,label:I.value.label,labelStyle:I.value.labelStyle,labelShowBg:I.value.labelShowBg,labelBgStyle:I.value.labelBgStyle,labelBgPadding:I.value.labelBgPadding,labelBgBorderRadius:I.value.labelBgBorderRadius,data:I.value.data,events:{...I.value.events,...U},style:Y.value,markerStart:`url('#${Aa(I.value.markerStart,t)}')`,markerEnd:`url('#${Aa(I.value.markerEnd,t)}')`,sourcePosition:de,targetPosition:De,sourceX:Se,sourceY:Pe,targetX:qe,targetY:ot,sourceHandleId:I.value.sourceHandle,targetHandleId:I.value.targetHandle,interactionWidth:I.value.interactionWidth,...A}),[Q.value==="source"||Q.value===!0?[xt("g",{onMousedown:Ce,onMouseenter:te,onMouseout:ge},xt(V0,{position:de,centerX:Se,centerY:Pe,radius:i.value,type:"source","data-type":"source"}))]:null,Q.value==="target"||Q.value===!0?[xt("g",{onMousedown:k,onMouseenter:te,onMouseout:ge},xt(V0,{position:De,centerX:qe,centerY:ot,radius:i.value,type:"target","data-type":"target"}))]:null]])};function te(){q.value=!0}function ge(){q.value=!1}function Ee(C,F){L.update({event:C,edge:I.value,connection:F})}function ae(C){L.updateEnd({event:C,edge:I.value}),T.value=!1}function me(C,F){C.button===0&&(T.value=!0,W.value=F?I.value.target:I.value.source,J.value=(F?I.value.targetHandle:I.value.sourceHandle)??null,B.value=F?"target":"source",L.updateStart({event:C,edge:I.value}),oe(C))}function Ne(C){var F;const A={event:C,edge:I.value};N.value&&(a.value=!1,I.value.selected&&v.value?(f([I.value]),(F=Z.value)==null||F.blur()):n([I.value])),L.click(A)}function re(C){L.contextMenu({event:C,edge:I.value})}function ye(C){L.doubleClick({event:C,edge:I.value})}function ve(C){L.mouseEnter({event:C,edge:I.value})}function Te(C){L.mouseMove({event:C,edge:I.value})}function we(C){L.mouseLeave({event:C,edge:I.value})}function Ce(C){me(C,!0)}function k(C){me(C,!1)}function E(C){var F;!w.value&&Gy.includes(C.key)&&N.value&&(C.key==="Escape"?((F=Z.value)==null||F.blur(),f([d(e.id)])):n([d(e.id)]))}}}),MD=Et({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:i,connectionPosition:s,connectionLineType:a,connectionLineStyle:u,connectionLineOptions:c,connectionStatus:f,viewport:d,findNode:p}=lt(),g=(e=Yt(Hu))==null?void 0:e["connection-line"],v=$e(()=>{var R;return p((R=o.value)==null?void 0:R.nodeId)}),w=$e(()=>{var R;return p((R=i.value)==null?void 0:R.nodeId)??null}),y=$e(()=>({x:(s.value.x-d.value.x)/d.value.zoom,y:(s.value.y-d.value.y)/d.value.zoom})),x=$e(()=>c.value.markerStart?`url(#${Aa(c.value.markerStart,t)})`:""),S=$e(()=>c.value.markerEnd?`url(#${Aa(c.value.markerEnd,t)})`:"");return()=>{var R,I,L;if(!v.value||!o.value)return null;const U=o.value.id,V=o.value.type,G=v.value.handleBounds;let q=G?.[V]??[];if(n.value===Mi.Loose){const Y=G?.[V==="source"?"target":"source"]??[];q=[...q,...Y]}if(!q)return null;const T=(U?q.find(Y=>Y.id===U):q[0])??null,W=T?.position??Re.Top,{x:J,y:B}=vs(v.value,T,W);let Z=null;w.value&&(n.value===Mi.Strict?Z=((R=w.value.handleBounds[V==="source"?"target":"source"])==null?void 0:R.find(Y=>{var fe;return Y.id===((fe=i.value)==null?void 0:fe.id)}))||null:Z=((I=[...w.value.handleBounds.source??[],...w.value.handleBounds.target??[]])==null?void 0:I.find(Y=>{var fe;return Y.id===((fe=i.value)==null?void 0:fe.id)}))||null);const N=((L=i.value)==null?void 0:L.position)??(W?ap[W]:null);if(!W||!N)return null;const Q=a.value??c.value.type??br.Bezier;let j="";const ne={sourceX:J,sourceY:B,sourcePosition:W,targetX:y.value.x,targetY:y.value.y,targetPosition:N};return Q===br.Bezier?[j]=Yu(ne):Q===br.Step?[j]=pp({...ne,borderRadius:0}):Q===br.SmoothStep?[j]=pp(ne):Q===br.SimpleBezier?[j]=M0(ne):j=`M${J},${B} ${y.value.x},${y.value.y}`,xt("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},xt("g",{class:"vue-flow__connection"},g?xt(g,{sourceX:J,sourceY:B,sourcePosition:W,targetX:y.value.x,targetY:y.value.y,targetPosition:N,sourceNode:v.value,sourceHandle:T,targetNode:w.value,targetHandle:Z,markerEnd:S.value,markerStart:x.value,connectionStatus:f.value}):xt("path",{d:j,class:[c.value.class,f,"vue-flow__connection-path"],style:{...u.value,...c.value.style},"marker-end":S.value,"marker-start":x.value})))}}}),AD=["id","markerWidth","markerHeight","markerUnits","orient"],PD=Et({...{name:"MarkerType",compatConfig:{MODE:3}},props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(O(),D("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===b(Au).ArrowClosed?(O(),D("polyline",{key:0,style:Me({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):_e("",!0),t.type===b(Au).Arrow?(O(),D("polyline",{key:1,style:Me({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):_e("",!0)],8,AD))}}),RD={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},VD=Et({...{name:"MarkerDefinitions",compatConfig:{MODE:3}},setup(e){const{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:i}=lt(),s=$e(()=>{const a=new Set,u=[],c=f=>{if(f){const d=Aa(f,t);a.has(d)||(typeof f=="object"?u.push({...f,id:d,color:f.color||i.value}):u.push({id:d,color:i.value,type:f}),a.add(d))}};for(const f of[o.value.markerEnd,o.value.markerStart])c(f);for(const f of n.value)for(const d of[f.markerStart,f.markerEnd])c(d);return u.sort((f,d)=>f.id.localeCompare(d.id))});return(a,u)=>(O(),D("svg",RD,[m("defs",null,[(O(!0),D(Fe,null,ct(s.value,c=>(O(),dt(PD,{id:c.id,key:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,"stroke-width":c.strokeWidth,orient:c.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),LD=Et({...{name:"Edges",compatConfig:{MODE:3}},setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=lt();return(i,s)=>(O(),D(Fe,null,[pe(VD),(O(!0),D(Fe,null,ct(b(n),a=>(O(),D("svg",{key:a.id,class:"vue-flow__edges vue-flow__container",style:Me({zIndex:b(wI)(a,b(t),b(o))})},[pe(b(DD),{id:a.id},null,8,["id"])],4))),128)),pe(b(MD))],64))}}),zD=Et({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:i,multiSelectionActive:s,emits:a,removeSelectedNodes:u,addSelectedNodes:c,updateNodeDimensions:f,onUpdateNodeInternals:d,getNodeTypes:p,nodeExtent:g,elevateNodesOnSelect:v,disableKeyboardA11y:w,ariaLiveMessage:y,snapToGrid:x,snapGrid:S,nodeDragThreshold:R,nodesDraggable:I,elementsSelectable:L,nodesConnectable:U,nodesFocusable:V,hooks:G}=lt(),q=X(null);co(x0,q),co(E0,e.id);const T=Yt(Hu),W=$n(),J=k0(),{node:B,parentNode:Z}=C0(e.id),{emit:N,on:Q}=BI(B,a),j=It(()=>typeof B.draggable>"u"?I.value:B.draggable),ne=It(()=>typeof B.selectable>"u"?L.value:B.selectable),Y=It(()=>typeof B.connectable>"u"?U.value:B.connectable),fe=It(()=>typeof B.focusable>"u"?V.value:B.focusable),oe=$e(()=>ne.value||j.value||G.value.nodeClick.hasListeners()||G.value.nodeDoubleClick.hasListeners()||G.value.nodeMouseEnter.hasListeners()||G.value.nodeMouseMove.hasListeners()||G.value.nodeMouseLeave.hasListeners()),te=It(()=>!!B.dimensions.width&&!!B.dimensions.height),ge=$e(()=>{const F=B.type||"default",A=T?.[`node-${F}`];if(A)return A;let ee=B.template||p.value[F];if(typeof ee=="string"&&W){const ce=Object.keys(W.appContext.components);ce&&ce.includes(F)&&(ee=Yr(F,!1))}return ee&&typeof ee!="string"?ee:(a.error(new en(Kt.NODE_TYPE_MISSING,ee)),!1)}),Ee=$0({id:e.id,el:q,disabled:()=>!j.value,selectable:ne,dragHandle:()=>B.dragHandle,onStart(F){N.dragStart(F)},onDrag(F){N.drag(F)},onStop(F){N.dragStop(F)},onClick(F){E(F)}}),ae=$e(()=>B.class instanceof Function?B.class(B):B.class),me=$e(()=>{const F=(B.style instanceof Function?B.style(B):B.style)||{},A=B.width instanceof Function?B.width(B):B.width,ee=B.height instanceof Function?B.height(B):B.height;return!F.width&&A&&(F.width=typeof A=="string"?A:`${A}px`),!F.height&&ee&&(F.height=typeof ee=="string"?ee:`${ee}px`),F}),Ne=It(()=>Number(B.zIndex??me.value.zIndex??0));return d(F=>{(F.includes(e.id)||!F.length)&&ye()}),Ke(()=>{Le(()=>B.hidden,(F=!1,A,ee)=>{!F&&q.value&&(e.resizeObserver.observe(q.value),ee(()=>{q.value&&e.resizeObserver.unobserve(q.value)}))},{immediate:!0,flush:"post"})}),Le([()=>B.type,()=>B.sourcePosition,()=>B.targetPosition],()=>{St(()=>{f([{id:e.id,nodeElement:q.value,forceUpdate:!0}])})}),Le([()=>B.position.x,()=>B.position.y,()=>{var F;return(F=Z.value)==null?void 0:F.computedPosition.x},()=>{var F;return(F=Z.value)==null?void 0:F.computedPosition.y},()=>{var F;return(F=Z.value)==null?void 0:F.computedPosition.z},Ne,()=>B.selected,()=>B.dimensions.height,()=>B.dimensions.width,()=>{var F;return(F=Z.value)==null?void 0:F.dimensions.height},()=>{var F;return(F=Z.value)==null?void 0:F.dimensions.width}],([F,A,ee,ce,he,se])=>{const de={x:F,y:A,z:se+(v.value&&B.selected?1e3:0)};typeof ee<"u"&&typeof ce<"u"?B.computedPosition=gI({x:ee,y:ce,z:he},de):B.computedPosition=de},{flush:"post",immediate:!0}),Le([()=>B.extent,g],([F,A],[ee,ce])=>{(F!==ee||A!==ce)&&re()}),B.extent==="parent"||typeof B.extent=="object"&&"range"in B.extent&&B.extent.range==="parent"?Tf(()=>te).toBe(!0).then(re):re(),()=>B.hidden?null:xt("div",{ref:q,"data-id":B.id,class:["vue-flow__node",`vue-flow__node-${ge.value===!1?"default":B.type||"default"}`,{[n.value]:j.value,dragging:Ee?.value,draggable:j.value,selected:B.selected,selectable:ne.value,parent:B.isParent},ae.value],style:{visibility:te.value?"visible":"hidden",zIndex:B.computedPosition.z??Ne.value,transform:`translate(${B.computedPosition.x}px,${B.computedPosition.y}px)`,pointerEvents:oe.value?"all":"none",...me.value},tabIndex:fe.value?0:void 0,role:fe.value?"group":void 0,"aria-describedby":w.value?void 0:`${Uy}-${t}`,"aria-label":B.ariaLabel,"aria-roledescription":"node",...B.domAttributes,onMouseenter:ve,onMousemove:Te,onMouseleave:we,onContextmenu:Ce,onClick:E,onDblclick:k,onKeydown:C},[xt(ge.value===!1?p.value.default:ge.value,{id:B.id,type:B.type,data:B.data,events:{...B.events,...Q},selected:B.selected,resizing:B.resizing,dragging:Ee.value,connectable:Y.value,position:B.computedPosition,dimensions:B.dimensions,isValidTargetPos:B.isValidTargetPos,isValidSourcePos:B.isValidSourcePos,parent:B.parentNode,parentNodeId:B.parentNode,zIndex:B.computedPosition.z??Ne.value,targetPosition:B.targetPosition,sourcePosition:B.sourcePosition,label:B.label,dragHandle:B.dragHandle,onUpdateNodeInternals:ye})]);function re(){const F=B.computedPosition,{computedPosition:A,position:ee}=ip(B,x.value?Bu(F,S.value):F,a.error,g.value,Z.value);(B.computedPosition.x!==A.x||B.computedPosition.y!==A.y)&&(B.computedPosition={...B.computedPosition,...A}),(B.position.x!==ee.x||B.position.y!==ee.y)&&(B.position=ee)}function ye(){q.value&&f([{id:e.id,nodeElement:q.value,forceUpdate:!0}])}function ve(F){Ee?.value||N.mouseEnter({event:F,node:B})}function Te(F){Ee?.value||N.mouseMove({event:F,node:B})}function we(F){Ee?.value||N.mouseLeave({event:F,node:B})}function Ce(F){return N.contextMenu({event:F,node:B})}function k(F){return N.doubleClick({event:F,node:B})}function E(F){ne.value&&(!o.value||!j.value||R.value>0)&&lp(B,s.value,c,u,i,!1,q.value),N.click({event:F,node:B})}function C(F){if(!(Jf(F)||w.value))if(Gy.includes(F.key)&&ne.value){const A=F.key==="Escape";lp(B,s.value,c,u,i,A,q.value)}else j.value&&B.selected&&gs[F.key]&&(F.preventDefault(),y.value=`Moved selected node ${F.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~B.position.x}, y: ${~~B.position.y}`,J({x:gs[F.key].x,y:gs[F.key].y},F.shiftKey))}}}),BD={height:"0",width:"0"},FD=Et({...{name:"EdgeLabelRenderer",compatConfig:{MODE:3}},setup(e){const{viewportRef:t}=lt(),n=It(()=>{var o;return(o=t.value)==null?void 0:o.getElementsByClassName("vue-flow__edge-labels")[0]});return(o,i)=>(O(),D("svg",null,[(O(),D("foreignObject",BD,[(O(),dt(t$,{to:n.value,disabled:!n.value},[qn(o.$slots,"default")],8,["to","disabled"]))]))]))}});function HD(e={includeHiddenNodes:!1}){const{nodes:t}=lt();return $e(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&(n?.handleBounds===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const UD={class:"vue-flow__nodes vue-flow__container"},jD=Et({...{name:"Nodes",compatConfig:{MODE:3}},setup(e){const{getNodes:t,updateNodeDimensions:n,emits:o}=lt(),i=HD(),s=X();return Le(i,a=>{a&&St(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),Ke(()=>{s.value=new ResizeObserver(a=>{const u=a.map(c=>({id:c.target.getAttribute("data-id"),nodeElement:c.target,forceUpdate:!0}));St(()=>n(u))})}),Xo(()=>{var a;return(a=s.value)==null?void 0:a.disconnect()}),(a,u)=>(O(),D("div",UD,[s.value?(O(!0),D(Fe,{key:0},ct(b(t),(c,f,d,p)=>{const g=[c.id];if(p&&p.key===c.id&&dN(p,g))return p;const v=(O(),dt(b(zD),{id:c.id,key:c.id,"resize-observer":s.value},null,8,["id","resize-observer"]));return v.memo=g,v},u,0),128)):_e("",!0)]))}});function GD(){const{emits:e}=lt();Ke(()=>{if(v0()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new en(Kt.MISSING_STYLES))}})}const WD=m("div",{class:"vue-flow__edge-labels"},null,-1),ms=Et({...{name:"VueFlow",compatConfig:{MODE:3}},props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,i=Ev(),s=If(o,"modelValue",n),a=If(o,"nodes",n),u=If(o,"edges",n),c=lt(o),f=jI({modelValue:s,nodes:a,edges:u},o,c);return WI(n,c.hooks),OD(),GD(),co(Hu,i),ar(f),t(c),(d,p)=>(O(),D("div",{ref:b(c).vueFlowRef,class:"vue-flow"},[pe($D,null,{default:Qe(()=>[pe(LD),WD,pe(jD),qn(d.$slots,"zoom-pane")]),_:3}),qn(d.$slots,"default"),pe(SD)],512))}}),Va=Et({...{name:"Panel",compatConfig:{MODE:3}},props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=lt(),o=$e(()=>`${t.position}`.split("-"));return(i,s)=>(O(),D("div",{class:Be(["vue-flow__panel",o.value]),style:Me({pointerEvents:b(n)?"none":"all"})},[qn(i.$slots,"default")],6))}}),nt=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n},qD={class:"col-md-4",style:{"max-width":"20% !important"}},YD={type:"text"},KD=["placeholder"],XD={class:"learning-path-nodes-container"},ZD={class:"nodes"},JD=["data","onDragstart","onDrag"],QD={class:"col-auto info-circle"},gp="250px",L0=nt({__name:"CompletionSidebar",props:{conditions:{type:Array,default:null},strings:{type:Object,default:null},nodes:{type:Array,default:null},edges:{type:Array,default:null},type:{type:String,required:!0}},emits:["nodesIntersected"],setup(e,{emit:t}){const n=We(),{project:o,vueFlowRef:i,addNodes:s,addEdges:a,removeNodes:u}=lt(),c=X(""),f=X(null),d=t,p=X(null),g=["target_and","target_or","source_and","source_or"],v=X({x:0,y:0});function w(T){v.value={x:T.clientX,y:T.clientY}}Ke(()=>{document.addEventListener("dragover",w)}),Xo(()=>{document.removeEventListener("dragover",w)});function y(T,W){T.dataTransfer&&(T.dataTransfer.setData("application/vueflow","custom"),T.dataTransfer.setData("application/data",JSON.stringify(W)),T.dataTransfer.effectAllowed="move")}function x(T){const W=U(T);if(W){let J=[];G.edges.forEach(Z=>{(Z.source==W.id||Z.target==W.id)&&!Z.id.includes("source_")&&Z.type!="default"&&(Z.source==W.id?J.push(Z.sourceHandle):Z.target==W.id&&J.push(Z.targetHandle))});const B=L(g,J);B.length>0&&(I(B,W),S(T,W))}W!==f.value&&(u(g),f.value=W)}function S(T,W){p.value=null,G.nodes.forEach(J=>{if(J.type.indexOf("dropzone")!=-1){const{left:B,top:Z}=i.value.getBoundingClientRect();let N=T.clientX,Q=T.clientY;N==0&&Q==0&&(N=v.value.x,Q=v.value.y);const j=o({x:N-B,y:Q-Z});R(j,J)?(p.value={closestnode:W,dropzone:J},J.data={opacity:"0.75",bgcolor:"chartreuse",infotext:n.state.strings.composables_new_node,height:gp,width:"350px"}):J.data={opacity:"0.6",bgcolor:"grey",infotext:n.state.strings.completion_drop_zone,height:gp,width:"350px"}}}),d("nodesIntersected",{intersecting:p.value})}function R(T,W){return T.x<W.position.x+W.dimensions.width&&T.x>W.position.x&&T.y<W.position.y+W.dimensions.height&&T.y>W.position.y}function I(T,W){T.forEach(J=>{let B={x:W.position.x,y:W.position.y};if(J=="target_and"?B.y-=350:J=="source_and"?B.y+=350:J=="source_or"?B.x+=450:J=="target_or"&&(B.x-=450),J=="source_and"||J=="source_or"&&W.parentCondition=="starting_condition"){const Z={opacity:"0.6",bgcolor:"grey",infotext:n.state.strings.completion_drop_zone,height:gp,width:"350px"},N={id:J,type:"dropzone",position:B,label:"default node",data:Z};s([N]);let Q={type:"disjunctional",text:n.state.strings.completion_edge_or},j="target_or";J=="source_and"&&(j="target_and",Q={type:"additional",text:n.state.strings.completion_edge_and});const ne={id:`${W.id}-${J}`,source:W.id,sourceHandle:J,target:N.id,targetHandle:j,type:"condition",data:Q};a([ne])}})}function L(T,W){return T.filter(J=>!W.includes(J))}function U(T){const{left:J,top:B}=i.value.getBoundingClientRect();let Z=T.clientX,N=T.clientY;Z==0&&N==0&&(Z=v.value.x,N=v.value.y);const Q=o({x:Z-J,y:N-B});let j=null,ne=1/0;return G.nodes.forEach(Y=>{if(Y.parentCondition=="starting_condition"||Y.type!="dropzone"&&Y.type!="selected"&&Y.type!="feedback"&&(Y.childCondition.length==0||Y.childCondition[0].includes("_feedback"))){const fe={x:Y.position.x+Y.dimensions.width/2,y:Y.position.y+Y.dimensions.height/2},oe=Math.sqrt(Math.pow(Q.x-fe.x,2)+Math.pow(Q.y-fe.y,2));oe<ne&&oe<800&&(ne=oe,j=Y)}}),j}function V(){u(g)}const G=e,q=$e(()=>G.conditions.filter(T=>T.description.toLowerCase().includes(c.value.toLowerCase().slice(1))));return(T,W)=>{const J=Xr("tooltip");return O(),D("aside",qD,[m("div",YD,H(b(n).state.strings.completion_list_of_criteria)+" "+H(e.type)+" "+H(b(n).state.strings.completion_criteria),1),Ye(m("input",{id:"searchTerm","onUpdate:modelValue":W[0]||(W[0]=B=>c.value=B),class:"form-control",placeholder:e.strings.placeholder_search},null,8,KD),[[Mt,c.value]]),m("div",XD,[m("div",ZD,[(O(!0),D(Fe,null,ct(q.value,B=>(O(),D("div",{key:B.description,class:"vue-flow__node-input mt-1 row align-items-center justify-content-center",draggable:!0,data:B,style:{width:"95%","margin-left":"0.025rem"},onDragstart:Z=>y(Z,B),onDrag:Z=>x(Z),onDragend:W[1]||(W[1]=Z=>V())},[Ye((O(),D("div",QD,[...W[2]||(W[2]=[m("i",{class:"fa fa-circle-info fa-lg"},null,-1)])])),[[J,B.description]]),Ue(" "+H(B.name),1)],40,JD))),128))])])])}}},[["__scopeId","data-v-98d05444"]]);var si=(e=>(e.Lines="lines",e.Dots="dots",e))(si||{});const z0=function({dimensions:e,size:t,color:n}){return xt("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},B0=function({radius:e,color:t}){return xt("circle",{cx:e,cy:e,r:e,fill:t})};si.Lines+"",si.Dots+"";const eM={[si.Dots]:"#81818a",[si.Lines]:"#eee"},tM=["id","x","y","width","height","patternTransform"],nM={key:2,height:"100",width:"100"},oM=["fill"],iM=["x","y","fill"],Ku=Et({...{name:"Background",compatConfig:{MODE:3}},props:{id:{},variant:{default:()=>si.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=lt(),o=$e(()=>{const a=n.value.zoom,[u,c]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],f=[u*a||1,c*a||1],d=e.size*a,[p,g]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],v=[p*a||1+f[0]/2,g*a||1+f[1]/2];return{scaledGap:f,offset:v,size:d}}),i=It(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),s=It(()=>e.color||e.patternColor||eM[e.variant||si.Dots]);return(a,u)=>(O(),D("svg",{class:"vue-flow__background vue-flow__container",style:Me({height:`${a.height>100?100:a.height}%`,width:`${a.width>100?100:a.width}%`})},[qn(a.$slots,"pattern-container",{id:i.value},()=>[m("pattern",{id:i.value,x:b(n).x%o.value.scaledGap[0],y:b(n).y%o.value.scaledGap[1],width:o.value.scaledGap[0],height:o.value.scaledGap[1],patternTransform:`translate(-${o.value.offset[0]},-${o.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[qn(a.$slots,"pattern",{},()=>[a.variant===b(si).Lines?(O(),dt(b(z0),{key:0,size:a.lineWidth,color:s.value,dimensions:o.value.scaledGap},null,8,["size","color","dimensions"])):a.variant===b(si).Dots?(O(),dt(b(B0),{key:1,color:s.value,radius:o.value.size/2},null,8,["color","radius"])):_e("",!0),a.bgColor?(O(),D("svg",nM,[m("rect",{width:"100%",height:"100%",fill:a.bgColor},null,8,oM)])):_e("",!0)])],8,tM)]),m("rect",{x:a.x,y:a.y,width:"100%",height:"100%",fill:`url(#${i.value})`},null,8,iM),qn(a.$slots,"default",{id:i.value})],4))}}),F0=(e,t)=>(t=="teacher"&&(e.nodes.forEach(n=>{n.draggable=!1,n.deletable=!1}),e.edges.forEach(n=>{n.deletable=!1})),e),vp=e=>(e.nodes=e.nodes.filter(t=>t.type.indexOf("dropzone")===-1),e.edges=e.edges.filter(t=>!t.target.includes("dropzone_")),e),H0=e=>{if(e.nodes.length===1)return!1;let t=new Set;e.edges.forEach(n=>{t.add(n.source),t.add(n.target)});for(const n of e.nodes)if(!t.has(n.id))return!0;return!1},rM=(e,t)=>{let n=!1;return e.nodes.forEach(o=>{if((o.data.label=="catquiz"||o.data.label=="modquiz")&&(o.data.value==null||o.data.value.testid==null&&o.data.value.quizid==null)){let i=t(o.id);i&&(i.data.error=!0,n=!0)}else if(o.data.error){let i=t(o.id);delete i.data.error}}),n},sM=(e,t,n)=>{let o=0;return n=="all_quiz_global"&&e.nodes.forEach(i=>{if(i.data.label=="catquiz"&&(!i.data.value?.scales?.parent?.scale||i.data.value.scales.parent.scale=="")){const s=t(i.id);s&&(s.data.error=!0,o+=1)}else if(i.data.error){const s=t(i.id);s&&delete s.data.error}}),o},mp=(e,t,n,o)=>(e.nodes.forEach(i=>{(i.type=="custom"||i.type=="orcourses")&&(i[t]=[],i[n]=[],e.edges.forEach(s=>{s.sourceHandle.includes("or")||(s.source==i.id&&!i[n].includes(s.target)&&i[n].push(s.target),s.target==i.id&&!i[t].includes(s.source)&&i[t].push(s.source))}),i[t].length==0&&i[t].push(o),i.data?.course_node_id&&(i.data.course_node_id.length>1?i.type="orcourses":i.type="custom"))}),e),aM=["disabled"],lM={key:0,class:"cancelConfi"},U0=nt({__name:"CompletionControls",props:{condition:{type:String,required:!0},learningpath:{type:Object,required:!0}},emits:["change-class"],setup(e,{emit:t}){const n=We(),o=gr(),i=e,s=X(null),a=X({}),u=X(!1),c=X(!1),f=X(0);Ke(()=>{s.value=i.learningpath,a.value=JSON.parse(JSON.stringify(i.learningpath))});const{onPaneReady:d,toObject:p,setNodes:g,setEdges:v,findNode:w}=lt(),y=t;function x(){y("change-class")}const S=Le(()=>s.value,async()=>{if(s.value&&s.value.json.tree&&n.state.node!=null&&s.value.json!=""){let V=s.value.json.tree.nodes.filter(q=>q.id===n.state.node.node_id);const G=F0(V[0][i.condition],n.state.view);G&&(g(G.nodes),v(G.edges))}S()},{deep:!0}),R=async()=>{const V=I();if(H0(V)){Qt({title:n.state.strings.completion_invalid_path_title,text:n.state.strings.completion_invalid_path_text,type:"error"});return}if(rM(V,w)){Qt({title:n.state.strings.completion_invalid_condition_title,text:n.state.strings.completion_invalid_condition_text,type:"error"});return}const T=sM(V,w,n.state.quizsetting);if(T!=f.value&&(f.value=T,c.value=!1),T&&!c.value){Qt({title:n.state.strings.completion_empty_global_value,text:n.state.strings.completion_empty_global_value_text,type:"warn"}),c.value=!0,f.value=T;return}V.nodes.forEach(J=>{delete J.data.error}),s.value.json.tree.nodes=s.value.json.tree.nodes.filter(J=>J.type!=="dropzone").map(J=>J.id===n.state.node.node_id?{...J,[i.condition]:V}:J);const W=await n.dispatch("saveLearningpath",s.value);o.push("/learningpaths/edit/"+W),U(!0),Qt({title:n.state.strings.title_save,text:n.state.strings.description_save,type:"success"})},I=()=>{let V=p();return V=vp(V),mp(V,"parentCondition","childCondition","starting_condition")},L=()=>{const V=I();s.value.json.tree.nodes.forEach(G=>{n.state.node&&G.id===n.state.node.node_id&&(G[i.condition]==null&&V.nodes.length==0&&U(!1),G[i.condition]&&JSON.stringify(V.nodes)==JSON.stringify(G[i.condition].nodes)?U(!1):u.value=!u.value)})},U=V=>{V&&L(),n.state.editingpretest=!1,n.state.editingrestriction=!1,n.state.editingadding=!0,n.state.node=null};return d(({fitView:V})=>{V()}),(V,G)=>(O(),dt(b(Va),{class:"save-restore-controls"},{default:Qe(()=>[m("button",{class:"btn btn-primary m-2",onClick:R},H(b(n).state.strings.save),1),m("button",{class:"btn btn-secondary m-2",disabled:u.value,onClick:L},H(b(n).state.strings.btncancel),9,aM),u.value?(O(),D("div",lM,[Ue(H(b(n).state.strings.flowchart_cancel_confirmation)+" ",1),m("button",{id:"cancel-learning-path",class:"btn btn-primary m-2",onClick:L},H(b(n).state.strings.flowchart_back_button),1),m("button",{id:"confim-cancel-learning-path",class:"btn btn-warning m-2",onClick:G[0]||(G[0]=q=>U(!0))},H(b(n).state.strings.flowchart_cancel_button),1)])):_e("",!0),m("button",{class:"btn btn-warning m-2",onClick:x},H(b(n).state.strings.btntoggle),1)]),_:1}))}},[["__scopeId","data-v-10ab2324"]]),uM={class:"form-check"},cM={__name:"manual_check",props:{modelValue:{type:Object,default:null},restriction:{type:Object,required:!0}},setup(e){return(t,n)=>(O(),D("div",uM,H(e.restriction.description),1))}},dM={class:"form-check"},fM=["id","checked"],pM=["for"],j0={__name:"manual_output",props:{modelValue:{type:Boolean,default:null},data:{type:Object,required:!0}},setup(e){const t=We();return(n,o)=>(O(),D("div",dM,[m("input",{id:e.data.node_id,class:"form-check-input",type:"checkbox",checked:e.modelValue,onChange:o[0]||(o[0]=i=>n.$emit("update:modelValue",i.target.checked))},null,40,fM),m("label",{for:e.data.node_id},H(b(t).state.strings.restriction_access_manually),9,pM)]))}},hM={class:"tooltip-container"},gM={class:"tooltip-text"},_p=nt({__name:"TimeWarning",setup(e){const t=We();return(n,o)=>(O(),D("div",hM,[o[0]||(o[0]=m("i",{class:"ml-2 fa fa-exclamation-triangle"},null,-1)),m("div",gM,H(b(t).state.strings.nodes_warning_time_restriction),1)]))}},[["__scopeId","data-v-a0d10359"]]),vM={class:"form-check"},mM={class:"input-group mb-3 d-flex flex-column align-items-center"},_M={class:"input-group-text rounded-end-0"},yM=["value"],bM={class:"input-group mb-3 d-flex flex-column align-items-center"},wM={class:"input-group-text rounded-end-0"},EM=["value"],xM={__name:"timed_dates",props:{modelValue:{type:Object,default:null},restriction:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=X({start:null,end:null}),i=X({start:null,end:null}),s=t,a=(u,c)=>{o.value[u]=c.target.value,s("update:modelValue",o.value)};return Ke(()=>{n.modelValue!=null&&(o.value=n.modelValue);let u=n.restriction.description.split(";");i.value.start=u[0],i.value.end=u[1]}),Le(()=>n.modelValue,u=>{o.value=u},{deep:!0}),(u,c)=>(O(),D("div",vM,[m("div",mM,[m("span",_M,[Ue(H(i.value.start)+" ",1),pe(_p)]),m("input",{type:"datetime-local",class:"form-control",style:{width:"80%","border-radius":"0.5rem !important"},value:o.value.start,onInput:c[0]||(c[0]=f=>a("start",f))},null,40,yM)]),m("div",bM,[m("span",wM,[Ue(H(i.value.end)+" ",1),pe(_p)]),m("input",{type:"datetime-local",class:"form-control",style:{width:"80%","border-radius":"0.5rem !important"},value:o.value.end,onInput:c[1]||(c[1]=f=>a("end",f))},null,40,EM)])]))}},$M={class:"form-check"},NM={class:"form-group"},CM={class:"form-label",for:"courseSelect"},kM={value:null,disabled:""},SM=["value"],OM=nt({__name:"specific_course",props:{modelValue:{type:Object,default:null},restriction:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=We(),o=e,i=X([]),s=X([]),a=X(null),u=t;return Ke(async()=>{n.state.learningpath.json.tree.nodes.forEach(c=>{n.state.node.id!=c.id&&s.value.push({id:c.id,name:c.data.fullname})}),o.restriction.value!==void 0&&(a.value=o.restriction.value.courseid)}),Le(()=>a.value,async()=>{i.value={courseid:a.value}},{deep:!0}),Le(()=>i.value,()=>{u("update:modelValue",i.value)},{deep:!0}),(c,f)=>(O(),D("div",$M,[Ue(H(e.restriction.description)+" ",1),m("div",NM,[m("label",CM,H(b(n).state.strings.restriction_select_course),1),Ye(m("select",{id:"courseSelect","onUpdate:modelValue":f[0]||(f[0]=d=>a.value=d),class:"form-select"},[m("option",kM,H(b(n).state.strings.restriction_select_course),1),(O(!0),D(Fe,null,ct(s.value,d=>(O(),D("option",{key:d.id,value:d.id},H(d.name),9,SM))),128))],512),[[Oi,a.value]])])]))}},[["__scopeId","data-v-da7bc095"]]);function Yn(e,t=null){return t==null&&(t=38),e.length>t?e.substring(0,t)+"...":e}const TM={class:"form-check"},IM={key:0},DM={class:"fullname-container"},MM=nt({__name:"parent_node_completed",props:{modelValue:{type:Object,default:null},restriction:{type:Object,required:!0},learningpath:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=We(),o=e,i=X({node_id:[]}),s=X([]),a=t;return Ke(()=>{o.learningpath.json.tree.nodes.forEach(u=>{if(u.childCourse&&u.childCourse.includes(n.state.node.node_id)){let c=u.data.fullname;c==""&&(c=n.state.strings.nodes_collection),s.value.push({id:u.id,name:c}),i.value.node_id.push(u.id)}}),a("update:modelValue",i.value)}),(u,c)=>(O(),D("div",TM,[Ue(H(e.restriction.description)+" ",1),s.value?(O(),D("div",IM,[Ue(H(b(n).state.strings.restriction_parents_found)+" ",1),(O(!0),D(Fe,null,ct(s.value,(f,d)=>(O(),D("div",{key:d,class:"card-text"},[m("div",DM,H(b(Yn)(f.name,24)),1)]))),128))])):_e("",!0)]))}},[["__scopeId","data-v-7e7d0f2e"]]),AM={class:"form-check"},PM={class:"form-group"},RM={key:0},VM={class:"form-label",for:"courseSelect"},LM={disabled:"",value:"",selected:""},zM=["value"],BM={key:1},FM=nt({__name:"parent_courses",props:{modelValue:{type:Object,default:null},restriction:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=X({min_courses:1,courses_id:[]}),i=X(0),s=t,a=We(),u=()=>{s("update:modelValue",o.value)};return Ke(()=>{n.restriction.value&&n.restriction.value.min_courses&&(o.value.min_courses=n.restriction.value.min_courses),a.state.learningpath.json.tree.nodes.forEach(c=>{c.id==a.state.node.node_id&&(c.parentCourse==null||c.parentCourse.includes("starting_node")?i.value=0:(i.value=c.parentCourse.length,o.value.courses_id=c.parentCourse))}),u()}),(c,f)=>(O(),D("div",AM,[Ue(H(e.restriction.description)+" ",1),m("div",PM,[o.value.courses_id&&o.value.courses_id.length>0?(O(),D("div",RM,[m("label",VM,H(b(a).state.strings.restriction_select_number),1),Ye(m("select",{"onUpdate:modelValue":f[0]||(f[0]=d=>o.value.min_courses=d),class:"form-select",onChange:u},[m("option",LM,H(b(a).state.strings.restriction_choose_number),1),(O(!0),D(Fe,null,ct(i.value,d=>(O(),D("option",{key:d,value:d},H(d),9,zM))),128))],544),[[Oi,o.value.min_courses]]),Ue(" / "+H(o.value.courses_id.length),1)])):(O(),D("div",BM,H(b(a).state.strings.restriction_no_select_number),1))])]))}},[["__scopeId","data-v-40bfb29a"]]),HM={class:"form-group"},UM={class:"input-group mb-3"},jM={disabled:"",value:"",selected:""},GM=["value"],WM={class:"row input-group mb-3",style:{"margin-left":"0"}},qM=["placeholder"],YM={disabled:"",value:"",selected:""},KM=["value"],XM=nt({__name:"timed_duration",props:{modelValue:{type:Object,default:null},restriction:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=We(),o=e,i=X({selectedOption:null,durationValue:1,selectedDuration:null}),s=X({0:n.state.strings.course_select_condition_timed_duration_learning_path,1:n.state.strings.course_select_condition_timed_duration_node}),a=X({0:n.state.strings.course_select_condition_timed_duration_days,1:n.state.strings.course_select_condition_timed_duration_weeks,2:n.state.strings.course_select_condition_timed_duration_months}),u=t,c=()=>{u("update:modelValue",i.value)};return Ke(()=>{o.modelValue!=null&&(i.value=o.modelValue)}),Le(()=>o.modelValue,f=>{i.value=f},{deep:!0}),Le(()=>i.value.selectedDuration,(f,d)=>{const p=parseInt(f,10);isNaN(p)||p<1||p!==parseFloat(f)?i.value.selectedDuration=d&&d>0&&parseInt(d,10)===parseFloat(d)?d:"":i.value.selectedDuration=p.toString()},{deep:!0}),(f,d)=>(O(),D("div",HM,[m("div",UM,[Ye(m("select",{"onUpdate:modelValue":d[0]||(d[0]=p=>i.value.selectedOption=p),class:"form-select",onChange:d[1]||(d[1]=p=>c())},[m("option",jM,H(b(n).state.strings.course_name_condition_timed_duration_select_start),1),(O(!0),D(Fe,null,ct(s.value,(p,g)=>(O(),D("option",{key:g,value:g},H(p),9,GM))),128))],544),[[Oi,i.value.selectedOption]])]),m("div",WM,[Ye(m("input",{"onUpdate:modelValue":d[2]||(d[2]=p=>i.value.selectedDuration=p),class:"col-md-6 form-control",placeholder:b(n).state.strings.course_name_condition_timed_duration_duration_value,onChange:d[3]||(d[3]=p=>c())},null,40,qM),[[Mt,i.value.selectedDuration]]),Ye(m("select",{"onUpdate:modelValue":d[4]||(d[4]=p=>i.value.durationValue=p),class:"col-md-6 form-select ml-0",onChange:d[5]||(d[5]=p=>c())},[m("option",YM,H(b(n).state.strings.course_name_condition_timed_duration_select_format),1),(O(!0),D(Fe,null,ct(a.value,(p,g)=>(O(),D("option",{key:g,value:g},H(p),9,KM))),128))],544),[[Oi,i.value.durationValue]])]),Ue(" "+H(b(n).state.strings.nodes_warning_time_heading)+" ",1),pe(_p)]))}},[["__scopeId","data-v-c62c0323"]]),ZM={__name:"RestrictionItem",props:{restriction:{type:Object,required:!0},learningpath:{type:Object,required:!0}},emits:["changevalues"],setup(e,{emit:t}){const n=e,o=t,i=$e({get(){return n.restriction?.value},set(u){o("changevalues",u)}}),s=$e(()=>{switch(a()){case"manual":return cM;case"timed":return xM;case"manual_output":return j0;case"specific_course":return OM;case"parent_courses":return FM;case"parent_node_completed":return MM;case"timed_duration":return XM;default:return null}}),a=()=>({manual:"manual",timed:"timed",specific_course:"specific_course",parent_courses:"parent_courses",parent_node_completed:"parent_node_completed",timed_duration:"timed_duration"})[n.restriction.label]||"manual";return(u,c)=>(O(),dt(Kr(s.value),{modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=f=>i.value=f),restriction:e.restriction,learningpath:e.learningpath},null,8,["modelValue","restriction","learningpath"]))}},JM={class:"form-check"},QM={key:0},eA={key:1},tA={class:"form-label",for:"courseSelect"},nA={disabled:"",value:"",selected:""},oA=["value"],iA=nt({__name:"course_completed",props:{modelValue:{type:Object,default:null},completion:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const n=We(),o=X({}),i=X(0),s=t,a=X({min_courses:0}),u=e;return Ke(()=>{o.value=n.state.node,u.completion.value&&u.completion.value.min_courses&&(a.value.min_courses=u.completion.value.min_courses),i.value=o.value.course_node_id.length}),Le(()=>a.value,()=>{s("update:modelValue",a.value)},{deep:!0}),(c,f)=>(O(),D("div",JM,[o.value.course_node_id&&o.value.course_node_id.length==1?(O(),D("div",QM,H(e.completion.description),1)):o.value.course_node_id?(O(),D("div",eA,[m("label",tA,H(b(n).state.strings.course_completion_minimum_amount),1),Ye(m("select",{"onUpdate:modelValue":f[0]||(f[0]=d=>a.value.min_courses=d),class:"form-select",onChange:f[1]||(f[1]=(...d)=>c.emitSelectedParentCourse&&c.emitSelectedParentCourse(...d))},[m("option",nA,H(b(n).state.strings.course_completion_choose_number),1),(O(!0),D(Fe,null,ct(i.value,d=>(O(),D("option",{key:d,value:d},H(d),9,oA))),128))],544),[[Oi,a.value.min_courses]]),Ue(" / "+H(o.value.course_node_id.length),1)])):_e("",!0)]))}},[["__scopeId","data-v-ae7094cf"]]),rA={class:"form-check"},sA=["checked"],aA={for:"enableTextarea"},lA=["disabled","placeholder"],uA=["disabled"],cA=nt({__name:"manual_check",props:{modelValue:{type:Object,default:null},completion:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const n=We(),o=e,i=X(o.completion?.information||""),s=X(o.completion?.informationedited||!1),a=X(!1),u=t,c=()=>{s.value=!s.value},f=()=>{o.completion&&(o.completion.information=i.value,o.completion.informationedited=!0,u("update:modelValue","newinformation"),a.value=!0)},d=()=>{a.value=!1};return(p,g)=>(O(),D("div",rA,[Ue(H(b(n).state.strings.completion_manual_check)+" ",1),m("div",null,[m("input",{type:"checkbox",id:"enableTextarea",onClick:c,checked:s.value},null,8,sA),m("label",aA,H(b(n).state.strings.enabletextarea_manual_check),1)]),Ye(m("textarea",{class:"form-control","onUpdate:modelValue":g[0]||(g[0]=v=>i.value=v),disabled:!s.value,rows:"4",onInput:d,placeholder:b(n).state.strings.info_placeholder_manual_check},null,40,lA),[[Mt,i.value]]),m("button",{class:Be(["btn","mt-2",{"btn-success":a.value,"btn-primary":!a.value}]),onClick:f,disabled:!s.value||!i.value},H(b(n).state.strings.btnupdatetext_manual_check),11,uA)]))}},[["__scopeId","data-v-45d597c1"]]),dA={class:"test-info"},fA=["onMousedown"],pA={class:"test-info"},G0=nt(Et({__name:"DropdownInput",props:{selectedTestId:{},tests:{}},emits:["update:value"],setup(e,{emit:t}){const n=We(),o=X(!1),i=X(null),s=t,a=X("");let u=!1;const c=e,f=()=>{setTimeout(()=>{u||(o.value=!1),u=!1},200)},d=()=>{u=!0};Ke(()=>{if(c.selectedTestId){const w=c.tests.find(y=>y.id===c.selectedTestId);w&&(i.value=w,a.value=w.name)}}),Le(()=>c.selectedTestId,()=>{const w=c.tests.find(y=>y.id===c.selectedTestId);w&&(i.value=w,a.value=w.name)},{deep:!0}),Le(()=>i.value,()=>{s("update:value",i.value)},{deep:!0});const p=$e(()=>{const w=a.value?a.value.toLowerCase():"";return c.tests.filter(y=>{const x=y.name?y.name.toLowerCase():"",S=y.coursename?y.coursename.toLowerCase():"";return x.includes(w)||S.includes(w)})}),g=w=>{i.value=w,w?a.value=w.name:a.value=null,o.value=!1},v=w=>{const y=w.target;y.scrollHeight>y.clientHeight&&w.preventDefault()};return(w,y)=>(O(),D("div",null,[Ye(m("input",{"onUpdate:modelValue":y[0]||(y[0]=x=>a.value=x),type:"text",class:"form-control mb-3",placeholder:"Search tests",onFocus:y[1]||(y[1]=x=>o.value=!0),onBlur:f},null,544),[[Mt,a.value]]),o.value?(O(),D("div",{key:0,class:"dropdown",ref:"dropdown",onMousedown:d},[m("ul",{class:"dropdown-list",onScroll:Xe(v,["prevent"])},[m("li",{onMousedown:y[2]||(y[2]=x=>g(null))},[m("div",dA,[m("div",null,[m("b",null,H(b(n).state.strings.nodes_items_none),1)])])],32),(O(!0),D(Fe,null,ct(p.value,x=>(O(),D("li",{key:x.id,onMousedown:S=>g(x)},[m("div",pA,[m("div",null,[m("b",null,H(b(n).state.strings.nodes_items_testname),1),Ue(" "+H(x.name),1)]),m("div",null,[m("b",null,H(b(n).state.strings.nodes_items_coursename),1),Ue(" "+H(x.coursename),1)])])],40,fA))),128))],32)],544)):_e("",!0)]))}}),[["__scopeId","data-v-cba19ac6"]]),hA={class:"form-check"},gA={key:0},vA={key:1},mA={key:0},_A=["value"],yA={key:1},bA={class:"table table-bordered table-striped bg-white"},wA={class:"thead-light"},EA={class:"position-relative"},xA={key:0,class:"icon-container"},$A={key:0,class:"dynamic-content-container"},NA={for:"scalevalue"},CA={for:"attempts",class:"mt-3"},kA={key:1},SA={key:2,class:"mt-3"},OA={class:"table table-bordered table-striped bg-white"},TA={class:"thead-light"},IA={class:"position-relative"},DA=["onClick"],MA={key:0,class:"icon-container"},AA={key:0,class:"dynamic-content-container"},PA={for:"scalevalue"},RA={for:"attempts",class:"mt-3"},VA=["onClick"],LA=nt({__name:"catQuiz",props:{modelValue:{type:Object,default:null},completion:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const n=We(),o=e,i=X([]),s=X([]),a=X([]),u=X(""),c=X(""),f=X(""),d=X([]),p=X(null),g=t,v=X(!1),w=X(""),y=X("");Ke(async()=>{s.value=await n.dispatch("fetchCatquizTests"),o.completion.value!==void 0&&(i.value=o.completion.value,o.completion.value.testid!==void 0&&(p.value=o.completion.value.testid),o.completion.value.testid_courseid!==void 0&&(c.value=o.completion.value.testid_courseid),o.completion.value.componentid!==void 0&&(f.value=o.completion.value.componentid),o.completion.value.scales!==void 0&&(d.value=o.completion.value.scales),o.completion.value.parentscales!==void 0&&(u.value=o.completion.value.parentscales,a.value=await n.dispatch("fetchCatquizParentScales"))),Le(()=>p.value,async()=>{p.value==0?(a.value=await n.dispatch("fetchCatquizParentScales"),d.value=[],i.value={testid:p.value,testid_courseid:c.value,componentid:f.value}):p.value!==null?(d.value=await n.dispatch("fetchCatquizScales",{testid:p.value}),a.value=[],i.value={testid:p.value,testid_courseid:c.value,componentid:f.value,scales:d.value}):(a.value=[],d.value=[],i.value={})},{deep:!0})});const x=async()=>{d.value=await n.dispatch("fetchCatquizParentScale",{scaleid:u.value}),i.value.scales=d.value,i.value.parentscales=u.value,i.value.selectedparentscale_courseid=c.value,i.value.componentid=f.value};Le(()=>i.value,()=>{g("update:modelValue",i.value)},{deep:!0});const S=()=>{v.value=!v.value,I(null,["sub","parent"])},R=(V,G)=>{I(V,["sub","parent"]),G.forEach(q=>{let T=null;q=="parent"?T=d.value[q]:T=d.value[q].find(W=>W.name===V),T&&(T.showDetails=!T.showDetails),T.scale?w.value=T.scale:w.value="",T.attempts?y.value=T.attempts:y.value=""})},I=(V,G)=>{G.forEach(q=>{d.value[q]&&(q=="parent"?d.value[q].showDetails=!1:d.value[q].forEach(T=>{T.name!==V&&(T.showDetails=!1)}))})},L=(V,G)=>{if(I(null,["sub","parent"]),G=="parent")i.value.scales[G].scale=w.value,i.value.scales[G].attempts=y.value;else{const q=i.value.scales.sub.findIndex(T=>T.id===V);q!==-1&&(i.value.scales.sub[q].scale=w.value,i.value.scales.sub[q].attempts=y.value)}},U=V=>{V?(p.value=V.id||null,c.value=V.courseid||null,f.value=V.componentid||null):(p.value=null,c.value=null,f.value=null)};return(V,G)=>(O(),D("div",hA,[s.value.length==0?(O(),D("div",gA,H(b(n).state.strings.no_catquiz_class),1)):(O(),D("div",vA,[Ue(H(e.completion.description)+" ",1),pe(G0,{"selected-test-id":p.value,tests:s.value,"onUpdate:value":U},null,8,["selected-test-id","tests"]),a.value.length>0?(O(),D("div",mA,[Ye(m("select",{"onUpdate:modelValue":G[0]||(G[0]=q=>u.value=q),onChange:x},[(O(!0),D(Fe,null,ct(a.value,q=>(O(),D("option",{key:q.id,value:q.id},H(q.name),9,_A))),128))],544),[[Oi,u.value]])])):_e("",!0),d.value.parent?(O(),D("div",yA,[m("table",bA,[m("thead",wA,[m("tr",null,[m("th",null,H(b(n).state.strings.conditions_parent_scale_name),1)])]),m("tbody",null,[m("tr",{class:Be([d.value.parent&&(d.value.parent.scale||d.value.parent.attempts>0)?"green-row":"empty-row"])},[m("td",EA,[m("div",{class:"item-container",onClick:G[1]||(G[1]=q=>R(d.value.parent.name,["parent"]))},[Ue(H(d.value.parent.name)+" ",1),d.value.parent.showDetails?(O(),D("div",xA,[...G[7]||(G[7]=[m("i",{class:"fa-solid fa-arrow-right"},null,-1)])])):_e("",!0)]),d.value.parent&&d.value.parent.showDetails?(O(),D("div",$A,[m("label",NA,H(b(n).state.strings.conditions_scale_value),1),Ye(m("input",{id:"scalevalue","onUpdate:modelValue":G[2]||(G[2]=q=>w.value=q),class:"form-control"},null,512),[[Mt,w.value]]),m("label",CA,H(b(n).state.strings.conditions_attempts),1),Ye(m("input",{id:"attempts","onUpdate:modelValue":G[3]||(G[3]=q=>y.value=q),class:"form-control"},null,512),[[Mt,y.value]]),m("button",{class:"btn btn-primary rounded-pill",onClick:G[4]||(G[4]=q=>L(d.value.parent.id,"parent"))},H(b(n).state.strings.conditions_set_values),1)])):_e("",!0)])],2)])]),d.value.sub&&d.value.sub.length>0?(O(),D("button",{key:0,class:"btn btn-primary rounded-pill",onClick:S},H(v.value?b(n).state.strings.conditions_catquiz_hide_table:b(n).state.strings.conditions_catquiz_show_table),1)):(O(),D("div",kA,H(b(n).state.strings.conditions_no_scales),1)),v.value?(O(),D("div",SA,[m("table",OA,[m("thead",TA,[m("tr",null,[m("th",null,H(b(n).state.strings.conditions_name),1)])]),m("tbody",null,[(O(!0),D(Fe,null,ct(d.value.sub,q=>(O(),D("tr",{key:q.id,class:Be([q.scale||q.attempts>0?"green-row":"empty-row"])},[m("td",IA,[m("div",{class:"item-container",onClick:T=>R(q.name,["sub"])},[Ue(H(q.name)+" ",1),q.showDetails?(O(),D("div",MA,[...G[8]||(G[8]=[m("i",{class:"fa-solid fa-arrow-right"},null,-1)])])):_e("",!0)],8,DA),q.showDetails?(O(),D("div",AA,[m("label",PA,H(b(n).state.strings.conditions_scale_value),1),Ye(m("input",{id:"scalevalue","onUpdate:modelValue":G[5]||(G[5]=T=>w.value=T),class:"form-control"},null,512),[[Mt,w.value]]),m("label",RA,H(b(n).state.strings.conditions_attempts),1),Ye(m("input",{id:"attempts","onUpdate:modelValue":G[6]||(G[6]=T=>y.value=T),class:"form-control"},null,512),[[Mt,y.value]]),m("button",{class:"btn btn-primary rounded-pill",onClick:T=>L(q.id,"sub")},H(b(n).state.strings.conditions_set_values),9,VA)])):_e("",!0)])],2))),128))])])])):_e("",!0)])):_e("",!0)]))]))}},[["__scopeId","data-v-bc8d6c26"]]),zA={class:"form-check"},BA={class:"form-group"},FA={key:0},HA={class:"form-group"},UA={class:"form-label",for:"grade"},jA=nt({__name:"modQuiz",props:{modelValue:{type:Object,default:null},completion:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const n=We(),o=e,i=X([]),s=X([]),a=X(null),u=X(null),c=t;Ke(async()=>{s.value=await n.dispatch("fetchModQuizzes"),o.completion.value!==void 0&&(i.value=o.completion.value,o.completion.value.quizid!==void 0&&(a.value=o.completion.value.quizid),o.completion.value.grade!==void 0&&(u.value=o.completion.value.grade)),Le(()=>a.value,async()=>{i.value={quizid:a.value,grade:u.value}},{deep:!0})}),Le(()=>u.value,async()=>{i.value={quizid:a.value,grade:u.value}},{deep:!0}),Le(()=>i.value,()=>{c("update:modelValue",i.value)},{deep:!0});const f=d=>{d?a.value=d.id:a.value=d};return(d,p)=>(O(),D("div",zA,[Ue(H(e.completion.description)+" ",1),m("div",BA,[pe(G0,{"selected-test-id":a.value,tests:s.value,"onUpdate:value":f},null,8,["selected-test-id","tests"])]),a.value?(O(),D("div",FA,[m("div",HA,[m("label",UA,H(b(n).state.strings.conditions_min_grad),1),Ye(m("input",{id:"grade","onUpdate:modelValue":p[0]||(p[0]=g=>u.value=g),class:"form-control"},null,512),[[Mt,u.value]])])])):_e("",!0)]))}},[["__scopeId","data-v-55422956"]]),GA={__name:"CompletionItem",props:{completion:{type:Object,default:null}},emits:["changevalues"],setup(e,{emit:t}){const n=e,o=t,i=$e({get(){return n.completion?.value},set(u){o("changevalues",u)}}),s=$e(()=>{switch(a()){case"course_completed":return iA;case"manual":return cA;case"catquiz":return LA;case"modquiz":return jA;default:return null}}),a=()=>({course_completed:"course_completed",manual:"manual",catquiz:"catquiz",modquiz:"modquiz"})[n.completion.label]||"manual";return(u,c)=>(O(),dt(Kr(s.value),{modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=f=>i.value=f),completion:e.completion},null,8,["modelValue","completion"]))}},WA={class:"card-header text-center"},qA={class:"row align-items-center"},YA={class:"col"},KA={class:"card-body"},XA={key:0},ZA={key:1},W0=nt({__name:"ConditionNode",props:{data:{type:Object,required:!0},type:{type:String,default:null},learningpath:{type:Object,required:!0}},emits:["updateVisibility","updateValues"],setup(e,{emit:t}){const{nodes:n,edges:o,removeNodes:i,findNode:s,addEdges:a,removeEdges:u,findEdge:c}=lt(),f=$e(()=>({backgroundColor:p.data.color,filter:"invert(100%)",width:"10px",height:"10px"})),d=We(),p=e,g=X({}),v=t;Ke(()=>{g.value=JSON.parse(JSON.stringify(p.data))});const w=()=>{g.value.visibility=!g.value.visibility,v("updateVisibility",g.value)},y=U=>{v("updateValues",{values:U,nodeid:p.data.node_id})},x=()=>{R()},S=(U,V)=>{let G=0;return V.forEach(q=>{(q.data.type=="additional"||Object.keys(q.data).length==0)&&(q.source==U||q.target==U)&&G++}),G},R=()=>{const U=s(p.data.node_id),V=JSON.parse(JSON.stringify(o.value));if(S(U.id,o.value)==0){let q=s(U.id);q.deletable=!0,i([q.id]),L(U,V)}else o.value.forEach(q=>{if(q.targetHandle=="target_and"&&q.source==p.data.node_id){let T=null,W=s(q.source),J=s(q.target);for(;J;)T=W,J.data.node_id=W.id,W.data=J.data,W=J,J=s(W.childCondition[0]);if(W!=null&&(W.deletable=!0,i([W.id]),I([W.id]),T.childCondition.length>0)){let B=[];T.childCondition.forEach(Z=>{s(Z)&&B.push(Z)}),T.childCondition=B}}else if(q.sourceHandle=="target_and"&&q.source==p.data.node_id&&q.target.includes("_feedback")&&(U.childCondition.length==0||U.childCondition[0].includes("_feedback")&&U.childCondition.length==1)){let T=s(q.source);T.deletable=!0;let W=s(q.target);W.deletable=!0,i([T.id,W.id]),I([T.id,W.id]),L(U,V)}else if(q.targetHandle=="target_and"&&q.target==p.data.node_id&&U.childCondition.length==0){let T=s(p.data.node_id);T.deletable=!0,i([T.id]),I([T.id]);let W=s(q.source);W.childCondition=[]}});v("updateVisibility",g.value)},I=U=>{U.forEach(V=>{let G=[];o.value.forEach(q=>{if(q.source==V||q.target==V){let T=c(q.id);T.deletable=!0,G.push(q.id)}}),u(G)})},L=(U,V)=>{const G={id:null,source:null,sourceHandle:"source_or",target:null,targetHandle:"target_or",type:"condition",data:{type:"disjunctional",text:d.state.strings.completion_edge_or}};n.value.forEach(q=>{q.position.x>U.position.x&&(q.position.x-=450)}),V.forEach(q=>{q.data.type&&q.data.type=="disjunctional"&&(U.id==q.source?G.target=q.target:U.id==q.target&&(G.source=q.source))}),G.target&&G.source&&(G.id=G.source+"-"+G.target),a([G])};return(U,V)=>(O(),D("div",null,[m("div",{class:"card",style:Me([{minHeight:"250px",width:"350px",border:p.data.error?"2px solid red":"1px solid #ccc"}])},[m("div",WA,[m("div",qA,[m("div",YA,[m("button",{style:{position:"absolute",top:"5px",left:"5px",background:"none",border:"none"},onClick:w},[m("i",{class:Be(["fa",{"fa-eye":g.value.visibility,"fa-eye-slash":!g.value.visibility,strikethrough:!g.value.visibility}])},null,2)]),m("h5",null,H(e.data.name),1),m("button",{style:{position:"absolute",top:"5px",right:"5px",background:"none",border:"none"},onClick:x},[...V[0]||(V[0]=[m("i",{class:"fa fa-trash"},null,-1)])])])])]),m("div",KA,[p.type=="Restriction"?(O(),D("div",XA,[pe(ZM,{restriction:e.data,learningpath:e.learningpath,onChangevalues:y},null,8,["restriction","learningpath"])])):p.type=="completion"?(O(),D("div",ZA,[pe(GA,{completion:e.data,onChangevalues:y},null,8,["completion"])])):_e("",!0)])],4),pe(b(Pt),{id:"target_and",type:"target",position:b(Re).Top,style:Me(f.value)},null,8,["position","style"]),pe(b(Pt),{id:"source_and",type:"source",position:b(Re).Bottom,style:Me(f.value)},null,8,["position","style"]),pe(b(Pt),{id:"target_or",type:"target",position:b(Re).Left,style:Me(f.value)},null,8,["position","style"]),pe(b(Pt),{id:"source_or",type:"source",position:b(Re).Right,style:Me(f.value)},null,8,["position","style"])]))}},[["__scopeId","data-v-df3e151a"]]),JA={key:0},yp={__name:"DropzoneNode",props:{data:{type:Object,required:!0},editorview:{type:Boolean,required:!0}},setup(e){return(t,n)=>e.editorview?(O(),D("div",JA,[m("div",{class:"custom-node text-center rounded p-3",style:Me({"background-color":e.data.bgcolor,opacity:e.data.opacity,height:e.data.height,width:e.data.width?e.data.width:"400px"})},H(e.data.infotext),5),pe(b(Pt),{id:"target_and",type:"target",position:b(Re).Top},null,8,["position"]),pe(b(Pt),{id:"source_and",type:"source",position:b(Re).Bottom},null,8,["position"]),pe(b(Pt),{id:"target_or",type:"target",position:b(Re).Left},null,8,["position"]),pe(b(Pt),{id:"source_or",type:"source",position:b(Re).Right},null,8,["position"])])):_e("",!0)}},q0=Object.assign({inheritAttrs:!1},{__name:"ConditionLine",props:{data:{type:Object,required:!0},id:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,required:!0},targetPosition:{type:String,required:!0},markerEnd:{type:String,required:!0},style:{type:Object,required:!1}},setup(e){const t=e,n=$e(()=>Yu(t));return(o,i)=>(O(),D(Fe,null,[pe(b(Ra),{id:e.id,style:Me(e.style),path:n.value[0],"marker-end":e.markerEnd},null,8,["id","style","path","marker-end"]),pe(b(FD),null,{default:Qe(()=>[m("div",{style:Me({pointerEvents:"all",position:"absolute",transform:`translate(-50%, -50%) translate(${n.value[1]}px,${n.value[2]}px)`,borderRadius:"50%",padding:"5px 10px",backgroundColor:"#007BFF",color:"#fff"}),class:"nodrag nopan"},H(e.data.text),5)]),_:1})],64))}}),bp=(e,t)=>{let n=1;return t.forEach(o=>{if(o.id.startsWith(e)){const i=Number(o.id.slice(e.length));n<=i&&(n=i+1)}}),`${e}${n}`},QA={class:"text-center"},eP={class:"container"},tP={class:"row justify-content-center"},nP={class:"col-md-12"},oP={class:"mb-3"},iP={for:"exampleFormControlTextarea1",class:"form-label"},rP=["disabled"],sP={for:"feedback_before"},aP=["placeholder","disabled"],lP=["disabled"],uP={for:"feedback_inbetween"},cP=["placeholder","disabled"],dP=["disabled"],fP={for:"feedback_after"},pP=["placeholder","disabled"],hP=nt({__name:"feedbackNode",props:{data:{type:Object,required:!0},learningpath:{type:Object,required:!0},visibility:{type:Boolean,required:!0}},emits:["updateFeedback"],setup(e,{expose:t,emit:n}){const o=We(),i=e;Le(()=>i.visibility,()=>{d("before",!0),d("inbetween",!0),d("after",!0)},{deep:!0});const s=X([]),a=n,{findNode:u}=lt();Ke(async()=>{s.value=JSON.parse(JSON.stringify(i.data)),s.value.feedback_before_checkmark&&d("before",!0),s.value.feedback_after_checkmark&&d("after",!1),s.value.feedback_inbetween_checkmark&&d("inbetween",!1)});const c=()=>{s.value.visibility=!s.value.visibility},f=$e(()=>({backgroundColor:i.data.color,filter:"invert(100%)",width:"10px",height:"10px"})),d=(p,g)=>{let v=!1,w=3;switch(p){case"before":v=s.value.feedback_before_checkmark;break;case"after":v=s.value.feedback_after_checkmark;break;case"inbetween":v=s.value.feedback_inbetween_checkmark;break}let y="",x="";const S=u(s.value.childCondition);let R=null;for(S.data.visibility&&(y+=S.data["description_"+p]),x+=S.data.information,S.childCondition&&(typeof S.childCondition=="string"&&(S.childCondition=[S.childCondition]),S.childCondition.forEach(I=>{I.includes("feedback")||(R=I)})),S&&(w=S.data.priority);R;)R=u(R),R&&R.data.visibility&&(w>R.data.priority&&(w=R.data.priority),y!=""&&(y+=o.state.strings.course_condition_concatination_and),x!=""&&(x+=o.state.strings.course_condition_concatination_and),y+=R.data["description_"+p],x+=R.data.information),R&&R.childCondition?(R.childCondition=typeof R.childCondition=="string"?[R.childCondition]:R.childCondition,R.childCondition.forEach(I=>{I.includes("feedback")||(R=I)})):R=null;s.value.information=x,v&&(s.value["feedback_"+p]=y,s.value.feedback_priority=w),g&&a("updateFeedback",s.value)};return t({renderFeedback:d}),(p,g)=>(O(),D("div",{class:Be([{visibility:s.value.visibility},"custom-node rounded p-3 has-text"]),style:{width:"350px","min-height":"200px"}},[m("button",{style:{position:"absolute",top:"5px",left:"5px",background:"none",border:"none","z-index":"100"},onClick:c},[m("i",{class:Be(["fa",{"fa-eye":s.value.visibility,"fa-eye-slash":!s.value.visibility,strikethrough:!s.value.visibility}])},null,2)]),m("div",QA,[m("div",eP,[m("div",tP,[m("div",nP,[m("div",oP,[m("div",null,[m("label",iP,[m("h5",null,H(b(o).state.strings.nodes_feedback),1)])]),m("div",null,H(b(o).state.strings.nodes_feedback_before),1),Ye(m("input",{id:"feedback_before","onUpdate:modelValue":g[0]||(g[0]=v=>s.value.feedback_before_checkmark=v),class:"form-check-input",type:"checkbox",disabled:!s.value.visibility,onChange:g[1]||(g[1]=v=>d("before",!0))},null,40,rP),[[is,s.value.feedback_before_checkmark]]),m("label",sP,H(b(o).state.strings.nodes_feedback_use_default),1),Ye(m("textarea",{id:"exampleFormControlTextarea1","onUpdate:modelValue":g[2]||(g[2]=v=>s.value.feedback_before=v),class:"form-control",style:{resize:"none"},placeholder:b(o).state.strings.nodes_no_feedback,rows:"5",disabled:s.value.feedback_before_checkmark||!s.value.visibility,onChange:g[3]||(g[3]=v=>a("updateFeedback",s.value))},null,40,aP),[[Mt,s.value.feedback_before]]),m("div",null,H(b(o).state.strings.nodes_feedback_inbetween),1),Ye(m("input",{id:"feedback_inbetween","onUpdate:modelValue":g[4]||(g[4]=v=>s.value.feedback_inbetween_checkmark=v),class:"form-check-input",type:"checkbox",disabled:!s.value.visibility,onChange:g[5]||(g[5]=v=>d("inbetween",!0))},null,40,lP),[[is,s.value.feedback_inbetween_checkmark]]),m("label",uP,H(b(o).state.strings.nodes_feedback_use_default),1),Ye(m("textarea",{id:"exampleFormControlTextarea1","onUpdate:modelValue":g[6]||(g[6]=v=>s.value.feedback_inbetween=v),class:"form-control",style:{resize:"none"},placeholder:b(o).state.strings.nodes_no_feedback,rows:"5",disabled:s.value.feedback_inbetween_checkmark||!s.value.visibility,onChange:g[7]||(g[7]=v=>a("updateFeedback",s.value))},null,40,cP),[[Mt,s.value.feedback_inbetween]]),m("div",null,H(b(o).state.strings.nodes_feedback_after),1),Ye(m("input",{id:"feedback_after","onUpdate:modelValue":g[8]||(g[8]=v=>s.value.feedback_after_checkmark=v),class:"form-check-input",type:"checkbox",disabled:!s.value.visibility,onChange:g[9]||(g[9]=v=>d("after",!0))},null,40,dP),[[is,s.value.feedback_after_checkmark]]),m("label",fP,H(b(o).state.strings.nodes_feedback_use_default),1),Ye(m("textarea",{id:"exampleFormControlTextarea1","onUpdate:modelValue":g[10]||(g[10]=v=>s.value.feedback_after=v),class:"form-control",style:{resize:"none"},placeholder:b(o).state.strings.nodes_no_feedback,rows:"5",disabled:s.value.feedback_after_checkmark||!s.value.visibility,onChange:g[11]||(g[11]=v=>a("updateFeedback",s.value))},null,40,pP),[[Mt,s.value.feedback_after]])])])])])]),pe(b(Pt),{id:"source_feedback",type:"source",position:b(Re).Bottom,style:Me(f.value)},null,8,["position","style"])],2))}},[["__scopeId","data-v-46a57eaa"]]),gP={id:"feedbackModal",class:"modal fade",tabindex:"-1","aria-labelledby":"feedbackModalLabel","aria-hidden":"true"},vP={class:"modal-dialog modal-lg",role:"document"},mP={class:"modal-content"},_P={class:"modal-header bg-primary text-white"},yP={id:"exampleModalLabel",class:"modal-title"},bP={class:"modal-body"},wP={class:"form-group"},EP=["innerHTML"],xP={class:"modal-footer"},$P={type:"button",class:"btn btn-secondary","data-dismiss":"modal"},NP={__name:"FeedbackModal",props:{learningpath:{type:Object,default:()=>({})}},setup(e){const t=We(),n=X(null),o=$e(()=>t.state.feedback?t.state.feedback.feedback:""),i=X({}),s=e,a=()=>{const f=u(o.value.innerHTML);i.value.json&&(i.value.json.tree.nodes.forEach(d=>{d.id==t.state.node.node_id&&d.completion.nodes.forEach(p=>{p.type=="feedback"&&p.data.childCondition==t.state.feedback.childCondition&&(p.data.feedback=f)})}),t.dispatch("saveLearningpath",i.value),t.state.feedback=null)},u=f=>(f=f.replace(/(id|style)="[^"]*"\s*/g,""),f.replace(/(<span\s*\/?>|<\/span>)/gi,"")),c=()=>{o.value.style.height="auto",o.value.style.height=`${o.value.scrollHeight}px`};return Ke(()=>{i.value=s.learningpath}),(f,d)=>(O(),D("div",null,[m("div",gP,[m("div",vP,[m("div",mP,[m("div",_P,[m("h5",yP,H(b(t).state.strings.modals_edit_feedback),1),d[1]||(d[1]=m("button",{type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},[m("span",{"aria-hidden":"true"},"")],-1))]),m("div",bP,[m("div",wP,[m("div",{id:"feedbackContent",ref_key:"feedbackContent",ref:o,contenteditable:"true",class:"form-control mt-2 p-2 border",onInput:d[0]||(d[0]=(...p)=>f.handleInput&&f.handleInput(...p)),onKeyup:c,innerHTML:n.value},null,40,EP)])]),m("div",xP,[m("button",$P,H(b(t).state.strings.modals_close),1),m("button",{type:"button",class:"btn btn-primary",onClick:a},H(b(t).state.strings.modals_save_changes),1)])])])])]))}},CP={class:"card-body"},kP={class:"card-title"},SP={class:"list-group list-group-flush"},OP={class:"list-group-item"},TP={key:1,class:"list-group-item"},Y0={__name:"childNodes",props:{childNodes:{type:Array,default:null}},setup(e){const t=We(),n=e;return(o,i)=>(O(),D("div",CP,[m("h5",kP,[i[0]||(i[0]=m("i",{class:"fa fa-arrow-circle-down"},null,-1)),Ue(" "+H(b(t).state.strings.charthelper_child_nodes),1)]),m("ul",SP,[n.childNodes.length>0?(O(!0),D(Fe,{key:0},ct(n.childNodes,s=>(O(),D("div",{key:s.data.fullname},[m("li",OP,H(s.data.fullname),1)]))),128)):(O(),D("li",TP,H(b(t).state.strings.charthelper_no_child_nodes),1))])]))}},IP={class:"card-body"},DP={class:"card-title"},MP={class:"list-group list-group-flush"},AP={class:"list-group-item"},PP={key:1,class:"list-group-item"},K0={__name:"parentNodes",props:{parentNodes:{type:Array,default:null}},setup(e){const t=We(),n=e;return(o,i)=>(O(),D("div",IP,[m("h5",DP,[i[0]||(i[0]=m("i",{class:"fa fa-arrow-circle-up"},null,-1)),Ue(" "+H(b(t).state.strings.charthelper_parent_nodes),1)]),m("ul",MP,[n.parentNodes.length>0?(O(!0),D(Fe,{key:0},ct(n.parentNodes,s=>(O(),D("div",{key:s.data.fullname},[m("li",AP,H(s.data.fullname),1)]))),128)):(O(),D("li",PP,H(b(t).state.strings.charthelper_no_parent_nodes),1))])]))}},Nr=[.2,.25,.35,.55,.85,1.15,1.5],La=async(e,t,n)=>{try{let o=parseFloat(t.zoom.toFixed(2)),i=Nr.findIndex(s=>o<s);return i===-1&&(i=Nr.length),e==="in"?i<Nr.length?o=Nr[i]:o=Nr[i-1]:e==="out"&&(i>1?o=Nr[i-2]:o=Nr[0]),n(o,{duration:500}),o}catch(o){console.error("Error during zoom operation:",o)}},RP=["disabled"],VP={key:0,class:"cancelConfi"},LP={class:"card"},zP={class:"card-body"},BP={class:"card-title"},FP={class:"list-group list-group-flush"},HP={class:"list-group-item"},UP={class:"list-group-item"},jP={key:0},GP={class:"d-flex justify-content-center"},WP={key:1},qP=nt({__name:"CompletionFlow",props:{learningpath:{type:Object,default:null}},setup(e){const{nodes:t,edges:n,addNodes:o,project:i,vueFlowRef:s,onConnect:a,addEdges:u,findNode:c,toObject:f,fitView:d,viewport:p,zoomTo:g}=lt({nodes:[]}),v=We(),w=X({}),y=X(!1),x=X(!1),S=X(null),R=X(!1),I=e,L=X(!1);function U(){L.value=!L.value}const V=ae=>{ae.target.closest(".vue-flow__pane")&&(ae.preventDefault(),ae.stopPropagation())},G=()=>{const ae=f();w.value.json.tree.nodes.forEach(me=>{v.state.node&&me.id===v.state.node.node_id&&(me.completion==null&&ae.nodes.length==0&&J(!1),me.completion&&JSON.stringify(ae.nodes)==JSON.stringify(me.completion.nodes)?J(!1):y.value=!y.value)})},q=ae=>{let me=c(ae.childCondition+"_feedback");me.data=ae},T=ae=>{let me=c(ae.node_id);x.value=!x.value,me&&(me.data.visibility=ae.visibility)},W=ae=>{let me=c(ae.nodeid);me.data.value=ae.values,me.data.value=="newinformation"&&S.value&&S.value.renderFeedback("before",!0)},J=ae=>{ae&&G(),v.state.editingadding=!v.state.editingadding,v.state.editingrestriction=!v.state.editingrestriction},B=X(null),Z=X(null),N=X([]),Q=X([]),j=v.state.strings.DARK_ORANGE;Ke(async()=>{document.addEventListener("dragover",Y),w.value=I.learningpath;try{B.value=await v.dispatch("fetchCompletions")}catch(ae){console.error("Error fetching completions:",ae)}w.value.json&&w.value.json.tree&&w.value.json.tree.nodes&&w.value.json.tree.nodes.forEach(ae=>{ae.childCourse&&ae.childCourse.includes(v.state.node.node_id)?N.value.push(ae):ae.parentCourse&&ae.parentCourse.includes(v.state.node.node_id)&&Q.value.push(ae)}),setTimeout(()=>{St().then(()=>{d({duration:1e3}).then(()=>{R.value=!0,Le(()=>p.value.zoom,(ae,me)=>{const Ne=Math.abs(ae-me);ae&&me&&R.value&&Ne>5e-4&&(R.value=!1,ae>me?La("in",p.value,g):La("out",p.value,g),setTimeout(()=>{R.value=!0},500))},{deep:!0})})})},300)});const ne=X({x:0,y:0});function Y(ae){ne.value={x:ae.clientX,y:ae.clientY}}Xo(()=>{document.removeEventListener("dragover",Y)});function fe({intersecting:ae}){Z.value=ae}function oe(ae){ae.preventDefault(),ae.dataTransfer&&(ae.dataTransfer.dropEffect="move")}function te(ae){if(x.value=!x.value,t.value.length==0||Z.value){const me=ae.dataTransfer?.getData("application/vueflow"),Ne=JSON.parse(ae.dataTransfer?.getData("application/data")),{left:re,top:ye}=s.value.getBoundingClientRect();Ne.visibility=!0;let ve="starting_condition",Te=ae.clientX,we=ae.clientY;Te==0&&we==0&&(Te=ne.value.x,we=ne.value.y);let Ce=i({x:Te-re,y:we-ye});const k=bp("condition_",t.value);if(Ne.node_id=k,Z.value)if(Ce.x=Z.value.dropzone.position.x,Ce.y=Z.value.dropzone.position.y,Z.value.dropzone.id=="source_and"){ve=Z.value.closestnode.id;let C=c(ve);C&&(C.childCondition=k)}else ve="starting_condition";const E={id:k,type:me,position:{x:Ce.x,y:Ce.y},label:`${me} node`,data:Ne,draggable:!1,deletable:!1,parentCondition:ve,childCondition:""};if(o([E]),t.value.length==1&&ge(E),Z.value){let C={type:"disjunctional",text:v.state.strings.completion_edge_or},F="target_or";Z.value.dropzone.id=="source_and"?(F="target_and",C={type:"additional",text:v.state.strings.completion_edge_and}):ge(E);const A={id:Z.value.closestnode.id+"-"+E.id,source:Z.value.closestnode.id,sourceHandle:Z.value.dropzone.id,target:E.id,targetHandle:F,type:"condition",data:C,draggable:!1,deletable:!1};u([A])}}else Qt({title:v.state.strings.completion_node_refused_title,text:v.state.strings.completion_node_refused_text,type:"warn"})}function ge(ae){const me={id:ae.id+"_feedback",type:"feedback",position:{x:ae.position.x,y:ae.position.y-695},label:v.state.strings.completion_feedback_node,data:{visibility:!0,feedback_before:"",feedback_after:"",feedback_inbetween:"",feedback_before_checkmark:!0,feedback_after_checkmark:!0,feedback_inbetween_checkmark:!0,childCondition:ae.id},draggable:!1,deletable:!1},Ne={id:ae.id+"-"+me.id,source:ae.id,sourceHandle:"target_and",target:me.id,targetHandle:"source_feedback",draggable:!1,deletable:!1};o([me]),u([Ne])}function Ee(ae){ae.type="custom",u(ae)}return a(Ee),(ae,me)=>(O(),D("div",null,[m("button",{class:"btn btn-outline-primary",disabled:y.value,onClick:G},[me[1]||(me[1]=m("i",{class:"fa fa-arrow-left"},null,-1)),Ue(" "+H(b(v).state.strings.completion_go_back_learningpath),1)],8,RP),y.value?(O(),D("div",VP,[Ue(H(b(v).state.strings.flowchart_cancel_confirmation)+" ",1),m("button",{id:"cancel-learning-path",class:"btn btn-primary m-2",onClick:G},H(b(v).state.strings.flowchart_back_button),1),m("button",{id:"confim-cancel-learning-path",class:"btn btn-warning m-2",onClick:me[0]||(me[0]=Ne=>J(!0))},H(b(v).state.strings.flowchart_cancel_button),1)])):_e("",!0),m("h3",null,H(b(v).state.strings.completion_edit_completion),1),m("div",LP,[m("div",zP,[m("h5",BP,[me[2]||(me[2]=m("i",{class:"fa fa-check-circle"},null,-1)),Ue(" "+H(b(v).state.strings.completion_completion_for),1)]),m("ul",FP,[m("li",HP,[m("i",{class:Be(b(v).state.version?"fa fa-header":"fa fa-font")},null,2),Ue(" "+H(b(v).state.strings.completion_course_title)+" "+H(b(v).state.node.fullname),1)]),m("li",UP,[me[3]||(me[3]=m("i",{class:"fa fa-tag"},null,-1)),Ue(" "+H(b(v).state.strings.completion_course_tags)+" "+H(b(v).state.node.tags),1)])]),B.value!==null?(O(),D("div",jP,[pe(K0,{"parent-nodes":N.value},null,8,["parent-nodes"]),m("div",{class:"dndflowcompletion",onDrop:te,onWheel:V},[pe(NP,{learningpath:w.value},null,8,["learningpath"]),pe(b(ms),{class:Be(["completions",{dark:L.value}]),"default-viewport":{zoom:1,x:0,y:0},"fit-view-on-init":!0,"max-zoom":1.55,"min-zoom":.15,"zoom-on-scroll":R.value,onDragover:oe},{"node-custom":Qe(({data:Ne})=>[pe(W0,{data:Ne,type:"completion",learningpath:I.learningpath,onUpdateVisibility:T,onUpdateValues:W},null,8,["data","learningpath"])]),"node-dropzone":Qe(({data:Ne})=>[pe(yp,{editorview:!0,data:Ne},null,8,["data"])]),"node-feedback":Qe(({data:Ne})=>[pe(hP,{data:Ne,learningpath:w.value,visibility:x.value,onUpdateFeedback:q,ref_key:"feedbackcomponent",ref:S},null,8,["data","learningpath","visibility"])]),"edge-condition":Qe(Ne=>[pe(q0,dd(Zd(Ne)),null,16)]),default:Qe(()=>[pe(b(Ku),{"pattern-color":L.value?"#FFFFFB":"#aaa",gap:"8"},null,8,["pattern-color"])]),_:1},8,["class","zoom-on-scroll"]),pe(L0,{conditions:B.value,strings:b(v).state.strings,nodes:b(t),edges:b(n),type:"Completion",style:Me({backgroundColor:b(j)}),onNodesIntersected:fe},null,8,["conditions","strings","nodes","edges","style"])],32),pe(Y0,{"child-nodes":Q.value},null,8,["child-nodes"]),m("div",GP,[pe(U0,{condition:"completion",learningpath:w.value,onChangeClass:U},null,8,["learningpath"])])])):(O(),D("div",WP,H(b(v).state.strings.completion_loading_completion),1))])])]))}},[["__scopeId","data-v-16705834"]]),YP={class:"text-center"},KP={class:"container"},XP={class:"row justify-content-center"},ZP={class:"col-md-12"},JP={class:"mb-3"},QP={for:"exampleFormControlTextarea1",class:"form-label"},eR=["disabled"],tR={for:"feedback_before"},nR=["placeholder","disabled"],oR=nt({__name:"feedbackNodeRestriction",props:{data:{type:Object,required:!0},learningpath:{type:Object,required:!0},visibility:{type:Boolean,required:!0}},emits:["updateFeedback"],setup(e,{emit:t}){const n=We(),o=e;Le(()=>o.visibility,()=>{f("before")},{deep:!0});const i=X([]),s=t,{findNode:a}=lt();Ke(async()=>{i.value=JSON.parse(JSON.stringify(o.data)),i.value.feedback_before_checkmark&&f("before")});const u=()=>{i.value.visibility=!i.value.visibility},c=$e(()=>({backgroundColor:o.data.color,filter:"invert(100%)",width:"10px",height:"10px"})),f=(d,p)=>{const g=i.value.feedback_before_checkmark;let v="",w="";const y=a(i.value.childCondition);let x=null;for(y.data.visibility&&g&&(v+=y.data["description_"+d]),w+=y.data.information,y.childCondition&&(typeof y.childCondition=="string"&&(y.childCondition=[y.childCondition]),y.childCondition.forEach(S=>{S.includes("feedback")||(x=S)}));x;)x=a(x),x&&(x.data.visibility&&(v!=""&&(v+=n.state.strings.course_condition_concatination_and),v+=x.data["description_"+d]),w!=""&&(w+=n.state.strings.course_condition_concatination_and),w+=x.data.information),x&&x.childCondition?(x.childCondition=typeof x.childCondition=="string"?[x.childCondition]:x.childCondition,x.childCondition.forEach(S=>{S.includes("feedback")||(x=S)})):x=null;i.value["feedback_"+d]=v,i.value.information=w,s("updateFeedback",i.value)};return(d,p)=>(O(),D("div",{class:Be([{visibility:i.value.visibility},"custom-node rounded p-3 has-text"]),style:{width:"350px","min-height":"200px"}},[m("button",{style:{position:"absolute",top:"5px",left:"5px",background:"none",border:"none","z-index":"100"},onClick:u},[m("i",{class:Be(["fa",{"fa-eye":i.value.visibility,"fa-eye-slash":!i.value.visibility,strikethrough:!i.value.visibility}])},null,2)]),m("div",YP,[m("div",KP,[m("div",XP,[m("div",ZP,[m("div",JP,[m("div",null,[m("label",QP,[m("h5",null,H(b(n).state.strings.nodes_feedback),1)])]),Ye(m("input",{id:"feedback_before","onUpdate:modelValue":p[0]||(p[0]=g=>i.value.feedback_before_checkmark=g),class:"form-check-input",type:"checkbox",disabled:!i.value.visibility,onChange:p[1]||(p[1]=g=>f("before"))},null,40,eR),[[is,i.value.feedback_before_checkmark]]),m("label",tR,H(b(n).state.strings.nodes_feedback_use_default),1),Ye(m("textarea",{id:"exampleFormControlTextarea1","onUpdate:modelValue":p[2]||(p[2]=g=>i.value.feedback_before=g),class:"form-control",style:{resize:"none"},placeholder:b(n).state.strings.nodes_no_feedback,rows:"5",disabled:i.value.feedback_before_checkmark||!i.value.visibility,onChange:p[3]||(p[3]=g=>s("updateFeedback",i.value))},null,40,nR),[[Mt,i.value.feedback_before]])])])])])]),pe(b(Pt),{id:"source_feedback",type:"source",position:b(Re).Bottom,style:Me(c.value)},null,8,["position","style"])],2))}},[["__scopeId","data-v-0125b20c"]]),iR=["disabled"],rR={key:0,class:"cancelConfi"},sR={class:"card"},aR={class:"card-body"},lR={class:"card-title"},uR={class:"list-group list-group-flush"},cR={class:"list-group-item"},dR={class:"list-group-item"},fR={key:0},pR={class:"d-flex justify-content-center"},hR={key:1},gR=nt({__name:"RestrictionFlow",props:{learningpath:{type:Object,default:null}},setup(e){const{nodes:t,edges:n,addNodes:o,project:i,vueFlowRef:s,addEdges:a,findNode:u,toObject:c,fitView:f,viewport:d,zoomTo:p}=lt({nodes:[]}),g=We(),v=X({}),w=X(!1),y=X(!1),x=e,S=X(!1);function R(){S.value=!S.value}const I=te=>{te.target.closest(".vue-flow__pane")&&(te.preventDefault(),te.stopPropagation())},L=X(null),U=X(!1),V=X(null),G=X([]),q=X([]),T=g.state.strings.LIGHT_STEEL_BLUE;Ke(async()=>{document.addEventListener("dragover",Y),v.value=x.learningpath;try{L.value=await g.dispatch("fetchRestrictions")}catch(te){console.error("Error fetching conditions:",te)}v.value.json&&v.value.json.tree&&v.value.json.tree.nodes&&g.state.node&&v.value.json.tree.nodes.forEach(te=>{te.childCourse&&te.childCourse.includes(g.state.node.node_id)?G.value.push(te):te.parentCourse&&te.parentCourse.includes(g.state.node.node_id)&&q.value.push(te)}),setTimeout(()=>{St().then(()=>{f({duration:1e3}).then(()=>{y.value=!0,Le(()=>d.value.zoom,(te,ge)=>{const Ee=Math.abs(te-ge);te&&ge&&y.value&&Ee>5e-4&&(y.value=!1,te>ge?La("in",d.value,p):La("out",d.value,p),setTimeout(()=>{y.value=!0},500))},{deep:!0})})})},300)});const W=te=>{let ge=u(te.nodeid);ge.data.value=te.values},J=()=>{const te=c();v.value.json.tree.nodes.forEach(ge=>{g.state.node&&ge.id===g.state.node.node_id&&(ge.restriction==null&&te.nodes.length==0&&B(!1),ge.restriction&&JSON.stringify(te.nodes)==JSON.stringify(ge.restriction.nodes)?B(!1):w.value=!w.value)})},B=te=>{te&&J(),g.state.editingadding=!g.state.editingadding,g.state.editingrestriction=!g.state.editingrestriction};function Z(te){te.preventDefault(),te.dataTransfer&&(te.dataTransfer.dropEffect="move")}function N({intersecting:te}){V.value=te}const Q=te=>{let ge=u(te.node_id);U.value=!U.value,ge&&(ge.data.visibility=te.visibility)},j=te=>{let ge=u(te.childCondition+"_feedback");ge.data=te},ne=X({x:0,y:0});function Y(te){ne.value={x:te.clientX,y:te.clientY}}Xo(()=>{document.removeEventListener("dragover",Y)});function fe(te){if(U.value=!U.value,t.value.length==0||V.value){const ge=te.dataTransfer?.getData("application/vueflow"),Ee=JSON.parse(te.dataTransfer?.getData("application/data")),{left:ae,top:me}=s.value.getBoundingClientRect();Ee.visibility=!0;let Ne="starting_condition",re=te.clientX,ye=te.clientY;re==0&&ye==0&&(re=ne.value.x,ye=ne.value.y);let ve=i({x:re-ae,y:ye-me});const Te=bp("condition_",t.value);if(Ee.node_id=Te,V.value)if(ve.x=V.value.dropzone.position.x,ve.y=V.value.dropzone.position.y,V.value.dropzone.id=="source_and"){Ne=V.value.closestnode.id;let Ce=u(Ne);Ce&&(Ce.childCondition=Te)}else Ne="starting_condition";const we={id:Te,type:ge,position:{x:ve.x,y:ve.y},label:`${ge} node`,data:Ee,draggable:!1,deletable:!1,parentCondition:Ne,childCondition:""};if(o([we]),t.value.length==1&&oe(we),V.value){let Ce={type:"disjunctional",text:g.state.strings.completion_edge_or},k="target_or";V.value.dropzone.id=="source_and"?(k="target_and",Ce={type:"additional",text:g.state.strings.completion_edge_and}):oe(we);const E={id:V.value.closestnode.id+"-"+we.id,source:V.value.closestnode.id,sourceHandle:V.value.dropzone.id,target:we.id,targetHandle:k,type:"condition",data:Ce,draggable:!1,deletable:!1};a([E])}}else Qt({title:g.state.strings.restriction_node_drop_refused_title,text:g.state.strings.restriction_node_drop_refused_text,type:"warn"})}function oe(te){const ge={id:te.id+"_feedback",type:"feedback",position:{x:te.position.x,y:te.position.y-345},label:g.state.strings.completion_feedback_node,data:{visibility:!0,feedback_before:"",feedback_before_checkmark:!0,childCondition:te.id},draggable:!1,deletable:!1},Ee={id:te.id+"-"+ge.id,source:te.id,sourceHandle:"target_and",target:ge.id,targetHandle:"source_feedback",draggable:!1,deletable:!1};o([ge]),a([Ee])}return(te,ge)=>(O(),D("div",null,[m("button",{class:"btn btn-outline-primary",disabled:w.value,onClick:J},[ge[1]||(ge[1]=m("i",{class:"fa fa-arrow-left"},null,-1)),Ue(" "+H(b(g).state.strings.restriction_go_back_learningpath),1)],8,iR),w.value?(O(),D("div",rR,[Ue(H(b(g).state.strings.flowchart_cancel_confirmation)+" ",1),m("button",{id:"cancel-learning-path",class:"btn btn-primary m-2",onClick:J},H(b(g).state.strings.flowchart_back_button),1),m("button",{id:"confim-cancel-learning-path",class:"btn btn-warning m-2",onClick:ge[0]||(ge[0]=Ee=>B(!0))},H(b(g).state.strings.flowchart_cancel_button),1)])):_e("",!0),m("h3",null,H(b(g).state.strings.restriction_edit_restrictions),1),m("div",sR,[m("div",aR,[m("h5",lR,[ge[2]||(ge[2]=m("i",{class:"fa fa-check-circle"},null,-1)),Ue(" "+H(b(g).state.strings.restriction_restrictions_for),1)]),m("ul",uR,[m("li",cR,[m("i",{class:Be(b(g).state.version?"fa fa-header":"fa fa-font")},null,2),Ue(" "+H(b(g).state.strings.restriction_course_title)+" "+H(b(g).state.node.fullname),1)]),m("li",dR,[ge[3]||(ge[3]=m("i",{class:"fa fa-tag"},null,-1)),Ue(" "+H(b(g).state.strings.restriction_tags)+" "+H(b(g).state.node.tags),1)])]),L.value!==null?(O(),D("div",fR,[pe(K0,{"parent-nodes":G.value},null,8,["parent-nodes"]),m("div",{class:"dndflowcompletion",onDrop:fe,onWheel:I},[pe(b(ms),{class:Be(["completions",{dark:S.value}]),"default-viewport":{zoom:1,x:0,y:0},"fit-view-on-init":!0,"max-zoom":1.55,"min-zoom":.15,"zoom-on-scroll":y.value,onDragover:Z},{"node-custom":Qe(({data:Ee})=>[pe(W0,{data:Ee,type:"Restriction",learningpath:v.value,onUpdateVisibility:Q,onUpdateValues:W},null,8,["data","learningpath"])]),"node-dropzone":Qe(({data:Ee})=>[pe(yp,{data:Ee,editorview:!0},null,8,["data"])]),"edge-condition":Qe(Ee=>[pe(q0,dd(Zd(Ee)),null,16)]),"node-feedback":Qe(({data:Ee})=>[pe(oR,{data:Ee,learningpath:v.value,visibility:U.value,onUpdateFeedback:j},null,8,["data","learningpath","visibility"])]),default:Qe(()=>[pe(b(Ku),{"pattern-color":S.value?"#FFFFFB":"#aaa",gap:"8"},null,8,["pattern-color"])]),_:1},8,["class","zoom-on-scroll"]),pe(L0,{conditions:L.value,strings:b(g).state.strings,nodes:b(t),edges:b(n),type:"restriction",style:Me({backgroundColor:b(T)}),onNodesIntersected:N},null,8,["conditions","strings","nodes","edges","style"])],32),pe(Y0,{"child-nodes":q.value},null,8,["child-nodes"]),m("div",pR,[pe(U0,{condition:"restriction",learningpath:v.value,onChangeClass:R},null,8,["learningpath"])])])):(O(),D("div",hR,H(b(g).state.strings.restriction_loading_restrictions),1))])])]))}},[["__scopeId","data-v-31174aab"]]),vR=async(e,t)=>{const n={parent:{name:t.state.strings.composables_drop_zone_parent,positionY:-250,positionX:0,type:"dropzone"},child:{name:t.state.strings.composables_drop_zone_child,positionY:50+e.dimensions.height,positionX:0,type:"dropzone"},and:{name:t.state.strings.composables_drop_zone_add,positionY:200,positionX:450,type:"conditionaldropzone"},or:{name:t.state.strings.composables_drop_zone_or,positionY:300,positionX:-350,type:"conditionaldropzone"}},o=e.position.x,i=e.position.y,s=_R(e),a="0.6",u="grey",c="200px",f={nodes:[],edges:[]};return await Promise.all(Object.keys(n).map(async d=>{const p=n[d],g=d==="and"||d==="or",v={x:g?o+p.positionX:mR(e,d),y:g?s:i+p.positionY},w={id:`dropzone_${d}`,type:p.type,position:v,label:"default node",data:{opacity:a,bgcolor:u,height:c,infotext:p.name,width:p.width},style:{zIndex:1e3}};if(f.nodes.push(w),!g){const y={id:`${e.id}-${d}`,source:e.id,sourceHandle:d==="child"?"source":"target",target:w.id,targetHandle:d==="child"?"target_and":"source_and",type:"default"};f.edges.push(y)}})),f},mR=(e,t)=>{let n=e.childCourse;return t=="parent"&&(n=e.parentCourse),n!=null&&(n.length==0||n.indexOf("starting_node")!=-1)?e.position.x:e.position.x+500},_R=e=>e.computedPosition.y+e.dimensions.height/2-100,yR=(e,t,n,o,i,s)=>(e?(n={closestnode:o,dropzone:t},t.data={...t.data,opacity:"0.75",bgcolor:"chartreuse",infotext:s.state.strings.completion_drop_here}):(t.data={...t.data,opacity:"0.6",bgcolor:"grey",infotext:s.state.strings.composables_new_node},t.id=="dropzone_parent"?t.data.infotext=s.state.strings.composables_drop_zone_parent:t.id=="dropzone_child"?t.data.infotext=s.state.strings.composables_drop_zone_child:t.id=="dropzone_and"?t.data.infotext=s.state.strings.composables_drop_zone_add:t.id=="dropzone_or"?t.data.infotext=s.state.strings.composables_drop_zone_or:i=!0),{node:t,insideStartingNode:i,intersectingNode:n}),bR={class:"mt-4"},wR={class:"row"},ER={class:"col-md-12"},xR={for:"title",class:"form-label"},$R={class:"row mt-2"},NR={class:"col-md-12"},CR={for:"color",class:"form-label"},kR={class:"mt-2 d-flex justify-content-between"},SR={key:0},OR=["data"],TR={class:"d-flex align-items-center justify-content-between"},IR={class:"ml-2"},DR=["onClick"],MR=["title"],AR={key:0,class:"col-12 text-center mt-2"},PR={class:"col-md-12"},RR={for:"canceltitle",class:"form-label"},VR={class:"row mt-2"},LR={class:"col-md-12"},zR={for:"color",class:"form-label"},BR={class:"row mt-2"},FR={class:"col-12"},HR=["onClick"],UR=["onClick"],jR=nt({__name:"LearningModule",props:{learningmodule:{type:Object,required:!0},strings:{type:Object,required:!0}},emits:["changedModule"],setup(e,{emit:t}){const n=e,o=X([]),i=X([]),s=X(!1),a=X(""),u=X("#000000"),c=n.strings.LIGHT_SEA_GREEN,f=X(!1),d=n.strings.PUMPKIN,p=n.strings.CRIMSON,g=X("null"),v=X(""),w=X(""),y=We(),x=t;Ke(()=>{S()}),Le(()=>n.learningmodule,async()=>{S()},{deep:!0});const S=()=>{i.value=n.learningmodule,n.learningmodule.json!=""&&n.learningmodule.json.modules?o.value=n.learningmodule.json.modules:o.value=[]},R=()=>{s.value=!s.value,f.value=!1,a.value="",u.value="#000000"},I=()=>{if(a.value=="")f.value=!0;else{let J={id:0,name:a.value,color:u.value};if(i.value.json.modules&&i.value.json.modules.length>0){let B=i.value.json.modules[i.value.json.modules.length-1];J.id=B.id+1,i.value.json.modules.push(J)}else i.value.json==""?i.value.json={modules:[J]}:i.value.json.modules=[J];i.value.id!=0?o.value=i.value.json.modules:y.state.modules=i.value.json.modules,x("changedModule",i.value),R()}},L=J=>{W(i.value.json.modules,J),x("changedModule",i.value),V(0)},U=J=>{g.value==J.id?(g.value="null",V(0,J)):(g.value=J.id,V(1,J))},V=(J,B)=>{J?(v.value=B.name,w.value=B.color):(v.value="",w.value="",g.value="null")},G=()=>{V(0)},q=J=>{T(i.value.json.modules,J),x("changedModule",i.value),V(0)};function T(J,B){for(var Z=0;Z<J.length;Z++)if(J[Z].id===B){J.splice(Z,1);break}}function W(J,B){for(var Z=0;Z<J.length;Z++)if(J[Z].id===B){J[Z].name=v.value,J[Z].color=w.value;break}}return(J,B)=>(O(),D("div",bR,[m("button",{type:"button",class:"btn btn-secondary",onClick:R},H(b(y).state.strings.flowchart_add_learning),1),pe(Ci,{name:"fade"},{default:Qe(()=>[s.value?(O(),D("div",{key:0,class:"mt-2 addForm",style:Me({backgroundColor:b(c)})},[m("div",wR,[m("div",ER,[m("label",xR,H(b(y).state.strings.flowchart_title),1),Ye(m("input",{type:"text",id:"title","onUpdate:modelValue":B[0]||(B[0]=Z=>a.value=Z),class:"form-control"},null,512),[[Mt,a.value]]),f.value?(O(),D("div",{key:0,class:"titleValidation",style:Me({backgroundColor:b(d),color:b(p)})},H(b(y).state.strings.flowchart_please_provide),5)):_e("",!0)])]),m("div",$R,[m("div",NR,[m("label",CR,H(b(y).state.strings.flowchart_color),1),Ye(m("input",{type:"color",id:"color","onUpdate:modelValue":B[1]||(B[1]=Z=>u.value=Z),class:"form-control",list:"presetColors"},null,512),[[Mt,u.value]])])]),m("div",kR,[m("button",{type:"button",class:"btn btn-secondary me-2",onClick:R},H(b(y).state.strings.cancel),1),m("button",{type:"button",class:"btn btn-primary",onClick:I},H(b(y).state.strings.flowchart_add),1)])],4)):_e("",!0)]),_:1}),o.value.length>0?(O(),D("div",SR,[Ue(H(b(y).state.strings.flowchart_existing_learning_modules)+" ",1),(O(!0),D(Fe,null,ct(o.value,Z=>(O(),D("div",{key:Z.id,class:"vue-flow__node-input mt-1 row align-items-center justify-content-between",draggable:!1,data:Z,style:{width:"95%","padding-left":"1rem","margin-left":"0.025rem"}},[m("div",TR,[m("span",{class:"color-circle",style:Me({backgroundColor:Z.color})},null,4),m("span",IR,H(Z.name),1)]),m("a",{href:"",onClick:Xe(N=>U(Z),["prevent"])},[m("i",{class:"icon fa fa-pencil fa-fw iconsmall m-r-0",title:b(y).state.strings.edit},null,8,MR)],8,DR),pe(Ci,{name:"fade"},{default:Qe(()=>[g.value==Z.id?(O(),D("div",AR,[m("div",PR,[m("label",RR,H(b(y).state.strings.flowchart_title),1),Ye(m("input",{type:"text",id:"canceltitle","onUpdate:modelValue":B[2]||(B[2]=N=>v.value=N),class:"form-control"},null,512),[[Mt,v.value]]),f.value?(O(),D("div",{key:0,class:"titleValidation",style:Me({backgroundColor:b(d),color:b(p)})},H(b(y).state.strings.flowchart_provide_name),5)):_e("",!0)]),m("div",VR,[m("div",LR,[m("label",zR,H(b(y).state.strings.flowchart_color),1),Ye(m("input",{type:"color",id:"color","onUpdate:modelValue":B[3]||(B[3]=N=>w.value=N),class:"form-control",list:"presetColors"},null,512),[[Mt,w.value]])])]),m("div",BR,[m("div",FR,[m("button",{type:"button",class:"btn btn-secondary mr-2",onClick:B[4]||(B[4]=N=>G())},H(b(y).state.strings.flowchart_cancel_button),1),m("button",{type:"button",class:"btn btn-primary mr-2",onClick:N=>L(Z.id)},H(b(y).state.strings.flowchart_save_button),9,HR),m("button",{type:"button",class:"btn btn-danger",onClick:N=>q(Z.id)},H(b(y).state.strings.flowchart_delete_button),9,UR)])])])):_e("",!0)]),_:2},1024)],8,OR))),128))])):_e("",!0)]))}},[["__scopeId","data-v-12a1c9ea"]]),GR={class:"col-md-2",style:{"max-width":"20% !important"}},WR={class:"nav nav-tabs"},qR={class:"nav-item"},YR={class:"nav-item"},KR={key:0},XR={class:"col long-text",type:"text"},ZR={class:"col long-text",type:"text"},JR={class:"row ml-2 long-text",type:"text"},QR=["placeholder"],e5={class:"learning-path-nodes-container"},t5={class:"nodes"},n5=["data","onDragstart"],o5=["title"],i5=["href"],r5={key:1},s5=nt({__name:"SidebarPath",props:{learningmodule:{type:Object,required:!0},courses:{type:Array,required:!0},strings:{type:Object,required:!0}},emits:["nodesIntersected","changedModule"],setup(e,{emit:t}){const n=We(),{project:o,vueFlowRef:i,findNode:s,nodes:a,addNodes:u,removeNodes:c,addEdges:f}=lt(),d=X(""),p=X(""),g=t;function v(oe,te){let ge=0;return function(...Ee){const ae=new Date().getTime();if(!(ae-ge<te))return ge=ae,oe(...Ee)}}const w=v(oe=>{q(oe)},100),y=X(null),x=X({}),S=X(null),R=X(0),I=e,L=I.strings.LIGHT_GRAY,U=I.strings.LIGHT_SEA_GREEN;function V(oe,te){oe.dataTransfer&&(oe.dataTransfer.setData("application/vueflow","custom"),oe.dataTransfer.setData("application/data",JSON.stringify(te)),oe.dataTransfer.effectAllowed="move")}const G=$e(()=>I.courses?d.value.toLowerCase().startsWith("#")?I.courses.filter(oe=>oe.tags.toLowerCase().includes(d.value.toLowerCase().slice(1))):I.courses.filter(oe=>oe.fullname.toLowerCase().includes(d.value.toLowerCase())):[]);async function q(oe){const te=s("starting_node");s("dropzone_parent")==null?x.value=ne(oe):T(oe,x.value)||(p.value=null,x.value=null);let Ee=W(oe,te);if(x.value&&Ee){if(B()){p.value=x.value;const ae=await vR(x.value,n);u(ae.nodes),f(ae.edges)}W(oe,x.value)}else p.value=null,c(["dropzone_parent","dropzone_child","dropzone_and","dropzone_or"]);x.value!==S.value&&(B()||J())&&(p.value=null,c(["dropzone_parent","dropzone_child","dropzone_and","dropzone_or"]),S.value=x.value)}function T(oe,te){if(te){const{left:ge,top:Ee}=i.value.getBoundingClientRect();let ae=oe.clientX,me=oe.clientY;ae==0&&me==0&&(ae=Q.value.x,me=Q.value.y);const Ne=o({x:ae-ge,y:me-Ee}),re={x:te.position.x+te.dimensions.width/2,y:te.position.y+te.dimensions.height/2};if(Math.sqrt(Math.pow(Ne.x-re.x,2)+Math.pow(Ne.y-re.y,2))<550)return!0}return!1}function W(oe,te){let ge=!1,Ee=oe.clientX,ae=oe.clientY;return Ee==0&&ae==0&&(Ee=Q.value.x,ae=Q.value.y),y.value=null,a.value.forEach(me=>{if(me.type=="dropzone"||me.type=="conditionaldropzone"){const{left:Ne,top:re}=i.value.getBoundingClientRect(),ye=o({x:Ee-Ne,y:ae-re}),ve=N(ye,me),Te=yR(ve,me,y.value,te,ge,n);me=Te.node,y.value=Te.intersectingNode,ge=Te.insideStartingNode}}),g("nodesIntersected",{intersecting:y.value}),ge}function J(){if(p.value!=null){const{left:oe,top:te}=i.value.getBoundingClientRect();let ge=event.clientX,Ee=event.clientY;ge==0&&Ee==0&&(ge=Q.value.x,Ee=Q.value.y);const ae=o({x:ge-oe,y:Ee-te}),me={x:p.value.position.x+p.value.dimensions.width/2,y:p.value.position.y+p.value.dimensions.height/2};if(Math.sqrt(Math.pow(ae.x-me.x,2)+Math.pow(ae.y-me.y,2))>500)return!0}return!1}function B(){return!s("dropzone_or")}function Z(oe){g("changedModule",oe)}function N(oe,te){return oe.x<te.position.x+te.dimensions.width&&oe.x>te.position.x&&oe.y<te.position.y+te.dimensions.height&&oe.y>te.position.y}const Q=X({x:0,y:0});function j(oe){Q.value={x:oe.clientX,y:oe.clientY}}Ke(()=>{document.addEventListener("dragover",j)}),Xo(()=>{document.removeEventListener("dragover",j)});function ne(oe){const{left:ge,top:Ee}=i.value.getBoundingClientRect();let ae=oe.clientX,me=oe.clientY;ae==0&&me==0&&(ae=Q.value.x,me=Q.value.y);const Ne=o({x:ae-ge,y:me-Ee});let re=null,ye=1/0;return a.value.forEach(ve=>{if(ve.type!="dropzone"&&ve.type!="conditionaldropzone"){const Te={x:ve.position.x+ve.dimensions.width/2,y:ve.position.y+ve.dimensions.height/2},we=Math.sqrt(Math.pow(Ne.x-Te.x,2)+Math.pow(Ne.y-Te.y,2));we<ye&&we<550&&Math.abs(Ne.y-Te.y)<360&&(ye=we,re=ve)}}),re}function Y(){c(["dropzone_parent","dropzone_child","dropzone_and","dropzone_or"])}function fe(oe){R.value=oe}return(oe,te)=>(O(),D("aside",GR,[m("div",WR,[m("div",qR,[m("a",{class:Be(["nav-link",{active:R.value===0}]),style:Me({backgroundColor:R.value===0?b(U):b(L)}),onClick:te[0]||(te[0]=ge=>fe(0))},H(b(n).state.strings.flowchart_courses),7)]),m("div",YR,[m("a",{class:Be(["nav-link",{active:R.value===1}]),style:Me({backgroundColor:R.value===1?b(U):b(L)}),onClick:te[1]||(te[1]=ge=>fe(1))},H(b(n).state.strings.flowchart_learning_package),7)])]),R.value?(O(),D("div",r5,[pe(jR,{learningmodule:e.learningmodule,strings:e.strings,onChangedModule:te[5]||(te[5]=ge=>Z(ge,oe.learningpath))},null,8,["learningmodule","strings"])])):(O(),D("div",KR,[m("div",XR,H(e.strings.fromavailablecourses),1),m("div",ZR,H(e.strings.tagsearch_description),1),m("div",JR,[Ye(m("input",{id:"searchTerm","onUpdate:modelValue":te[2]||(te[2]=ge=>d.value=ge),class:"form-control",placeholder:e.strings.placeholder_search},null,8,QR),[[Mt,d.value]])]),m("div",e5,[m("div",t5,[(O(!0),D(Fe,null,ct(G.value,ge=>(O(),D("div",{key:ge.id,class:"vue-flow__node-input mt-1 row align-items-center justify-content-center",draggable:!0,data:ge,style:{width:"100%",padding:"0rem","margin-left":"0.025rem",height:"3rem"},onDragstart:Ee=>V(Ee,ge),onDrag:te[3]||(te[3]=Ee=>b(w)(Ee)),onDragend:te[4]||(te[4]=Ee=>Y())},[m("div",{class:"col long-text",style:{"padding-left":"2rem"},title:ge.fullname},[Ue(H(b(Yn)(ge.fullname,32))+" ",1),m("a",{href:b(n).state.wwwroot+"/course/view.php?id="+ge.course_node_id[0],style:{position:"relative","padding-left":"0.25rem"},target:"_blank"},[...te[6]||(te[6]=[m("i",{class:"fa fa-link"},null,-1)])],8,i5)],8,o5)],40,n5))),128))])])]))]))}},[["__scopeId","data-v-a34b68f2"]]);let ai={id:"starting_node",type:"dropzone",position:{x:0,y:0},label:"DZ node",data:{opacity:"0.6",bgcolor:"grey",height:"200px",width:"400px"},draggable:!0,deletable:!1,parentCourse:""};const za=(e,t,n,o,i,s,a,u=!1)=>{s.state.view!="teacher"&&t(()=>{let c=0,f=!1;o.forEach(d=>{d.parentCourse=="starting_node"&&d.position.x>=c&&(c=d.position.x,u&&d.dimensions&&(c+=d.dimensions.width/2),f=!0),d.id=="starting_node"&&(ai.position.y=d.position.y)}),f&&(ai.position.x=c+i),ai.data.infotext=s.state.strings.composables_new_node,a("starting_node",{deletable:!0}),e(["starting_node"]),o.forEach(d=>{for(;a5(ai,d);)ai.position.x+=150}),ai.position={x:Math.round(ai.position.x/150)*150,y:Math.round(ai.position.y/150)*150},t(()=>{n([ai])})})},a5=(e,t)=>{const n=e.position.x-200,o=e.position.x+200,i=e.position.y+100,s=e.position.y-100,a=t.position.x-(t.dimensions?.width??0)/2,u=t.position.x+(t.dimensions?.width??0)/2,c=t.position.y+(t.dimensions?.height??0)/2,f=t.position.y-(t.dimensions?.height??0)/2;return(n>=a&&n<=u||o<=u&&o>=a)&&(i<=c&&i>=f||s>=f&&s<=c)},wp=(e,t)=>{if(t==null)return e.nodes=e.nodes.filter(n=>!n.type.includes("module")),e;if(e){const n=e.nodes.filter(o=>o.type.includes("module"));n.length>0&&t(n)}return 1},Xu=(e,t)=>{let n=.2,o=l5(e);return o.r=Math.floor(o.r*n+128*t),o.g=Math.floor(o.g*n+128*t),o.b=Math.floor(o.b*n+128*t),u5(o.r,o.g,o.b)},l5=e=>{let t=parseInt(e.slice(1),16),n=t>>16&255,o=t>>8&255,i=t&255;return{r:n,g:o,b:i}},u5=(e,t,n)=>"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1).toUpperCase(),_s=async(e,t,n,o,i=null,s=null)=>{if(e.json.modules){await wp(e.json.tree,n);let a=[],u=!1;e.json.modules.forEach(async c=>{let f={type:"module",position:{},label:"module node",draggable:!1,selectable:!1,data:c},d=!1,p=null,g=null;f.id=c.id+"_module";let v=!1;if(e.json.tree.nodes.forEach(w=>{if(w.data.module==f.data.id&&s!=w.id){if(w.data.completion)if(u=!0,w.data.completion.singlerestrictionnode.length==0)v=!0;else for(let y in w.data.completion.singlerestrictionnode)w.data.completion.singlerestrictionnode[y]&&(v=!0);d=!0,i&&i.id==w.id&&(w.position=i.position),(f.position.x==null||f.position.x>w.position.x)&&(f.position.x=w.position.x),(p==null||p.position.x<w.position.x)&&(p=w),(f.position.y==null||f.position.y>w.position.y)&&(f.position.y=w.position.y),(g==null||g.position.y<w.position.y)&&(g=w)}}),d){if(p&&g){u&&!v?(f.data.color_inactive=Xu(f.data.color,.5),f.data.opacity="0.6",f.zIndex=1):(f.data.opacity="0.2",f.zIndex=-10);const w=o(g.id);if(w){let y=0;w.dimensions&&(y=w.dimensions.height);const x=Math.abs(f.position.y-g.position.y)+y+80,S=Math.abs(f.position.x-p.position.x)+500;f.data.height=x+"px",f.data.width=S+"px",f.position.y-=40,f.position.x-=50}}a.push(f)}else n([c.id+"_module"])}),t(a)}};var Ba={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var c5=Ba.exports,X0;function d5(){return X0||(X0=1,(function(e,t){(function(){var n,o="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",p=1,g=2,v=4,w=1,y=2,x=1,S=2,R=4,I=8,L=16,U=32,V=64,G=128,q=256,T=512,W=30,J="...",B=800,Z=16,N=1,Q=2,j=3,ne=1/0,Y=9007199254740991,fe=17976931348623157e292,oe=NaN,te=4294967295,ge=te-1,Ee=te>>>1,ae=[["ary",G],["bind",x],["bindKey",S],["curry",I],["curryRight",L],["flip",T],["partial",U],["partialRight",V],["rearg",q]],me="[object Arguments]",Ne="[object Array]",re="[object AsyncFunction]",ye="[object Boolean]",ve="[object Date]",Te="[object DOMException]",we="[object Error]",Ce="[object Function]",k="[object GeneratorFunction]",E="[object Map]",C="[object Number]",F="[object Null]",A="[object Object]",ee="[object Promise]",ce="[object Proxy]",he="[object RegExp]",se="[object Set]",de="[object String]",De="[object Symbol]",Se="[object Undefined]",Pe="[object WeakMap]",qe="[object WeakSet]",ot="[object ArrayBuffer]",vt="[object DataView]",_t="[object Float32Array]",sn="[object Float64Array]",an="[object Int8Array]",On="[object Int16Array]",Tn="[object Int32Array]",di="[object Uint8Array]",Es="[object Uint8ClampedArray]",tn="[object Uint16Array]",In="[object Uint32Array]",mc=/\b__p \+= '';/g,_c=/\b(__p \+=) '' \+/g,DH=/(__e\(.*?\)|\b__t\)) \+\n'';/g,db=/&(?:amp|lt|gt|quot|#39);/g,fb=/[&<>"']/g,MH=RegExp(db.source),AH=RegExp(fb.source),PH=/<%-([\s\S]+?)%>/g,RH=/<%([\s\S]+?)%>/g,pb=/<%=([\s\S]+?)%>/g,VH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LH=/^\w*$/,zH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qp=/[\\^$.*+?()[\]{}|]/g,BH=RegExp(qp.source),Yp=/^\s+/,FH=/\s/,HH=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,UH=/\{\n\/\* \[wrapped with (.+)\] \*/,jH=/,? & /,GH=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,WH=/[()=,{}\[\]\/\s]/,qH=/\\(\\)?/g,YH=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hb=/\w*$/,KH=/^[-+]0x[0-9a-f]+$/i,XH=/^0b[01]+$/i,ZH=/^\[object .+?Constructor\]$/,JH=/^0o[0-7]+$/i,QH=/^(?:0|[1-9]\d*)$/,e7=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yc=/($^)/,t7=/['\n\r\u2028\u2029\\]/g,bc="\\ud800-\\udfff",n7="\\u0300-\\u036f",o7="\\ufe20-\\ufe2f",i7="\\u20d0-\\u20ff",gb=n7+o7+i7,vb="\\u2700-\\u27bf",mb="a-z\\xdf-\\xf6\\xf8-\\xff",r7="\\xac\\xb1\\xd7\\xf7",s7="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",a7="\\u2000-\\u206f",l7=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_b="A-Z\\xc0-\\xd6\\xd8-\\xde",yb="\\ufe0e\\ufe0f",bb=r7+s7+a7+l7,Kp="[']",u7="["+bc+"]",wb="["+bb+"]",wc="["+gb+"]",Eb="\\d+",c7="["+vb+"]",xb="["+mb+"]",$b="[^"+bc+bb+Eb+vb+mb+_b+"]",Xp="\\ud83c[\\udffb-\\udfff]",d7="(?:"+wc+"|"+Xp+")",Nb="[^"+bc+"]",Zp="(?:\\ud83c[\\udde6-\\uddff]){2}",Jp="[\\ud800-\\udbff][\\udc00-\\udfff]",xs="["+_b+"]",Cb="\\u200d",kb="(?:"+xb+"|"+$b+")",f7="(?:"+xs+"|"+$b+")",Sb="(?:"+Kp+"(?:d|ll|m|re|s|t|ve))?",Ob="(?:"+Kp+"(?:D|LL|M|RE|S|T|VE))?",Tb=d7+"?",Ib="["+yb+"]?",p7="(?:"+Cb+"(?:"+[Nb,Zp,Jp].join("|")+")"+Ib+Tb+")*",h7="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",g7="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Db=Ib+Tb+p7,v7="(?:"+[c7,Zp,Jp].join("|")+")"+Db,m7="(?:"+[Nb+wc+"?",wc,Zp,Jp,u7].join("|")+")",_7=RegExp(Kp,"g"),y7=RegExp(wc,"g"),Qp=RegExp(Xp+"(?="+Xp+")|"+m7+Db,"g"),b7=RegExp([xs+"?"+xb+"+"+Sb+"(?="+[wb,xs,"$"].join("|")+")",f7+"+"+Ob+"(?="+[wb,xs+kb,"$"].join("|")+")",xs+"?"+kb+"+"+Sb,xs+"+"+Ob,g7,h7,Eb,v7].join("|"),"g"),w7=RegExp("["+Cb+bc+gb+yb+"]"),E7=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,x7=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$7=-1,zt={};zt[_t]=zt[sn]=zt[an]=zt[On]=zt[Tn]=zt[di]=zt[Es]=zt[tn]=zt[In]=!0,zt[me]=zt[Ne]=zt[ot]=zt[ye]=zt[vt]=zt[ve]=zt[we]=zt[Ce]=zt[E]=zt[C]=zt[A]=zt[he]=zt[se]=zt[de]=zt[Pe]=!1;var Rt={};Rt[me]=Rt[Ne]=Rt[ot]=Rt[vt]=Rt[ye]=Rt[ve]=Rt[_t]=Rt[sn]=Rt[an]=Rt[On]=Rt[Tn]=Rt[E]=Rt[C]=Rt[A]=Rt[he]=Rt[se]=Rt[de]=Rt[De]=Rt[di]=Rt[Es]=Rt[tn]=Rt[In]=!0,Rt[we]=Rt[Ce]=Rt[Pe]=!1;var N7={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},C7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},k7={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},S7={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},O7=parseFloat,T7=parseInt,Mb=typeof ou=="object"&&ou&&ou.Object===Object&&ou,I7=typeof self=="object"&&self&&self.Object===Object&&self,cn=Mb||I7||Function("return this")(),eh=t&&!t.nodeType&&t,Or=eh&&!0&&e&&!e.nodeType&&e,Ab=Or&&Or.exports===eh,th=Ab&&Mb.process,Kn=(function(){try{var le=Or&&Or.require&&Or.require("util").types;return le||th&&th.binding&&th.binding("util")}catch{}})(),Pb=Kn&&Kn.isArrayBuffer,Rb=Kn&&Kn.isDate,Vb=Kn&&Kn.isMap,Lb=Kn&&Kn.isRegExp,zb=Kn&&Kn.isSet,Bb=Kn&&Kn.isTypedArray;function Bn(le,xe,be){switch(be.length){case 0:return le.call(xe);case 1:return le.call(xe,be[0]);case 2:return le.call(xe,be[0],be[1]);case 3:return le.call(xe,be[0],be[1],be[2])}return le.apply(xe,be)}function D7(le,xe,be,He){for(var it=-1,Nt=le==null?0:le.length;++it<Nt;){var nn=le[it];xe(He,nn,be(nn),le)}return He}function Xn(le,xe){for(var be=-1,He=le==null?0:le.length;++be<He&&xe(le[be],be,le)!==!1;);return le}function M7(le,xe){for(var be=le==null?0:le.length;be--&&xe(le[be],be,le)!==!1;);return le}function Fb(le,xe){for(var be=-1,He=le==null?0:le.length;++be<He;)if(!xe(le[be],be,le))return!1;return!0}function Fi(le,xe){for(var be=-1,He=le==null?0:le.length,it=0,Nt=[];++be<He;){var nn=le[be];xe(nn,be,le)&&(Nt[it++]=nn)}return Nt}function Ec(le,xe){var be=le==null?0:le.length;return!!be&&$s(le,xe,0)>-1}function nh(le,xe,be){for(var He=-1,it=le==null?0:le.length;++He<it;)if(be(xe,le[He]))return!0;return!1}function Bt(le,xe){for(var be=-1,He=le==null?0:le.length,it=Array(He);++be<He;)it[be]=xe(le[be],be,le);return it}function Hi(le,xe){for(var be=-1,He=xe.length,it=le.length;++be<He;)le[it+be]=xe[be];return le}function oh(le,xe,be,He){var it=-1,Nt=le==null?0:le.length;for(He&&Nt&&(be=le[++it]);++it<Nt;)be=xe(be,le[it],it,le);return be}function A7(le,xe,be,He){var it=le==null?0:le.length;for(He&&it&&(be=le[--it]);it--;)be=xe(be,le[it],it,le);return be}function ih(le,xe){for(var be=-1,He=le==null?0:le.length;++be<He;)if(xe(le[be],be,le))return!0;return!1}var P7=rh("length");function R7(le){return le.split("")}function V7(le){return le.match(GH)||[]}function Hb(le,xe,be){var He;return be(le,function(it,Nt,nn){if(xe(it,Nt,nn))return He=Nt,!1}),He}function xc(le,xe,be,He){for(var it=le.length,Nt=be+(He?1:-1);He?Nt--:++Nt<it;)if(xe(le[Nt],Nt,le))return Nt;return-1}function $s(le,xe,be){return xe===xe?K7(le,xe,be):xc(le,Ub,be)}function L7(le,xe,be,He){for(var it=be-1,Nt=le.length;++it<Nt;)if(He(le[it],xe))return it;return-1}function Ub(le){return le!==le}function jb(le,xe){var be=le==null?0:le.length;return be?ah(le,xe)/be:oe}function rh(le){return function(xe){return xe==null?n:xe[le]}}function sh(le){return function(xe){return le==null?n:le[xe]}}function Gb(le,xe,be,He,it){return it(le,function(Nt,nn,At){be=He?(He=!1,Nt):xe(be,Nt,nn,At)}),be}function z7(le,xe){var be=le.length;for(le.sort(xe);be--;)le[be]=le[be].value;return le}function ah(le,xe){for(var be,He=-1,it=le.length;++He<it;){var Nt=xe(le[He]);Nt!==n&&(be=be===n?Nt:be+Nt)}return be}function lh(le,xe){for(var be=-1,He=Array(le);++be<le;)He[be]=xe(be);return He}function B7(le,xe){return Bt(xe,function(be){return[be,le[be]]})}function Wb(le){return le&&le.slice(0,Xb(le)+1).replace(Yp,"")}function Fn(le){return function(xe){return le(xe)}}function uh(le,xe){return Bt(xe,function(be){return le[be]})}function tl(le,xe){return le.has(xe)}function qb(le,xe){for(var be=-1,He=le.length;++be<He&&$s(xe,le[be],0)>-1;);return be}function Yb(le,xe){for(var be=le.length;be--&&$s(xe,le[be],0)>-1;);return be}function F7(le,xe){for(var be=le.length,He=0;be--;)le[be]===xe&&++He;return He}var H7=sh(N7),U7=sh(C7);function j7(le){return"\\"+S7[le]}function G7(le,xe){return le==null?n:le[xe]}function Ns(le){return w7.test(le)}function W7(le){return E7.test(le)}function q7(le){for(var xe,be=[];!(xe=le.next()).done;)be.push(xe.value);return be}function ch(le){var xe=-1,be=Array(le.size);return le.forEach(function(He,it){be[++xe]=[it,He]}),be}function Kb(le,xe){return function(be){return le(xe(be))}}function Ui(le,xe){for(var be=-1,He=le.length,it=0,Nt=[];++be<He;){var nn=le[be];(nn===xe||nn===d)&&(le[be]=d,Nt[it++]=be)}return Nt}function $c(le){var xe=-1,be=Array(le.size);return le.forEach(function(He){be[++xe]=He}),be}function Y7(le){var xe=-1,be=Array(le.size);return le.forEach(function(He){be[++xe]=[He,He]}),be}function K7(le,xe,be){for(var He=be-1,it=le.length;++He<it;)if(le[He]===xe)return He;return-1}function X7(le,xe,be){for(var He=be+1;He--;)if(le[He]===xe)return He;return He}function Cs(le){return Ns(le)?J7(le):P7(le)}function wo(le){return Ns(le)?Q7(le):R7(le)}function Xb(le){for(var xe=le.length;xe--&&FH.test(le.charAt(xe)););return xe}var Z7=sh(k7);function J7(le){for(var xe=Qp.lastIndex=0;Qp.test(le);)++xe;return xe}function Q7(le){return le.match(Qp)||[]}function eU(le){return le.match(b7)||[]}var tU=(function le(xe){xe=xe==null?cn:ks.defaults(cn.Object(),xe,ks.pick(cn,x7));var be=xe.Array,He=xe.Date,it=xe.Error,Nt=xe.Function,nn=xe.Math,At=xe.Object,dh=xe.RegExp,nU=xe.String,Zn=xe.TypeError,Nc=be.prototype,oU=Nt.prototype,Ss=At.prototype,Cc=xe["__core-js_shared__"],kc=oU.toString,Tt=Ss.hasOwnProperty,iU=0,Zb=(function(){var r=/[^.]+$/.exec(Cc&&Cc.keys&&Cc.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})(),Sc=Ss.toString,rU=kc.call(At),sU=cn._,aU=dh("^"+kc.call(Tt).replace(qp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oc=Ab?xe.Buffer:n,ji=xe.Symbol,Tc=xe.Uint8Array,Jb=Oc?Oc.allocUnsafe:n,Ic=Kb(At.getPrototypeOf,At),Qb=At.create,ew=Ss.propertyIsEnumerable,Dc=Nc.splice,tw=ji?ji.isConcatSpreadable:n,nl=ji?ji.iterator:n,Tr=ji?ji.toStringTag:n,Mc=(function(){try{var r=Pr(At,"defineProperty");return r({},"",{}),r}catch{}})(),lU=xe.clearTimeout!==cn.clearTimeout&&xe.clearTimeout,uU=He&&He.now!==cn.Date.now&&He.now,cU=xe.setTimeout!==cn.setTimeout&&xe.setTimeout,Ac=nn.ceil,Pc=nn.floor,fh=At.getOwnPropertySymbols,dU=Oc?Oc.isBuffer:n,nw=xe.isFinite,fU=Nc.join,pU=Kb(At.keys,At),on=nn.max,pn=nn.min,hU=He.now,gU=xe.parseInt,ow=nn.random,vU=Nc.reverse,ph=Pr(xe,"DataView"),ol=Pr(xe,"Map"),hh=Pr(xe,"Promise"),Os=Pr(xe,"Set"),il=Pr(xe,"WeakMap"),rl=Pr(At,"create"),Rc=il&&new il,Ts={},mU=Rr(ph),_U=Rr(ol),yU=Rr(hh),bU=Rr(Os),wU=Rr(il),Vc=ji?ji.prototype:n,sl=Vc?Vc.valueOf:n,iw=Vc?Vc.toString:n;function P(r){if(Ut(r)&&!st(r)&&!(r instanceof mt)){if(r instanceof Jn)return r;if(Tt.call(r,"__wrapped__"))return rE(r)}return new Jn(r)}var Is=(function(){function r(){}return function(l){if(!Ht(l))return{};if(Qb)return Qb(l);r.prototype=l;var h=new r;return r.prototype=n,h}})();function Lc(){}function Jn(r,l){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}P.templateSettings={escape:PH,evaluate:RH,interpolate:pb,variable:"",imports:{_:P}},P.prototype=Lc.prototype,P.prototype.constructor=P,Jn.prototype=Is(Lc.prototype),Jn.prototype.constructor=Jn;function mt(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function EU(){var r=new mt(this.__wrapped__);return r.__actions__=Dn(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Dn(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Dn(this.__views__),r}function xU(){if(this.__filtered__){var r=new mt(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function $U(){var r=this.__wrapped__.value(),l=this.__dir__,h=st(r),_=l<0,$=h?r.length:0,z=R9(0,$,this.__views__),K=z.start,ie=z.end,ue=ie-K,ke=_?ie:K-1,Oe=this.__iteratees__,Ie=Oe.length,Ve=0,Ge=pn(ue,this.__takeCount__);if(!h||!_&&$==ue&&Ge==ue)return Sw(r,this.__actions__);var et=[];e:for(;ue--&&Ve<Ge;){ke+=l;for(var ft=-1,tt=r[ke];++ft<Ie;){var ht=Oe[ft],yt=ht.iteratee,jn=ht.type,xn=yt(tt);if(jn==Q)tt=xn;else if(!xn){if(jn==N)continue e;break e}}et[Ve++]=tt}return et}mt.prototype=Is(Lc.prototype),mt.prototype.constructor=mt;function Ir(r){var l=-1,h=r==null?0:r.length;for(this.clear();++l<h;){var _=r[l];this.set(_[0],_[1])}}function NU(){this.__data__=rl?rl(null):{},this.size=0}function CU(r){var l=this.has(r)&&delete this.__data__[r];return this.size-=l?1:0,l}function kU(r){var l=this.__data__;if(rl){var h=l[r];return h===c?n:h}return Tt.call(l,r)?l[r]:n}function SU(r){var l=this.__data__;return rl?l[r]!==n:Tt.call(l,r)}function OU(r,l){var h=this.__data__;return this.size+=this.has(r)?0:1,h[r]=rl&&l===n?c:l,this}Ir.prototype.clear=NU,Ir.prototype.delete=CU,Ir.prototype.get=kU,Ir.prototype.has=SU,Ir.prototype.set=OU;function fi(r){var l=-1,h=r==null?0:r.length;for(this.clear();++l<h;){var _=r[l];this.set(_[0],_[1])}}function TU(){this.__data__=[],this.size=0}function IU(r){var l=this.__data__,h=zc(l,r);if(h<0)return!1;var _=l.length-1;return h==_?l.pop():Dc.call(l,h,1),--this.size,!0}function DU(r){var l=this.__data__,h=zc(l,r);return h<0?n:l[h][1]}function MU(r){return zc(this.__data__,r)>-1}function AU(r,l){var h=this.__data__,_=zc(h,r);return _<0?(++this.size,h.push([r,l])):h[_][1]=l,this}fi.prototype.clear=TU,fi.prototype.delete=IU,fi.prototype.get=DU,fi.prototype.has=MU,fi.prototype.set=AU;function pi(r){var l=-1,h=r==null?0:r.length;for(this.clear();++l<h;){var _=r[l];this.set(_[0],_[1])}}function PU(){this.size=0,this.__data__={hash:new Ir,map:new(ol||fi),string:new Ir}}function RU(r){var l=Zc(this,r).delete(r);return this.size-=l?1:0,l}function VU(r){return Zc(this,r).get(r)}function LU(r){return Zc(this,r).has(r)}function zU(r,l){var h=Zc(this,r),_=h.size;return h.set(r,l),this.size+=h.size==_?0:1,this}pi.prototype.clear=PU,pi.prototype.delete=RU,pi.prototype.get=VU,pi.prototype.has=LU,pi.prototype.set=zU;function Dr(r){var l=-1,h=r==null?0:r.length;for(this.__data__=new pi;++l<h;)this.add(r[l])}function BU(r){return this.__data__.set(r,c),this}function FU(r){return this.__data__.has(r)}Dr.prototype.add=Dr.prototype.push=BU,Dr.prototype.has=FU;function Eo(r){var l=this.__data__=new fi(r);this.size=l.size}function HU(){this.__data__=new fi,this.size=0}function UU(r){var l=this.__data__,h=l.delete(r);return this.size=l.size,h}function jU(r){return this.__data__.get(r)}function GU(r){return this.__data__.has(r)}function WU(r,l){var h=this.__data__;if(h instanceof fi){var _=h.__data__;if(!ol||_.length<i-1)return _.push([r,l]),this.size=++h.size,this;h=this.__data__=new pi(_)}return h.set(r,l),this.size=h.size,this}Eo.prototype.clear=HU,Eo.prototype.delete=UU,Eo.prototype.get=jU,Eo.prototype.has=GU,Eo.prototype.set=WU;function rw(r,l){var h=st(r),_=!h&&Vr(r),$=!h&&!_&&Ki(r),z=!h&&!_&&!$&&Ps(r),K=h||_||$||z,ie=K?lh(r.length,nU):[],ue=ie.length;for(var ke in r)(l||Tt.call(r,ke))&&!(K&&(ke=="length"||$&&(ke=="offset"||ke=="parent")||z&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||mi(ke,ue)))&&ie.push(ke);return ie}function sw(r){var l=r.length;return l?r[Nh(0,l-1)]:n}function qU(r,l){return Jc(Dn(r),Mr(l,0,r.length))}function YU(r){return Jc(Dn(r))}function gh(r,l,h){(h!==n&&!xo(r[l],h)||h===n&&!(l in r))&&hi(r,l,h)}function al(r,l,h){var _=r[l];(!(Tt.call(r,l)&&xo(_,h))||h===n&&!(l in r))&&hi(r,l,h)}function zc(r,l){for(var h=r.length;h--;)if(xo(r[h][0],l))return h;return-1}function KU(r,l,h,_){return Gi(r,function($,z,K){l(_,$,h($),K)}),_}function aw(r,l){return r&&Fo(l,ln(l),r)}function XU(r,l){return r&&Fo(l,An(l),r)}function hi(r,l,h){l=="__proto__"&&Mc?Mc(r,l,{configurable:!0,enumerable:!0,value:h,writable:!0}):r[l]=h}function vh(r,l){for(var h=-1,_=l.length,$=be(_),z=r==null;++h<_;)$[h]=z?n:Xh(r,l[h]);return $}function Mr(r,l,h){return r===r&&(h!==n&&(r=r<=h?r:h),l!==n&&(r=r>=l?r:l)),r}function Qn(r,l,h,_,$,z){var K,ie=l&p,ue=l&g,ke=l&v;if(h&&(K=$?h(r,_,$,z):h(r)),K!==n)return K;if(!Ht(r))return r;var Oe=st(r);if(Oe){if(K=L9(r),!ie)return Dn(r,K)}else{var Ie=hn(r),Ve=Ie==Ce||Ie==k;if(Ki(r))return Iw(r,ie);if(Ie==A||Ie==me||Ve&&!$){if(K=ue||Ve?{}:Xw(r),!ie)return ue?k9(r,XU(K,r)):C9(r,aw(K,r))}else{if(!Rt[Ie])return $?r:{};K=z9(r,Ie,ie)}}z||(z=new Eo);var Ge=z.get(r);if(Ge)return Ge;z.set(r,K),NE(r)?r.forEach(function(tt){K.add(Qn(tt,l,h,tt,r,z))}):xE(r)&&r.forEach(function(tt,ht){K.set(ht,Qn(tt,l,h,ht,r,z))});var et=ke?ue?Rh:Ph:ue?An:ln,ft=Oe?n:et(r);return Xn(ft||r,function(tt,ht){ft&&(ht=tt,tt=r[ht]),al(K,ht,Qn(tt,l,h,ht,r,z))}),K}function ZU(r){var l=ln(r);return function(h){return lw(h,r,l)}}function lw(r,l,h){var _=h.length;if(r==null)return!_;for(r=At(r);_--;){var $=h[_],z=l[$],K=r[$];if(K===n&&!($ in r)||!z(K))return!1}return!0}function uw(r,l,h){if(typeof r!="function")throw new Zn(a);return hl(function(){r.apply(n,h)},l)}function ll(r,l,h,_){var $=-1,z=Ec,K=!0,ie=r.length,ue=[],ke=l.length;if(!ie)return ue;h&&(l=Bt(l,Fn(h))),_?(z=nh,K=!1):l.length>=i&&(z=tl,K=!1,l=new Dr(l));e:for(;++$<ie;){var Oe=r[$],Ie=h==null?Oe:h(Oe);if(Oe=_||Oe!==0?Oe:0,K&&Ie===Ie){for(var Ve=ke;Ve--;)if(l[Ve]===Ie)continue e;ue.push(Oe)}else z(l,Ie,_)||ue.push(Oe)}return ue}var Gi=Rw(Bo),cw=Rw(_h,!0);function JU(r,l){var h=!0;return Gi(r,function(_,$,z){return h=!!l(_,$,z),h}),h}function Bc(r,l,h){for(var _=-1,$=r.length;++_<$;){var z=r[_],K=l(z);if(K!=null&&(ie===n?K===K&&!Un(K):h(K,ie)))var ie=K,ue=z}return ue}function QU(r,l,h,_){var $=r.length;for(h=ut(h),h<0&&(h=-h>$?0:$+h),_=_===n||_>$?$:ut(_),_<0&&(_+=$),_=h>_?0:kE(_);h<_;)r[h++]=l;return r}function dw(r,l){var h=[];return Gi(r,function(_,$,z){l(_,$,z)&&h.push(_)}),h}function dn(r,l,h,_,$){var z=-1,K=r.length;for(h||(h=F9),$||($=[]);++z<K;){var ie=r[z];l>0&&h(ie)?l>1?dn(ie,l-1,h,_,$):Hi($,ie):_||($[$.length]=ie)}return $}var mh=Vw(),fw=Vw(!0);function Bo(r,l){return r&&mh(r,l,ln)}function _h(r,l){return r&&fw(r,l,ln)}function Fc(r,l){return Fi(l,function(h){return _i(r[h])})}function Ar(r,l){l=qi(l,r);for(var h=0,_=l.length;r!=null&&h<_;)r=r[Ho(l[h++])];return h&&h==_?r:n}function pw(r,l,h){var _=l(r);return st(r)?_:Hi(_,h(r))}function wn(r){return r==null?r===n?Se:F:Tr&&Tr in At(r)?P9(r):Y9(r)}function yh(r,l){return r>l}function e9(r,l){return r!=null&&Tt.call(r,l)}function t9(r,l){return r!=null&&l in At(r)}function n9(r,l,h){return r>=pn(l,h)&&r<on(l,h)}function bh(r,l,h){for(var _=h?nh:Ec,$=r[0].length,z=r.length,K=z,ie=be(z),ue=1/0,ke=[];K--;){var Oe=r[K];K&&l&&(Oe=Bt(Oe,Fn(l))),ue=pn(Oe.length,ue),ie[K]=!h&&(l||$>=120&&Oe.length>=120)?new Dr(K&&Oe):n}Oe=r[0];var Ie=-1,Ve=ie[0];e:for(;++Ie<$&&ke.length<ue;){var Ge=Oe[Ie],et=l?l(Ge):Ge;if(Ge=h||Ge!==0?Ge:0,!(Ve?tl(Ve,et):_(ke,et,h))){for(K=z;--K;){var ft=ie[K];if(!(ft?tl(ft,et):_(r[K],et,h)))continue e}Ve&&Ve.push(et),ke.push(Ge)}}return ke}function o9(r,l,h,_){return Bo(r,function($,z,K){l(_,h($),z,K)}),_}function ul(r,l,h){l=qi(l,r),r=eE(r,l);var _=r==null?r:r[Ho(to(l))];return _==null?n:Bn(_,r,h)}function hw(r){return Ut(r)&&wn(r)==me}function i9(r){return Ut(r)&&wn(r)==ot}function r9(r){return Ut(r)&&wn(r)==ve}function cl(r,l,h,_,$){return r===l?!0:r==null||l==null||!Ut(r)&&!Ut(l)?r!==r&&l!==l:s9(r,l,h,_,cl,$)}function s9(r,l,h,_,$,z){var K=st(r),ie=st(l),ue=K?Ne:hn(r),ke=ie?Ne:hn(l);ue=ue==me?A:ue,ke=ke==me?A:ke;var Oe=ue==A,Ie=ke==A,Ve=ue==ke;if(Ve&&Ki(r)){if(!Ki(l))return!1;K=!0,Oe=!1}if(Ve&&!Oe)return z||(z=new Eo),K||Ps(r)?qw(r,l,h,_,$,z):M9(r,l,ue,h,_,$,z);if(!(h&w)){var Ge=Oe&&Tt.call(r,"__wrapped__"),et=Ie&&Tt.call(l,"__wrapped__");if(Ge||et){var ft=Ge?r.value():r,tt=et?l.value():l;return z||(z=new Eo),$(ft,tt,h,_,z)}}return Ve?(z||(z=new Eo),A9(r,l,h,_,$,z)):!1}function a9(r){return Ut(r)&&hn(r)==E}function wh(r,l,h,_){var $=h.length,z=$,K=!_;if(r==null)return!z;for(r=At(r);$--;){var ie=h[$];if(K&&ie[2]?ie[1]!==r[ie[0]]:!(ie[0]in r))return!1}for(;++$<z;){ie=h[$];var ue=ie[0],ke=r[ue],Oe=ie[1];if(K&&ie[2]){if(ke===n&&!(ue in r))return!1}else{var Ie=new Eo;if(_)var Ve=_(ke,Oe,ue,r,l,Ie);if(!(Ve===n?cl(Oe,ke,w|y,_,Ie):Ve))return!1}}return!0}function gw(r){if(!Ht(r)||U9(r))return!1;var l=_i(r)?aU:ZH;return l.test(Rr(r))}function l9(r){return Ut(r)&&wn(r)==he}function u9(r){return Ut(r)&&hn(r)==se}function c9(r){return Ut(r)&&id(r.length)&&!!zt[wn(r)]}function vw(r){return typeof r=="function"?r:r==null?Pn:typeof r=="object"?st(r)?yw(r[0],r[1]):_w(r):LE(r)}function Eh(r){if(!pl(r))return pU(r);var l=[];for(var h in At(r))Tt.call(r,h)&&h!="constructor"&&l.push(h);return l}function d9(r){if(!Ht(r))return q9(r);var l=pl(r),h=[];for(var _ in r)_=="constructor"&&(l||!Tt.call(r,_))||h.push(_);return h}function xh(r,l){return r<l}function mw(r,l){var h=-1,_=Mn(r)?be(r.length):[];return Gi(r,function($,z,K){_[++h]=l($,z,K)}),_}function _w(r){var l=Lh(r);return l.length==1&&l[0][2]?Jw(l[0][0],l[0][1]):function(h){return h===r||wh(h,r,l)}}function yw(r,l){return Bh(r)&&Zw(l)?Jw(Ho(r),l):function(h){var _=Xh(h,r);return _===n&&_===l?Zh(h,r):cl(l,_,w|y)}}function Hc(r,l,h,_,$){r!==l&&mh(l,function(z,K){if($||($=new Eo),Ht(z))f9(r,l,K,h,Hc,_,$);else{var ie=_?_(Hh(r,K),z,K+"",r,l,$):n;ie===n&&(ie=z),gh(r,K,ie)}},An)}function f9(r,l,h,_,$,z,K){var ie=Hh(r,h),ue=Hh(l,h),ke=K.get(ue);if(ke){gh(r,h,ke);return}var Oe=z?z(ie,ue,h+"",r,l,K):n,Ie=Oe===n;if(Ie){var Ve=st(ue),Ge=!Ve&&Ki(ue),et=!Ve&&!Ge&&Ps(ue);Oe=ue,Ve||Ge||et?st(ie)?Oe=ie:Gt(ie)?Oe=Dn(ie):Ge?(Ie=!1,Oe=Iw(ue,!0)):et?(Ie=!1,Oe=Dw(ue,!0)):Oe=[]:gl(ue)||Vr(ue)?(Oe=ie,Vr(ie)?Oe=SE(ie):(!Ht(ie)||_i(ie))&&(Oe=Xw(ue))):Ie=!1}Ie&&(K.set(ue,Oe),$(Oe,ue,_,z,K),K.delete(ue)),gh(r,h,Oe)}function bw(r,l){var h=r.length;if(h)return l+=l<0?h:0,mi(l,h)?r[l]:n}function ww(r,l,h){l.length?l=Bt(l,function(z){return st(z)?function(K){return Ar(K,z.length===1?z[0]:z)}:z}):l=[Pn];var _=-1;l=Bt(l,Fn(Je()));var $=mw(r,function(z,K,ie){var ue=Bt(l,function(ke){return ke(z)});return{criteria:ue,index:++_,value:z}});return z7($,function(z,K){return N9(z,K,h)})}function p9(r,l){return Ew(r,l,function(h,_){return Zh(r,_)})}function Ew(r,l,h){for(var _=-1,$=l.length,z={};++_<$;){var K=l[_],ie=Ar(r,K);h(ie,K)&&dl(z,qi(K,r),ie)}return z}function h9(r){return function(l){return Ar(l,r)}}function $h(r,l,h,_){var $=_?L7:$s,z=-1,K=l.length,ie=r;for(r===l&&(l=Dn(l)),h&&(ie=Bt(r,Fn(h)));++z<K;)for(var ue=0,ke=l[z],Oe=h?h(ke):ke;(ue=$(ie,Oe,ue,_))>-1;)ie!==r&&Dc.call(ie,ue,1),Dc.call(r,ue,1);return r}function xw(r,l){for(var h=r?l.length:0,_=h-1;h--;){var $=l[h];if(h==_||$!==z){var z=$;mi($)?Dc.call(r,$,1):Sh(r,$)}}return r}function Nh(r,l){return r+Pc(ow()*(l-r+1))}function g9(r,l,h,_){for(var $=-1,z=on(Ac((l-r)/(h||1)),0),K=be(z);z--;)K[_?z:++$]=r,r+=h;return K}function Ch(r,l){var h="";if(!r||l<1||l>Y)return h;do l%2&&(h+=r),l=Pc(l/2),l&&(r+=r);while(l);return h}function pt(r,l){return Uh(Qw(r,l,Pn),r+"")}function v9(r){return sw(Rs(r))}function m9(r,l){var h=Rs(r);return Jc(h,Mr(l,0,h.length))}function dl(r,l,h,_){if(!Ht(r))return r;l=qi(l,r);for(var $=-1,z=l.length,K=z-1,ie=r;ie!=null&&++$<z;){var ue=Ho(l[$]),ke=h;if(ue==="__proto__"||ue==="constructor"||ue==="prototype")return r;if($!=K){var Oe=ie[ue];ke=_?_(Oe,ue,ie):n,ke===n&&(ke=Ht(Oe)?Oe:mi(l[$+1])?[]:{})}al(ie,ue,ke),ie=ie[ue]}return r}var $w=Rc?function(r,l){return Rc.set(r,l),r}:Pn,_9=Mc?function(r,l){return Mc(r,"toString",{configurable:!0,enumerable:!1,value:Qh(l),writable:!0})}:Pn;function y9(r){return Jc(Rs(r))}function eo(r,l,h){var _=-1,$=r.length;l<0&&(l=-l>$?0:$+l),h=h>$?$:h,h<0&&(h+=$),$=l>h?0:h-l>>>0,l>>>=0;for(var z=be($);++_<$;)z[_]=r[_+l];return z}function b9(r,l){var h;return Gi(r,function(_,$,z){return h=l(_,$,z),!h}),!!h}function Uc(r,l,h){var _=0,$=r==null?_:r.length;if(typeof l=="number"&&l===l&&$<=Ee){for(;_<$;){var z=_+$>>>1,K=r[z];K!==null&&!Un(K)&&(h?K<=l:K<l)?_=z+1:$=z}return $}return kh(r,l,Pn,h)}function kh(r,l,h,_){var $=0,z=r==null?0:r.length;if(z===0)return 0;l=h(l);for(var K=l!==l,ie=l===null,ue=Un(l),ke=l===n;$<z;){var Oe=Pc(($+z)/2),Ie=h(r[Oe]),Ve=Ie!==n,Ge=Ie===null,et=Ie===Ie,ft=Un(Ie);if(K)var tt=_||et;else ke?tt=et&&(_||Ve):ie?tt=et&&Ve&&(_||!Ge):ue?tt=et&&Ve&&!Ge&&(_||!ft):Ge||ft?tt=!1:tt=_?Ie<=l:Ie<l;tt?$=Oe+1:z=Oe}return pn(z,ge)}function Nw(r,l){for(var h=-1,_=r.length,$=0,z=[];++h<_;){var K=r[h],ie=l?l(K):K;if(!h||!xo(ie,ue)){var ue=ie;z[$++]=K===0?0:K}}return z}function Cw(r){return typeof r=="number"?r:Un(r)?oe:+r}function Hn(r){if(typeof r=="string")return r;if(st(r))return Bt(r,Hn)+"";if(Un(r))return iw?iw.call(r):"";var l=r+"";return l=="0"&&1/r==-ne?"-0":l}function Wi(r,l,h){var _=-1,$=Ec,z=r.length,K=!0,ie=[],ue=ie;if(h)K=!1,$=nh;else if(z>=i){var ke=l?null:I9(r);if(ke)return $c(ke);K=!1,$=tl,ue=new Dr}else ue=l?[]:ie;e:for(;++_<z;){var Oe=r[_],Ie=l?l(Oe):Oe;if(Oe=h||Oe!==0?Oe:0,K&&Ie===Ie){for(var Ve=ue.length;Ve--;)if(ue[Ve]===Ie)continue e;l&&ue.push(Ie),ie.push(Oe)}else $(ue,Ie,h)||(ue!==ie&&ue.push(Ie),ie.push(Oe))}return ie}function Sh(r,l){return l=qi(l,r),r=eE(r,l),r==null||delete r[Ho(to(l))]}function kw(r,l,h,_){return dl(r,l,h(Ar(r,l)),_)}function jc(r,l,h,_){for(var $=r.length,z=_?$:-1;(_?z--:++z<$)&&l(r[z],z,r););return h?eo(r,_?0:z,_?z+1:$):eo(r,_?z+1:0,_?$:z)}function Sw(r,l){var h=r;return h instanceof mt&&(h=h.value()),oh(l,function(_,$){return $.func.apply($.thisArg,Hi([_],$.args))},h)}function Oh(r,l,h){var _=r.length;if(_<2)return _?Wi(r[0]):[];for(var $=-1,z=be(_);++$<_;)for(var K=r[$],ie=-1;++ie<_;)ie!=$&&(z[$]=ll(z[$]||K,r[ie],l,h));return Wi(dn(z,1),l,h)}function Ow(r,l,h){for(var _=-1,$=r.length,z=l.length,K={};++_<$;){var ie=_<z?l[_]:n;h(K,r[_],ie)}return K}function Th(r){return Gt(r)?r:[]}function Ih(r){return typeof r=="function"?r:Pn}function qi(r,l){return st(r)?r:Bh(r,l)?[r]:iE(Ot(r))}var w9=pt;function Yi(r,l,h){var _=r.length;return h=h===n?_:h,!l&&h>=_?r:eo(r,l,h)}var Tw=lU||function(r){return cn.clearTimeout(r)};function Iw(r,l){if(l)return r.slice();var h=r.length,_=Jb?Jb(h):new r.constructor(h);return r.copy(_),_}function Dh(r){var l=new r.constructor(r.byteLength);return new Tc(l).set(new Tc(r)),l}function E9(r,l){var h=l?Dh(r.buffer):r.buffer;return new r.constructor(h,r.byteOffset,r.byteLength)}function x9(r){var l=new r.constructor(r.source,hb.exec(r));return l.lastIndex=r.lastIndex,l}function $9(r){return sl?At(sl.call(r)):{}}function Dw(r,l){var h=l?Dh(r.buffer):r.buffer;return new r.constructor(h,r.byteOffset,r.length)}function Mw(r,l){if(r!==l){var h=r!==n,_=r===null,$=r===r,z=Un(r),K=l!==n,ie=l===null,ue=l===l,ke=Un(l);if(!ie&&!ke&&!z&&r>l||z&&K&&ue&&!ie&&!ke||_&&K&&ue||!h&&ue||!$)return 1;if(!_&&!z&&!ke&&r<l||ke&&h&&$&&!_&&!z||ie&&h&&$||!K&&$||!ue)return-1}return 0}function N9(r,l,h){for(var _=-1,$=r.criteria,z=l.criteria,K=$.length,ie=h.length;++_<K;){var ue=Mw($[_],z[_]);if(ue){if(_>=ie)return ue;var ke=h[_];return ue*(ke=="desc"?-1:1)}}return r.index-l.index}function Aw(r,l,h,_){for(var $=-1,z=r.length,K=h.length,ie=-1,ue=l.length,ke=on(z-K,0),Oe=be(ue+ke),Ie=!_;++ie<ue;)Oe[ie]=l[ie];for(;++$<K;)(Ie||$<z)&&(Oe[h[$]]=r[$]);for(;ke--;)Oe[ie++]=r[$++];return Oe}function Pw(r,l,h,_){for(var $=-1,z=r.length,K=-1,ie=h.length,ue=-1,ke=l.length,Oe=on(z-ie,0),Ie=be(Oe+ke),Ve=!_;++$<Oe;)Ie[$]=r[$];for(var Ge=$;++ue<ke;)Ie[Ge+ue]=l[ue];for(;++K<ie;)(Ve||$<z)&&(Ie[Ge+h[K]]=r[$++]);return Ie}function Dn(r,l){var h=-1,_=r.length;for(l||(l=be(_));++h<_;)l[h]=r[h];return l}function Fo(r,l,h,_){var $=!h;h||(h={});for(var z=-1,K=l.length;++z<K;){var ie=l[z],ue=_?_(h[ie],r[ie],ie,h,r):n;ue===n&&(ue=r[ie]),$?hi(h,ie,ue):al(h,ie,ue)}return h}function C9(r,l){return Fo(r,zh(r),l)}function k9(r,l){return Fo(r,Yw(r),l)}function Gc(r,l){return function(h,_){var $=st(h)?D7:KU,z=l?l():{};return $(h,r,Je(_,2),z)}}function Ds(r){return pt(function(l,h){var _=-1,$=h.length,z=$>1?h[$-1]:n,K=$>2?h[2]:n;for(z=r.length>3&&typeof z=="function"?($--,z):n,K&&En(h[0],h[1],K)&&(z=$<3?n:z,$=1),l=At(l);++_<$;){var ie=h[_];ie&&r(l,ie,_,z)}return l})}function Rw(r,l){return function(h,_){if(h==null)return h;if(!Mn(h))return r(h,_);for(var $=h.length,z=l?$:-1,K=At(h);(l?z--:++z<$)&&_(K[z],z,K)!==!1;);return h}}function Vw(r){return function(l,h,_){for(var $=-1,z=At(l),K=_(l),ie=K.length;ie--;){var ue=K[r?ie:++$];if(h(z[ue],ue,z)===!1)break}return l}}function S9(r,l,h){var _=l&x,$=fl(r);function z(){var K=this&&this!==cn&&this instanceof z?$:r;return K.apply(_?h:this,arguments)}return z}function Lw(r){return function(l){l=Ot(l);var h=Ns(l)?wo(l):n,_=h?h[0]:l.charAt(0),$=h?Yi(h,1).join(""):l.slice(1);return _[r]()+$}}function Ms(r){return function(l){return oh(RE(PE(l).replace(_7,"")),r,"")}}function fl(r){return function(){var l=arguments;switch(l.length){case 0:return new r;case 1:return new r(l[0]);case 2:return new r(l[0],l[1]);case 3:return new r(l[0],l[1],l[2]);case 4:return new r(l[0],l[1],l[2],l[3]);case 5:return new r(l[0],l[1],l[2],l[3],l[4]);case 6:return new r(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new r(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var h=Is(r.prototype),_=r.apply(h,l);return Ht(_)?_:h}}function O9(r,l,h){var _=fl(r);function $(){for(var z=arguments.length,K=be(z),ie=z,ue=As($);ie--;)K[ie]=arguments[ie];var ke=z<3&&K[0]!==ue&&K[z-1]!==ue?[]:Ui(K,ue);if(z-=ke.length,z<h)return Uw(r,l,Wc,$.placeholder,n,K,ke,n,n,h-z);var Oe=this&&this!==cn&&this instanceof $?_:r;return Bn(Oe,this,K)}return $}function zw(r){return function(l,h,_){var $=At(l);if(!Mn(l)){var z=Je(h,3);l=ln(l),h=function(ie){return z($[ie],ie,$)}}var K=r(l,h,_);return K>-1?$[z?l[K]:K]:n}}function Bw(r){return vi(function(l){var h=l.length,_=h,$=Jn.prototype.thru;for(r&&l.reverse();_--;){var z=l[_];if(typeof z!="function")throw new Zn(a);if($&&!K&&Xc(z)=="wrapper")var K=new Jn([],!0)}for(_=K?_:h;++_<h;){z=l[_];var ie=Xc(z),ue=ie=="wrapper"?Vh(z):n;ue&&Fh(ue[0])&&ue[1]==(G|I|U|q)&&!ue[4].length&&ue[9]==1?K=K[Xc(ue[0])].apply(K,ue[3]):K=z.length==1&&Fh(z)?K[ie]():K.thru(z)}return function(){var ke=arguments,Oe=ke[0];if(K&&ke.length==1&&st(Oe))return K.plant(Oe).value();for(var Ie=0,Ve=h?l[Ie].apply(this,ke):Oe;++Ie<h;)Ve=l[Ie].call(this,Ve);return Ve}})}function Wc(r,l,h,_,$,z,K,ie,ue,ke){var Oe=l&G,Ie=l&x,Ve=l&S,Ge=l&(I|L),et=l&T,ft=Ve?n:fl(r);function tt(){for(var ht=arguments.length,yt=be(ht),jn=ht;jn--;)yt[jn]=arguments[jn];if(Ge)var xn=As(tt),Gn=F7(yt,xn);if(_&&(yt=Aw(yt,_,$,Ge)),z&&(yt=Pw(yt,z,K,Ge)),ht-=Gn,Ge&&ht<ke){var Wt=Ui(yt,xn);return Uw(r,l,Wc,tt.placeholder,h,yt,Wt,ie,ue,ke-ht)}var $o=Ie?h:this,bi=Ve?$o[r]:r;return ht=yt.length,ie?yt=K9(yt,ie):et&&ht>1&&yt.reverse(),Oe&&ue<ht&&(yt.length=ue),this&&this!==cn&&this instanceof tt&&(bi=ft||fl(bi)),bi.apply($o,yt)}return tt}function Fw(r,l){return function(h,_){return o9(h,r,l(_),{})}}function qc(r,l){return function(h,_){var $;if(h===n&&_===n)return l;if(h!==n&&($=h),_!==n){if($===n)return _;typeof h=="string"||typeof _=="string"?(h=Hn(h),_=Hn(_)):(h=Cw(h),_=Cw(_)),$=r(h,_)}return $}}function Mh(r){return vi(function(l){return l=Bt(l,Fn(Je())),pt(function(h){var _=this;return r(l,function($){return Bn($,_,h)})})})}function Yc(r,l){l=l===n?" ":Hn(l);var h=l.length;if(h<2)return h?Ch(l,r):l;var _=Ch(l,Ac(r/Cs(l)));return Ns(l)?Yi(wo(_),0,r).join(""):_.slice(0,r)}function T9(r,l,h,_){var $=l&x,z=fl(r);function K(){for(var ie=-1,ue=arguments.length,ke=-1,Oe=_.length,Ie=be(Oe+ue),Ve=this&&this!==cn&&this instanceof K?z:r;++ke<Oe;)Ie[ke]=_[ke];for(;ue--;)Ie[ke++]=arguments[++ie];return Bn(Ve,$?h:this,Ie)}return K}function Hw(r){return function(l,h,_){return _&&typeof _!="number"&&En(l,h,_)&&(h=_=n),l=yi(l),h===n?(h=l,l=0):h=yi(h),_=_===n?l<h?1:-1:yi(_),g9(l,h,_,r)}}function Kc(r){return function(l,h){return typeof l=="string"&&typeof h=="string"||(l=no(l),h=no(h)),r(l,h)}}function Uw(r,l,h,_,$,z,K,ie,ue,ke){var Oe=l&I,Ie=Oe?K:n,Ve=Oe?n:K,Ge=Oe?z:n,et=Oe?n:z;l|=Oe?U:V,l&=~(Oe?V:U),l&R||(l&=-4);var ft=[r,l,$,Ge,Ie,et,Ve,ie,ue,ke],tt=h.apply(n,ft);return Fh(r)&&tE(tt,ft),tt.placeholder=_,nE(tt,r,l)}function Ah(r){var l=nn[r];return function(h,_){if(h=no(h),_=_==null?0:pn(ut(_),292),_&&nw(h)){var $=(Ot(h)+"e").split("e"),z=l($[0]+"e"+(+$[1]+_));return $=(Ot(z)+"e").split("e"),+($[0]+"e"+(+$[1]-_))}return l(h)}}var I9=Os&&1/$c(new Os([,-0]))[1]==ne?function(r){return new Os(r)}:ng;function jw(r){return function(l){var h=hn(l);return h==E?ch(l):h==se?Y7(l):B7(l,r(l))}}function gi(r,l,h,_,$,z,K,ie){var ue=l&S;if(!ue&&typeof r!="function")throw new Zn(a);var ke=_?_.length:0;if(ke||(l&=-97,_=$=n),K=K===n?K:on(ut(K),0),ie=ie===n?ie:ut(ie),ke-=$?$.length:0,l&V){var Oe=_,Ie=$;_=$=n}var Ve=ue?n:Vh(r),Ge=[r,l,h,_,$,Oe,Ie,z,K,ie];if(Ve&&W9(Ge,Ve),r=Ge[0],l=Ge[1],h=Ge[2],_=Ge[3],$=Ge[4],ie=Ge[9]=Ge[9]===n?ue?0:r.length:on(Ge[9]-ke,0),!ie&&l&(I|L)&&(l&=-25),!l||l==x)var et=S9(r,l,h);else l==I||l==L?et=O9(r,l,ie):(l==U||l==(x|U))&&!$.length?et=T9(r,l,h,_):et=Wc.apply(n,Ge);var ft=Ve?$w:tE;return nE(ft(et,Ge),r,l)}function Gw(r,l,h,_){return r===n||xo(r,Ss[h])&&!Tt.call(_,h)?l:r}function Ww(r,l,h,_,$,z){return Ht(r)&&Ht(l)&&(z.set(l,r),Hc(r,l,n,Ww,z),z.delete(l)),r}function D9(r){return gl(r)?n:r}function qw(r,l,h,_,$,z){var K=h&w,ie=r.length,ue=l.length;if(ie!=ue&&!(K&&ue>ie))return!1;var ke=z.get(r),Oe=z.get(l);if(ke&&Oe)return ke==l&&Oe==r;var Ie=-1,Ve=!0,Ge=h&y?new Dr:n;for(z.set(r,l),z.set(l,r);++Ie<ie;){var et=r[Ie],ft=l[Ie];if(_)var tt=K?_(ft,et,Ie,l,r,z):_(et,ft,Ie,r,l,z);if(tt!==n){if(tt)continue;Ve=!1;break}if(Ge){if(!ih(l,function(ht,yt){if(!tl(Ge,yt)&&(et===ht||$(et,ht,h,_,z)))return Ge.push(yt)})){Ve=!1;break}}else if(!(et===ft||$(et,ft,h,_,z))){Ve=!1;break}}return z.delete(r),z.delete(l),Ve}function M9(r,l,h,_,$,z,K){switch(h){case vt:if(r.byteLength!=l.byteLength||r.byteOffset!=l.byteOffset)return!1;r=r.buffer,l=l.buffer;case ot:return!(r.byteLength!=l.byteLength||!z(new Tc(r),new Tc(l)));case ye:case ve:case C:return xo(+r,+l);case we:return r.name==l.name&&r.message==l.message;case he:case de:return r==l+"";case E:var ie=ch;case se:var ue=_&w;if(ie||(ie=$c),r.size!=l.size&&!ue)return!1;var ke=K.get(r);if(ke)return ke==l;_|=y,K.set(r,l);var Oe=qw(ie(r),ie(l),_,$,z,K);return K.delete(r),Oe;case De:if(sl)return sl.call(r)==sl.call(l)}return!1}function A9(r,l,h,_,$,z){var K=h&w,ie=Ph(r),ue=ie.length,ke=Ph(l),Oe=ke.length;if(ue!=Oe&&!K)return!1;for(var Ie=ue;Ie--;){var Ve=ie[Ie];if(!(K?Ve in l:Tt.call(l,Ve)))return!1}var Ge=z.get(r),et=z.get(l);if(Ge&&et)return Ge==l&&et==r;var ft=!0;z.set(r,l),z.set(l,r);for(var tt=K;++Ie<ue;){Ve=ie[Ie];var ht=r[Ve],yt=l[Ve];if(_)var jn=K?_(yt,ht,Ve,l,r,z):_(ht,yt,Ve,r,l,z);if(!(jn===n?ht===yt||$(ht,yt,h,_,z):jn)){ft=!1;break}tt||(tt=Ve=="constructor")}if(ft&&!tt){var xn=r.constructor,Gn=l.constructor;xn!=Gn&&"constructor"in r&&"constructor"in l&&!(typeof xn=="function"&&xn instanceof xn&&typeof Gn=="function"&&Gn instanceof Gn)&&(ft=!1)}return z.delete(r),z.delete(l),ft}function vi(r){return Uh(Qw(r,n,lE),r+"")}function Ph(r){return pw(r,ln,zh)}function Rh(r){return pw(r,An,Yw)}var Vh=Rc?function(r){return Rc.get(r)}:ng;function Xc(r){for(var l=r.name+"",h=Ts[l],_=Tt.call(Ts,l)?h.length:0;_--;){var $=h[_],z=$.func;if(z==null||z==r)return $.name}return l}function As(r){var l=Tt.call(P,"placeholder")?P:r;return l.placeholder}function Je(){var r=P.iteratee||eg;return r=r===eg?vw:r,arguments.length?r(arguments[0],arguments[1]):r}function Zc(r,l){var h=r.__data__;return H9(l)?h[typeof l=="string"?"string":"hash"]:h.map}function Lh(r){for(var l=ln(r),h=l.length;h--;){var _=l[h],$=r[_];l[h]=[_,$,Zw($)]}return l}function Pr(r,l){var h=G7(r,l);return gw(h)?h:n}function P9(r){var l=Tt.call(r,Tr),h=r[Tr];try{r[Tr]=n;var _=!0}catch{}var $=Sc.call(r);return _&&(l?r[Tr]=h:delete r[Tr]),$}var zh=fh?function(r){return r==null?[]:(r=At(r),Fi(fh(r),function(l){return ew.call(r,l)}))}:og,Yw=fh?function(r){for(var l=[];r;)Hi(l,zh(r)),r=Ic(r);return l}:og,hn=wn;(ph&&hn(new ph(new ArrayBuffer(1)))!=vt||ol&&hn(new ol)!=E||hh&&hn(hh.resolve())!=ee||Os&&hn(new Os)!=se||il&&hn(new il)!=Pe)&&(hn=function(r){var l=wn(r),h=l==A?r.constructor:n,_=h?Rr(h):"";if(_)switch(_){case mU:return vt;case _U:return E;case yU:return ee;case bU:return se;case wU:return Pe}return l});function R9(r,l,h){for(var _=-1,$=h.length;++_<$;){var z=h[_],K=z.size;switch(z.type){case"drop":r+=K;break;case"dropRight":l-=K;break;case"take":l=pn(l,r+K);break;case"takeRight":r=on(r,l-K);break}}return{start:r,end:l}}function V9(r){var l=r.match(UH);return l?l[1].split(jH):[]}function Kw(r,l,h){l=qi(l,r);for(var _=-1,$=l.length,z=!1;++_<$;){var K=Ho(l[_]);if(!(z=r!=null&&h(r,K)))break;r=r[K]}return z||++_!=$?z:($=r==null?0:r.length,!!$&&id($)&&mi(K,$)&&(st(r)||Vr(r)))}function L9(r){var l=r.length,h=new r.constructor(l);return l&&typeof r[0]=="string"&&Tt.call(r,"index")&&(h.index=r.index,h.input=r.input),h}function Xw(r){return typeof r.constructor=="function"&&!pl(r)?Is(Ic(r)):{}}function z9(r,l,h){var _=r.constructor;switch(l){case ot:return Dh(r);case ye:case ve:return new _(+r);case vt:return E9(r,h);case _t:case sn:case an:case On:case Tn:case di:case Es:case tn:case In:return Dw(r,h);case E:return new _;case C:case de:return new _(r);case he:return x9(r);case se:return new _;case De:return $9(r)}}function B9(r,l){var h=l.length;if(!h)return r;var _=h-1;return l[_]=(h>1?"& ":"")+l[_],l=l.join(h>2?", ":" "),r.replace(HH,`{
/* [wrapped with `+l+`] */
`)}function F9(r){return st(r)||Vr(r)||!!(tw&&r&&r[tw])}function mi(r,l){var h=typeof r;return l=l??Y,!!l&&(h=="number"||h!="symbol"&&QH.test(r))&&r>-1&&r%1==0&&r<l}function En(r,l,h){if(!Ht(h))return!1;var _=typeof l;return(_=="number"?Mn(h)&&mi(l,h.length):_=="string"&&l in h)?xo(h[l],r):!1}function Bh(r,l){if(st(r))return!1;var h=typeof r;return h=="number"||h=="symbol"||h=="boolean"||r==null||Un(r)?!0:LH.test(r)||!VH.test(r)||l!=null&&r in At(l)}function H9(r){var l=typeof r;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?r!=="__proto__":r===null}function Fh(r){var l=Xc(r),h=P[l];if(typeof h!="function"||!(l in mt.prototype))return!1;if(r===h)return!0;var _=Vh(h);return!!_&&r===_[0]}function U9(r){return!!Zb&&Zb in r}var j9=Cc?_i:ig;function pl(r){var l=r&&r.constructor,h=typeof l=="function"&&l.prototype||Ss;return r===h}function Zw(r){return r===r&&!Ht(r)}function Jw(r,l){return function(h){return h==null?!1:h[r]===l&&(l!==n||r in At(h))}}function G9(r){var l=nd(r,function(_){return h.size===f&&h.clear(),_}),h=l.cache;return l}function W9(r,l){var h=r[1],_=l[1],$=h|_,z=$<(x|S|G),K=_==G&&h==I||_==G&&h==q&&r[7].length<=l[8]||_==(G|q)&&l[7].length<=l[8]&&h==I;if(!(z||K))return r;_&x&&(r[2]=l[2],$|=h&x?0:R);var ie=l[3];if(ie){var ue=r[3];r[3]=ue?Aw(ue,ie,l[4]):ie,r[4]=ue?Ui(r[3],d):l[4]}return ie=l[5],ie&&(ue=r[5],r[5]=ue?Pw(ue,ie,l[6]):ie,r[6]=ue?Ui(r[5],d):l[6]),ie=l[7],ie&&(r[7]=ie),_&G&&(r[8]=r[8]==null?l[8]:pn(r[8],l[8])),r[9]==null&&(r[9]=l[9]),r[0]=l[0],r[1]=$,r}function q9(r){var l=[];if(r!=null)for(var h in At(r))l.push(h);return l}function Y9(r){return Sc.call(r)}function Qw(r,l,h){return l=on(l===n?r.length-1:l,0),function(){for(var _=arguments,$=-1,z=on(_.length-l,0),K=be(z);++$<z;)K[$]=_[l+$];$=-1;for(var ie=be(l+1);++$<l;)ie[$]=_[$];return ie[l]=h(K),Bn(r,this,ie)}}function eE(r,l){return l.length<2?r:Ar(r,eo(l,0,-1))}function K9(r,l){for(var h=r.length,_=pn(l.length,h),$=Dn(r);_--;){var z=l[_];r[_]=mi(z,h)?$[z]:n}return r}function Hh(r,l){if(!(l==="constructor"&&typeof r[l]=="function")&&l!="__proto__")return r[l]}var tE=oE($w),hl=cU||function(r,l){return cn.setTimeout(r,l)},Uh=oE(_9);function nE(r,l,h){var _=l+"";return Uh(r,B9(_,X9(V9(_),h)))}function oE(r){var l=0,h=0;return function(){var _=hU(),$=Z-(_-h);if(h=_,$>0){if(++l>=B)return arguments[0]}else l=0;return r.apply(n,arguments)}}function Jc(r,l){var h=-1,_=r.length,$=_-1;for(l=l===n?_:l;++h<l;){var z=Nh(h,$),K=r[z];r[z]=r[h],r[h]=K}return r.length=l,r}var iE=G9(function(r){var l=[];return r.charCodeAt(0)===46&&l.push(""),r.replace(zH,function(h,_,$,z){l.push($?z.replace(qH,"$1"):_||h)}),l});function Ho(r){if(typeof r=="string"||Un(r))return r;var l=r+"";return l=="0"&&1/r==-ne?"-0":l}function Rr(r){if(r!=null){try{return kc.call(r)}catch{}try{return r+""}catch{}}return""}function X9(r,l){return Xn(ae,function(h){var _="_."+h[0];l&h[1]&&!Ec(r,_)&&r.push(_)}),r.sort()}function rE(r){if(r instanceof mt)return r.clone();var l=new Jn(r.__wrapped__,r.__chain__);return l.__actions__=Dn(r.__actions__),l.__index__=r.__index__,l.__values__=r.__values__,l}function Z9(r,l,h){(h?En(r,l,h):l===n)?l=1:l=on(ut(l),0);var _=r==null?0:r.length;if(!_||l<1)return[];for(var $=0,z=0,K=be(Ac(_/l));$<_;)K[z++]=eo(r,$,$+=l);return K}function J9(r){for(var l=-1,h=r==null?0:r.length,_=0,$=[];++l<h;){var z=r[l];z&&($[_++]=z)}return $}function Q9(){var r=arguments.length;if(!r)return[];for(var l=be(r-1),h=arguments[0],_=r;_--;)l[_-1]=arguments[_];return Hi(st(h)?Dn(h):[h],dn(l,1))}var ej=pt(function(r,l){return Gt(r)?ll(r,dn(l,1,Gt,!0)):[]}),tj=pt(function(r,l){var h=to(l);return Gt(h)&&(h=n),Gt(r)?ll(r,dn(l,1,Gt,!0),Je(h,2)):[]}),nj=pt(function(r,l){var h=to(l);return Gt(h)&&(h=n),Gt(r)?ll(r,dn(l,1,Gt,!0),n,h):[]});function oj(r,l,h){var _=r==null?0:r.length;return _?(l=h||l===n?1:ut(l),eo(r,l<0?0:l,_)):[]}function ij(r,l,h){var _=r==null?0:r.length;return _?(l=h||l===n?1:ut(l),l=_-l,eo(r,0,l<0?0:l)):[]}function rj(r,l){return r&&r.length?jc(r,Je(l,3),!0,!0):[]}function sj(r,l){return r&&r.length?jc(r,Je(l,3),!0):[]}function aj(r,l,h,_){var $=r==null?0:r.length;return $?(h&&typeof h!="number"&&En(r,l,h)&&(h=0,_=$),QU(r,l,h,_)):[]}function sE(r,l,h){var _=r==null?0:r.length;if(!_)return-1;var $=h==null?0:ut(h);return $<0&&($=on(_+$,0)),xc(r,Je(l,3),$)}function aE(r,l,h){var _=r==null?0:r.length;if(!_)return-1;var $=_-1;return h!==n&&($=ut(h),$=h<0?on(_+$,0):pn($,_-1)),xc(r,Je(l,3),$,!0)}function lE(r){var l=r==null?0:r.length;return l?dn(r,1):[]}function lj(r){var l=r==null?0:r.length;return l?dn(r,ne):[]}function uj(r,l){var h=r==null?0:r.length;return h?(l=l===n?1:ut(l),dn(r,l)):[]}function cj(r){for(var l=-1,h=r==null?0:r.length,_={};++l<h;){var $=r[l];_[$[0]]=$[1]}return _}function uE(r){return r&&r.length?r[0]:n}function dj(r,l,h){var _=r==null?0:r.length;if(!_)return-1;var $=h==null?0:ut(h);return $<0&&($=on(_+$,0)),$s(r,l,$)}function fj(r){var l=r==null?0:r.length;return l?eo(r,0,-1):[]}var pj=pt(function(r){var l=Bt(r,Th);return l.length&&l[0]===r[0]?bh(l):[]}),hj=pt(function(r){var l=to(r),h=Bt(r,Th);return l===to(h)?l=n:h.pop(),h.length&&h[0]===r[0]?bh(h,Je(l,2)):[]}),gj=pt(function(r){var l=to(r),h=Bt(r,Th);return l=typeof l=="function"?l:n,l&&h.pop(),h.length&&h[0]===r[0]?bh(h,n,l):[]});function vj(r,l){return r==null?"":fU.call(r,l)}function to(r){var l=r==null?0:r.length;return l?r[l-1]:n}function mj(r,l,h){var _=r==null?0:r.length;if(!_)return-1;var $=_;return h!==n&&($=ut(h),$=$<0?on(_+$,0):pn($,_-1)),l===l?X7(r,l,$):xc(r,Ub,$,!0)}function _j(r,l){return r&&r.length?bw(r,ut(l)):n}var yj=pt(cE);function cE(r,l){return r&&r.length&&l&&l.length?$h(r,l):r}function bj(r,l,h){return r&&r.length&&l&&l.length?$h(r,l,Je(h,2)):r}function wj(r,l,h){return r&&r.length&&l&&l.length?$h(r,l,n,h):r}var Ej=vi(function(r,l){var h=r==null?0:r.length,_=vh(r,l);return xw(r,Bt(l,function($){return mi($,h)?+$:$}).sort(Mw)),_});function xj(r,l){var h=[];if(!(r&&r.length))return h;var _=-1,$=[],z=r.length;for(l=Je(l,3);++_<z;){var K=r[_];l(K,_,r)&&(h.push(K),$.push(_))}return xw(r,$),h}function jh(r){return r==null?r:vU.call(r)}function $j(r,l,h){var _=r==null?0:r.length;return _?(h&&typeof h!="number"&&En(r,l,h)?(l=0,h=_):(l=l==null?0:ut(l),h=h===n?_:ut(h)),eo(r,l,h)):[]}function Nj(r,l){return Uc(r,l)}function Cj(r,l,h){return kh(r,l,Je(h,2))}function kj(r,l){var h=r==null?0:r.length;if(h){var _=Uc(r,l);if(_<h&&xo(r[_],l))return _}return-1}function Sj(r,l){return Uc(r,l,!0)}function Oj(r,l,h){return kh(r,l,Je(h,2),!0)}function Tj(r,l){var h=r==null?0:r.length;if(h){var _=Uc(r,l,!0)-1;if(xo(r[_],l))return _}return-1}function Ij(r){return r&&r.length?Nw(r):[]}function Dj(r,l){return r&&r.length?Nw(r,Je(l,2)):[]}function Mj(r){var l=r==null?0:r.length;return l?eo(r,1,l):[]}function Aj(r,l,h){return r&&r.length?(l=h||l===n?1:ut(l),eo(r,0,l<0?0:l)):[]}function Pj(r,l,h){var _=r==null?0:r.length;return _?(l=h||l===n?1:ut(l),l=_-l,eo(r,l<0?0:l,_)):[]}function Rj(r,l){return r&&r.length?jc(r,Je(l,3),!1,!0):[]}function Vj(r,l){return r&&r.length?jc(r,Je(l,3)):[]}var Lj=pt(function(r){return Wi(dn(r,1,Gt,!0))}),zj=pt(function(r){var l=to(r);return Gt(l)&&(l=n),Wi(dn(r,1,Gt,!0),Je(l,2))}),Bj=pt(function(r){var l=to(r);return l=typeof l=="function"?l:n,Wi(dn(r,1,Gt,!0),n,l)});function Fj(r){return r&&r.length?Wi(r):[]}function Hj(r,l){return r&&r.length?Wi(r,Je(l,2)):[]}function Uj(r,l){return l=typeof l=="function"?l:n,r&&r.length?Wi(r,n,l):[]}function Gh(r){if(!(r&&r.length))return[];var l=0;return r=Fi(r,function(h){if(Gt(h))return l=on(h.length,l),!0}),lh(l,function(h){return Bt(r,rh(h))})}function dE(r,l){if(!(r&&r.length))return[];var h=Gh(r);return l==null?h:Bt(h,function(_){return Bn(l,n,_)})}var jj=pt(function(r,l){return Gt(r)?ll(r,l):[]}),Gj=pt(function(r){return Oh(Fi(r,Gt))}),Wj=pt(function(r){var l=to(r);return Gt(l)&&(l=n),Oh(Fi(r,Gt),Je(l,2))}),qj=pt(function(r){var l=to(r);return l=typeof l=="function"?l:n,Oh(Fi(r,Gt),n,l)}),Yj=pt(Gh);function Kj(r,l){return Ow(r||[],l||[],al)}function Xj(r,l){return Ow(r||[],l||[],dl)}var Zj=pt(function(r){var l=r.length,h=l>1?r[l-1]:n;return h=typeof h=="function"?(r.pop(),h):n,dE(r,h)});function fE(r){var l=P(r);return l.__chain__=!0,l}function Jj(r,l){return l(r),r}function Qc(r,l){return l(r)}var Qj=vi(function(r){var l=r.length,h=l?r[0]:0,_=this.__wrapped__,$=function(z){return vh(z,r)};return l>1||this.__actions__.length||!(_ instanceof mt)||!mi(h)?this.thru($):(_=_.slice(h,+h+(l?1:0)),_.__actions__.push({func:Qc,args:[$],thisArg:n}),new Jn(_,this.__chain__).thru(function(z){return l&&!z.length&&z.push(n),z}))});function eG(){return fE(this)}function tG(){return new Jn(this.value(),this.__chain__)}function nG(){this.__values__===n&&(this.__values__=CE(this.value()));var r=this.__index__>=this.__values__.length,l=r?n:this.__values__[this.__index__++];return{done:r,value:l}}function oG(){return this}function iG(r){for(var l,h=this;h instanceof Lc;){var _=rE(h);_.__index__=0,_.__values__=n,l?$.__wrapped__=_:l=_;var $=_;h=h.__wrapped__}return $.__wrapped__=r,l}function rG(){var r=this.__wrapped__;if(r instanceof mt){var l=r;return this.__actions__.length&&(l=new mt(this)),l=l.reverse(),l.__actions__.push({func:Qc,args:[jh],thisArg:n}),new Jn(l,this.__chain__)}return this.thru(jh)}function sG(){return Sw(this.__wrapped__,this.__actions__)}var aG=Gc(function(r,l,h){Tt.call(r,h)?++r[h]:hi(r,h,1)});function lG(r,l,h){var _=st(r)?Fb:JU;return h&&En(r,l,h)&&(l=n),_(r,Je(l,3))}function uG(r,l){var h=st(r)?Fi:dw;return h(r,Je(l,3))}var cG=zw(sE),dG=zw(aE);function fG(r,l){return dn(ed(r,l),1)}function pG(r,l){return dn(ed(r,l),ne)}function hG(r,l,h){return h=h===n?1:ut(h),dn(ed(r,l),h)}function pE(r,l){var h=st(r)?Xn:Gi;return h(r,Je(l,3))}function hE(r,l){var h=st(r)?M7:cw;return h(r,Je(l,3))}var gG=Gc(function(r,l,h){Tt.call(r,h)?r[h].push(l):hi(r,h,[l])});function vG(r,l,h,_){r=Mn(r)?r:Rs(r),h=h&&!_?ut(h):0;var $=r.length;return h<0&&(h=on($+h,0)),rd(r)?h<=$&&r.indexOf(l,h)>-1:!!$&&$s(r,l,h)>-1}var mG=pt(function(r,l,h){var _=-1,$=typeof l=="function",z=Mn(r)?be(r.length):[];return Gi(r,function(K){z[++_]=$?Bn(l,K,h):ul(K,l,h)}),z}),_G=Gc(function(r,l,h){hi(r,h,l)});function ed(r,l){var h=st(r)?Bt:mw;return h(r,Je(l,3))}function yG(r,l,h,_){return r==null?[]:(st(l)||(l=l==null?[]:[l]),h=_?n:h,st(h)||(h=h==null?[]:[h]),ww(r,l,h))}var bG=Gc(function(r,l,h){r[h?0:1].push(l)},function(){return[[],[]]});function wG(r,l,h){var _=st(r)?oh:Gb,$=arguments.length<3;return _(r,Je(l,4),h,$,Gi)}function EG(r,l,h){var _=st(r)?A7:Gb,$=arguments.length<3;return _(r,Je(l,4),h,$,cw)}function xG(r,l){var h=st(r)?Fi:dw;return h(r,od(Je(l,3)))}function $G(r){var l=st(r)?sw:v9;return l(r)}function NG(r,l,h){(h?En(r,l,h):l===n)?l=1:l=ut(l);var _=st(r)?qU:m9;return _(r,l)}function CG(r){var l=st(r)?YU:y9;return l(r)}function kG(r){if(r==null)return 0;if(Mn(r))return rd(r)?Cs(r):r.length;var l=hn(r);return l==E||l==se?r.size:Eh(r).length}function SG(r,l,h){var _=st(r)?ih:b9;return h&&En(r,l,h)&&(l=n),_(r,Je(l,3))}var OG=pt(function(r,l){if(r==null)return[];var h=l.length;return h>1&&En(r,l[0],l[1])?l=[]:h>2&&En(l[0],l[1],l[2])&&(l=[l[0]]),ww(r,dn(l,1),[])}),td=uU||function(){return cn.Date.now()};function TG(r,l){if(typeof l!="function")throw new Zn(a);return r=ut(r),function(){if(--r<1)return l.apply(this,arguments)}}function gE(r,l,h){return l=h?n:l,l=r&&l==null?r.length:l,gi(r,G,n,n,n,n,l)}function vE(r,l){var h;if(typeof l!="function")throw new Zn(a);return r=ut(r),function(){return--r>0&&(h=l.apply(this,arguments)),r<=1&&(l=n),h}}var Wh=pt(function(r,l,h){var _=x;if(h.length){var $=Ui(h,As(Wh));_|=U}return gi(r,_,l,h,$)}),mE=pt(function(r,l,h){var _=x|S;if(h.length){var $=Ui(h,As(mE));_|=U}return gi(l,_,r,h,$)});function _E(r,l,h){l=h?n:l;var _=gi(r,I,n,n,n,n,n,l);return _.placeholder=_E.placeholder,_}function yE(r,l,h){l=h?n:l;var _=gi(r,L,n,n,n,n,n,l);return _.placeholder=yE.placeholder,_}function bE(r,l,h){var _,$,z,K,ie,ue,ke=0,Oe=!1,Ie=!1,Ve=!0;if(typeof r!="function")throw new Zn(a);l=no(l)||0,Ht(h)&&(Oe=!!h.leading,Ie="maxWait"in h,z=Ie?on(no(h.maxWait)||0,l):z,Ve="trailing"in h?!!h.trailing:Ve);function Ge(Wt){var $o=_,bi=$;return _=$=n,ke=Wt,K=r.apply(bi,$o),K}function et(Wt){return ke=Wt,ie=hl(ht,l),Oe?Ge(Wt):K}function ft(Wt){var $o=Wt-ue,bi=Wt-ke,zE=l-$o;return Ie?pn(zE,z-bi):zE}function tt(Wt){var $o=Wt-ue,bi=Wt-ke;return ue===n||$o>=l||$o<0||Ie&&bi>=z}function ht(){var Wt=td();if(tt(Wt))return yt(Wt);ie=hl(ht,ft(Wt))}function yt(Wt){return ie=n,Ve&&_?Ge(Wt):(_=$=n,K)}function jn(){ie!==n&&Tw(ie),ke=0,_=ue=$=ie=n}function xn(){return ie===n?K:yt(td())}function Gn(){var Wt=td(),$o=tt(Wt);if(_=arguments,$=this,ue=Wt,$o){if(ie===n)return et(ue);if(Ie)return Tw(ie),ie=hl(ht,l),Ge(ue)}return ie===n&&(ie=hl(ht,l)),K}return Gn.cancel=jn,Gn.flush=xn,Gn}var IG=pt(function(r,l){return uw(r,1,l)}),DG=pt(function(r,l,h){return uw(r,no(l)||0,h)});function MG(r){return gi(r,T)}function nd(r,l){if(typeof r!="function"||l!=null&&typeof l!="function")throw new Zn(a);var h=function(){var _=arguments,$=l?l.apply(this,_):_[0],z=h.cache;if(z.has($))return z.get($);var K=r.apply(this,_);return h.cache=z.set($,K)||z,K};return h.cache=new(nd.Cache||pi),h}nd.Cache=pi;function od(r){if(typeof r!="function")throw new Zn(a);return function(){var l=arguments;switch(l.length){case 0:return!r.call(this);case 1:return!r.call(this,l[0]);case 2:return!r.call(this,l[0],l[1]);case 3:return!r.call(this,l[0],l[1],l[2])}return!r.apply(this,l)}}function AG(r){return vE(2,r)}var PG=w9(function(r,l){l=l.length==1&&st(l[0])?Bt(l[0],Fn(Je())):Bt(dn(l,1),Fn(Je()));var h=l.length;return pt(function(_){for(var $=-1,z=pn(_.length,h);++$<z;)_[$]=l[$].call(this,_[$]);return Bn(r,this,_)})}),qh=pt(function(r,l){var h=Ui(l,As(qh));return gi(r,U,n,l,h)}),wE=pt(function(r,l){var h=Ui(l,As(wE));return gi(r,V,n,l,h)}),RG=vi(function(r,l){return gi(r,q,n,n,n,l)});function VG(r,l){if(typeof r!="function")throw new Zn(a);return l=l===n?l:ut(l),pt(r,l)}function LG(r,l){if(typeof r!="function")throw new Zn(a);return l=l==null?0:on(ut(l),0),pt(function(h){var _=h[l],$=Yi(h,0,l);return _&&Hi($,_),Bn(r,this,$)})}function zG(r,l,h){var _=!0,$=!0;if(typeof r!="function")throw new Zn(a);return Ht(h)&&(_="leading"in h?!!h.leading:_,$="trailing"in h?!!h.trailing:$),bE(r,l,{leading:_,maxWait:l,trailing:$})}function BG(r){return gE(r,1)}function FG(r,l){return qh(Ih(l),r)}function HG(){if(!arguments.length)return[];var r=arguments[0];return st(r)?r:[r]}function UG(r){return Qn(r,v)}function jG(r,l){return l=typeof l=="function"?l:n,Qn(r,v,l)}function GG(r){return Qn(r,p|v)}function WG(r,l){return l=typeof l=="function"?l:n,Qn(r,p|v,l)}function qG(r,l){return l==null||lw(r,l,ln(l))}function xo(r,l){return r===l||r!==r&&l!==l}var YG=Kc(yh),KG=Kc(function(r,l){return r>=l}),Vr=hw((function(){return arguments})())?hw:function(r){return Ut(r)&&Tt.call(r,"callee")&&!ew.call(r,"callee")},st=be.isArray,XG=Pb?Fn(Pb):i9;function Mn(r){return r!=null&&id(r.length)&&!_i(r)}function Gt(r){return Ut(r)&&Mn(r)}function ZG(r){return r===!0||r===!1||Ut(r)&&wn(r)==ye}var Ki=dU||ig,JG=Rb?Fn(Rb):r9;function QG(r){return Ut(r)&&r.nodeType===1&&!gl(r)}function eW(r){if(r==null)return!0;if(Mn(r)&&(st(r)||typeof r=="string"||typeof r.splice=="function"||Ki(r)||Ps(r)||Vr(r)))return!r.length;var l=hn(r);if(l==E||l==se)return!r.size;if(pl(r))return!Eh(r).length;for(var h in r)if(Tt.call(r,h))return!1;return!0}function tW(r,l){return cl(r,l)}function nW(r,l,h){h=typeof h=="function"?h:n;var _=h?h(r,l):n;return _===n?cl(r,l,n,h):!!_}function Yh(r){if(!Ut(r))return!1;var l=wn(r);return l==we||l==Te||typeof r.message=="string"&&typeof r.name=="string"&&!gl(r)}function oW(r){return typeof r=="number"&&nw(r)}function _i(r){if(!Ht(r))return!1;var l=wn(r);return l==Ce||l==k||l==re||l==ce}function EE(r){return typeof r=="number"&&r==ut(r)}function id(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Y}function Ht(r){var l=typeof r;return r!=null&&(l=="object"||l=="function")}function Ut(r){return r!=null&&typeof r=="object"}var xE=Vb?Fn(Vb):a9;function iW(r,l){return r===l||wh(r,l,Lh(l))}function rW(r,l,h){return h=typeof h=="function"?h:n,wh(r,l,Lh(l),h)}function sW(r){return $E(r)&&r!=+r}function aW(r){if(j9(r))throw new it(s);return gw(r)}function lW(r){return r===null}function uW(r){return r==null}function $E(r){return typeof r=="number"||Ut(r)&&wn(r)==C}function gl(r){if(!Ut(r)||wn(r)!=A)return!1;var l=Ic(r);if(l===null)return!0;var h=Tt.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&kc.call(h)==rU}var Kh=Lb?Fn(Lb):l9;function cW(r){return EE(r)&&r>=-Y&&r<=Y}var NE=zb?Fn(zb):u9;function rd(r){return typeof r=="string"||!st(r)&&Ut(r)&&wn(r)==de}function Un(r){return typeof r=="symbol"||Ut(r)&&wn(r)==De}var Ps=Bb?Fn(Bb):c9;function dW(r){return r===n}function fW(r){return Ut(r)&&hn(r)==Pe}function pW(r){return Ut(r)&&wn(r)==qe}var hW=Kc(xh),gW=Kc(function(r,l){return r<=l});function CE(r){if(!r)return[];if(Mn(r))return rd(r)?wo(r):Dn(r);if(nl&&r[nl])return q7(r[nl]());var l=hn(r),h=l==E?ch:l==se?$c:Rs;return h(r)}function yi(r){if(!r)return r===0?r:0;if(r=no(r),r===ne||r===-ne){var l=r<0?-1:1;return l*fe}return r===r?r:0}function ut(r){var l=yi(r),h=l%1;return l===l?h?l-h:l:0}function kE(r){return r?Mr(ut(r),0,te):0}function no(r){if(typeof r=="number")return r;if(Un(r))return oe;if(Ht(r)){var l=typeof r.valueOf=="function"?r.valueOf():r;r=Ht(l)?l+"":l}if(typeof r!="string")return r===0?r:+r;r=Wb(r);var h=XH.test(r);return h||JH.test(r)?T7(r.slice(2),h?2:8):KH.test(r)?oe:+r}function SE(r){return Fo(r,An(r))}function vW(r){return r?Mr(ut(r),-Y,Y):r===0?r:0}function Ot(r){return r==null?"":Hn(r)}var mW=Ds(function(r,l){if(pl(l)||Mn(l)){Fo(l,ln(l),r);return}for(var h in l)Tt.call(l,h)&&al(r,h,l[h])}),OE=Ds(function(r,l){Fo(l,An(l),r)}),sd=Ds(function(r,l,h,_){Fo(l,An(l),r,_)}),_W=Ds(function(r,l,h,_){Fo(l,ln(l),r,_)}),yW=vi(vh);function bW(r,l){var h=Is(r);return l==null?h:aw(h,l)}var wW=pt(function(r,l){r=At(r);var h=-1,_=l.length,$=_>2?l[2]:n;for($&&En(l[0],l[1],$)&&(_=1);++h<_;)for(var z=l[h],K=An(z),ie=-1,ue=K.length;++ie<ue;){var ke=K[ie],Oe=r[ke];(Oe===n||xo(Oe,Ss[ke])&&!Tt.call(r,ke))&&(r[ke]=z[ke])}return r}),EW=pt(function(r){return r.push(n,Ww),Bn(TE,n,r)});function xW(r,l){return Hb(r,Je(l,3),Bo)}function $W(r,l){return Hb(r,Je(l,3),_h)}function NW(r,l){return r==null?r:mh(r,Je(l,3),An)}function CW(r,l){return r==null?r:fw(r,Je(l,3),An)}function kW(r,l){return r&&Bo(r,Je(l,3))}function SW(r,l){return r&&_h(r,Je(l,3))}function OW(r){return r==null?[]:Fc(r,ln(r))}function TW(r){return r==null?[]:Fc(r,An(r))}function Xh(r,l,h){var _=r==null?n:Ar(r,l);return _===n?h:_}function IW(r,l){return r!=null&&Kw(r,l,e9)}function Zh(r,l){return r!=null&&Kw(r,l,t9)}var DW=Fw(function(r,l,h){l!=null&&typeof l.toString!="function"&&(l=Sc.call(l)),r[l]=h},Qh(Pn)),MW=Fw(function(r,l,h){l!=null&&typeof l.toString!="function"&&(l=Sc.call(l)),Tt.call(r,l)?r[l].push(h):r[l]=[h]},Je),AW=pt(ul);function ln(r){return Mn(r)?rw(r):Eh(r)}function An(r){return Mn(r)?rw(r,!0):d9(r)}function PW(r,l){var h={};return l=Je(l,3),Bo(r,function(_,$,z){hi(h,l(_,$,z),_)}),h}function RW(r,l){var h={};return l=Je(l,3),Bo(r,function(_,$,z){hi(h,$,l(_,$,z))}),h}var VW=Ds(function(r,l,h){Hc(r,l,h)}),TE=Ds(function(r,l,h,_){Hc(r,l,h,_)}),LW=vi(function(r,l){var h={};if(r==null)return h;var _=!1;l=Bt(l,function(z){return z=qi(z,r),_||(_=z.length>1),z}),Fo(r,Rh(r),h),_&&(h=Qn(h,p|g|v,D9));for(var $=l.length;$--;)Sh(h,l[$]);return h});function zW(r,l){return IE(r,od(Je(l)))}var BW=vi(function(r,l){return r==null?{}:p9(r,l)});function IE(r,l){if(r==null)return{};var h=Bt(Rh(r),function(_){return[_]});return l=Je(l),Ew(r,h,function(_,$){return l(_,$[0])})}function FW(r,l,h){l=qi(l,r);var _=-1,$=l.length;for($||($=1,r=n);++_<$;){var z=r==null?n:r[Ho(l[_])];z===n&&(_=$,z=h),r=_i(z)?z.call(r):z}return r}function HW(r,l,h){return r==null?r:dl(r,l,h)}function UW(r,l,h,_){return _=typeof _=="function"?_:n,r==null?r:dl(r,l,h,_)}var DE=jw(ln),ME=jw(An);function jW(r,l,h){var _=st(r),$=_||Ki(r)||Ps(r);if(l=Je(l,4),h==null){var z=r&&r.constructor;$?h=_?new z:[]:Ht(r)?h=_i(z)?Is(Ic(r)):{}:h={}}return($?Xn:Bo)(r,function(K,ie,ue){return l(h,K,ie,ue)}),h}function GW(r,l){return r==null?!0:Sh(r,l)}function WW(r,l,h){return r==null?r:kw(r,l,Ih(h))}function qW(r,l,h,_){return _=typeof _=="function"?_:n,r==null?r:kw(r,l,Ih(h),_)}function Rs(r){return r==null?[]:uh(r,ln(r))}function YW(r){return r==null?[]:uh(r,An(r))}function KW(r,l,h){return h===n&&(h=l,l=n),h!==n&&(h=no(h),h=h===h?h:0),l!==n&&(l=no(l),l=l===l?l:0),Mr(no(r),l,h)}function XW(r,l,h){return l=yi(l),h===n?(h=l,l=0):h=yi(h),r=no(r),n9(r,l,h)}function ZW(r,l,h){if(h&&typeof h!="boolean"&&En(r,l,h)&&(l=h=n),h===n&&(typeof l=="boolean"?(h=l,l=n):typeof r=="boolean"&&(h=r,r=n)),r===n&&l===n?(r=0,l=1):(r=yi(r),l===n?(l=r,r=0):l=yi(l)),r>l){var _=r;r=l,l=_}if(h||r%1||l%1){var $=ow();return pn(r+$*(l-r+O7("1e-"+(($+"").length-1))),l)}return Nh(r,l)}var JW=Ms(function(r,l,h){return l=l.toLowerCase(),r+(h?AE(l):l)});function AE(r){return Jh(Ot(r).toLowerCase())}function PE(r){return r=Ot(r),r&&r.replace(e7,H7).replace(y7,"")}function QW(r,l,h){r=Ot(r),l=Hn(l);var _=r.length;h=h===n?_:Mr(ut(h),0,_);var $=h;return h-=l.length,h>=0&&r.slice(h,$)==l}function eq(r){return r=Ot(r),r&&AH.test(r)?r.replace(fb,U7):r}function tq(r){return r=Ot(r),r&&BH.test(r)?r.replace(qp,"\\$&"):r}var nq=Ms(function(r,l,h){return r+(h?"-":"")+l.toLowerCase()}),oq=Ms(function(r,l,h){return r+(h?" ":"")+l.toLowerCase()}),iq=Lw("toLowerCase");function rq(r,l,h){r=Ot(r),l=ut(l);var _=l?Cs(r):0;if(!l||_>=l)return r;var $=(l-_)/2;return Yc(Pc($),h)+r+Yc(Ac($),h)}function sq(r,l,h){r=Ot(r),l=ut(l);var _=l?Cs(r):0;return l&&_<l?r+Yc(l-_,h):r}function aq(r,l,h){r=Ot(r),l=ut(l);var _=l?Cs(r):0;return l&&_<l?Yc(l-_,h)+r:r}function lq(r,l,h){return h||l==null?l=0:l&&(l=+l),gU(Ot(r).replace(Yp,""),l||0)}function uq(r,l,h){return(h?En(r,l,h):l===n)?l=1:l=ut(l),Ch(Ot(r),l)}function cq(){var r=arguments,l=Ot(r[0]);return r.length<3?l:l.replace(r[1],r[2])}var dq=Ms(function(r,l,h){return r+(h?"_":"")+l.toLowerCase()});function fq(r,l,h){return h&&typeof h!="number"&&En(r,l,h)&&(l=h=n),h=h===n?te:h>>>0,h?(r=Ot(r),r&&(typeof l=="string"||l!=null&&!Kh(l))&&(l=Hn(l),!l&&Ns(r))?Yi(wo(r),0,h):r.split(l,h)):[]}var pq=Ms(function(r,l,h){return r+(h?" ":"")+Jh(l)});function hq(r,l,h){return r=Ot(r),h=h==null?0:Mr(ut(h),0,r.length),l=Hn(l),r.slice(h,h+l.length)==l}function gq(r,l,h){var _=P.templateSettings;h&&En(r,l,h)&&(l=n),r=Ot(r),l=sd({},l,_,Gw);var $=sd({},l.imports,_.imports,Gw),z=ln($),K=uh($,z),ie,ue,ke=0,Oe=l.interpolate||yc,Ie="__p += '",Ve=dh((l.escape||yc).source+"|"+Oe.source+"|"+(Oe===pb?YH:yc).source+"|"+(l.evaluate||yc).source+"|$","g"),Ge="//# sourceURL="+(Tt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$7+"]")+`
`;r.replace(Ve,function(tt,ht,yt,jn,xn,Gn){return yt||(yt=jn),Ie+=r.slice(ke,Gn).replace(t7,j7),ht&&(ie=!0,Ie+=`' +
__e(`+ht+`) +
'`),xn&&(ue=!0,Ie+=`';
`+xn+`;
__p += '`),yt&&(Ie+=`' +
((__t = (`+yt+`)) == null ? '' : __t) +
'`),ke=Gn+tt.length,tt}),Ie+=`';
`;var et=Tt.call(l,"variable")&&l.variable;if(!et)Ie=`with (obj) {
`+Ie+`
}
`;else if(WH.test(et))throw new it(u);Ie=(ue?Ie.replace(mc,""):Ie).replace(_c,"$1").replace(DH,"$1;"),Ie="function("+(et||"obj")+`) {
`+(et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(ue?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ie+`return __p
}`;var ft=VE(function(){return Nt(z,Ge+"return "+Ie).apply(n,K)});if(ft.source=Ie,Yh(ft))throw ft;return ft}function vq(r){return Ot(r).toLowerCase()}function mq(r){return Ot(r).toUpperCase()}function _q(r,l,h){if(r=Ot(r),r&&(h||l===n))return Wb(r);if(!r||!(l=Hn(l)))return r;var _=wo(r),$=wo(l),z=qb(_,$),K=Yb(_,$)+1;return Yi(_,z,K).join("")}function yq(r,l,h){if(r=Ot(r),r&&(h||l===n))return r.slice(0,Xb(r)+1);if(!r||!(l=Hn(l)))return r;var _=wo(r),$=Yb(_,wo(l))+1;return Yi(_,0,$).join("")}function bq(r,l,h){if(r=Ot(r),r&&(h||l===n))return r.replace(Yp,"");if(!r||!(l=Hn(l)))return r;var _=wo(r),$=qb(_,wo(l));return Yi(_,$).join("")}function wq(r,l){var h=W,_=J;if(Ht(l)){var $="separator"in l?l.separator:$;h="length"in l?ut(l.length):h,_="omission"in l?Hn(l.omission):_}r=Ot(r);var z=r.length;if(Ns(r)){var K=wo(r);z=K.length}if(h>=z)return r;var ie=h-Cs(_);if(ie<1)return _;var ue=K?Yi(K,0,ie).join(""):r.slice(0,ie);if($===n)return ue+_;if(K&&(ie+=ue.length-ie),Kh($)){if(r.slice(ie).search($)){var ke,Oe=ue;for($.global||($=dh($.source,Ot(hb.exec($))+"g")),$.lastIndex=0;ke=$.exec(Oe);)var Ie=ke.index;ue=ue.slice(0,Ie===n?ie:Ie)}}else if(r.indexOf(Hn($),ie)!=ie){var Ve=ue.lastIndexOf($);Ve>-1&&(ue=ue.slice(0,Ve))}return ue+_}function Eq(r){return r=Ot(r),r&&MH.test(r)?r.replace(db,Z7):r}var xq=Ms(function(r,l,h){return r+(h?" ":"")+l.toUpperCase()}),Jh=Lw("toUpperCase");function RE(r,l,h){return r=Ot(r),l=h?n:l,l===n?W7(r)?eU(r):V7(r):r.match(l)||[]}var VE=pt(function(r,l){try{return Bn(r,n,l)}catch(h){return Yh(h)?h:new it(h)}}),$q=vi(function(r,l){return Xn(l,function(h){h=Ho(h),hi(r,h,Wh(r[h],r))}),r});function Nq(r){var l=r==null?0:r.length,h=Je();return r=l?Bt(r,function(_){if(typeof _[1]!="function")throw new Zn(a);return[h(_[0]),_[1]]}):[],pt(function(_){for(var $=-1;++$<l;){var z=r[$];if(Bn(z[0],this,_))return Bn(z[1],this,_)}})}function Cq(r){return ZU(Qn(r,p))}function Qh(r){return function(){return r}}function kq(r,l){return r==null||r!==r?l:r}var Sq=Bw(),Oq=Bw(!0);function Pn(r){return r}function eg(r){return vw(typeof r=="function"?r:Qn(r,p))}function Tq(r){return _w(Qn(r,p))}function Iq(r,l){return yw(r,Qn(l,p))}var Dq=pt(function(r,l){return function(h){return ul(h,r,l)}}),Mq=pt(function(r,l){return function(h){return ul(r,h,l)}});function tg(r,l,h){var _=ln(l),$=Fc(l,_);h==null&&!(Ht(l)&&($.length||!_.length))&&(h=l,l=r,r=this,$=Fc(l,ln(l)));var z=!(Ht(h)&&"chain"in h)||!!h.chain,K=_i(r);return Xn($,function(ie){var ue=l[ie];r[ie]=ue,K&&(r.prototype[ie]=function(){var ke=this.__chain__;if(z||ke){var Oe=r(this.__wrapped__),Ie=Oe.__actions__=Dn(this.__actions__);return Ie.push({func:ue,args:arguments,thisArg:r}),Oe.__chain__=ke,Oe}return ue.apply(r,Hi([this.value()],arguments))})}),r}function Aq(){return cn._===this&&(cn._=sU),this}function ng(){}function Pq(r){return r=ut(r),pt(function(l){return bw(l,r)})}var Rq=Mh(Bt),Vq=Mh(Fb),Lq=Mh(ih);function LE(r){return Bh(r)?rh(Ho(r)):h9(r)}function zq(r){return function(l){return r==null?n:Ar(r,l)}}var Bq=Hw(),Fq=Hw(!0);function og(){return[]}function ig(){return!1}function Hq(){return{}}function Uq(){return""}function jq(){return!0}function Gq(r,l){if(r=ut(r),r<1||r>Y)return[];var h=te,_=pn(r,te);l=Je(l),r-=te;for(var $=lh(_,l);++h<r;)l(h);return $}function Wq(r){return st(r)?Bt(r,Ho):Un(r)?[r]:Dn(iE(Ot(r)))}function qq(r){var l=++iU;return Ot(r)+l}var Yq=qc(function(r,l){return r+l},0),Kq=Ah("ceil"),Xq=qc(function(r,l){return r/l},1),Zq=Ah("floor");function Jq(r){return r&&r.length?Bc(r,Pn,yh):n}function Qq(r,l){return r&&r.length?Bc(r,Je(l,2),yh):n}function eY(r){return jb(r,Pn)}function tY(r,l){return jb(r,Je(l,2))}function nY(r){return r&&r.length?Bc(r,Pn,xh):n}function oY(r,l){return r&&r.length?Bc(r,Je(l,2),xh):n}var iY=qc(function(r,l){return r*l},1),rY=Ah("round"),sY=qc(function(r,l){return r-l},0);function aY(r){return r&&r.length?ah(r,Pn):0}function lY(r,l){return r&&r.length?ah(r,Je(l,2)):0}return P.after=TG,P.ary=gE,P.assign=mW,P.assignIn=OE,P.assignInWith=sd,P.assignWith=_W,P.at=yW,P.before=vE,P.bind=Wh,P.bindAll=$q,P.bindKey=mE,P.castArray=HG,P.chain=fE,P.chunk=Z9,P.compact=J9,P.concat=Q9,P.cond=Nq,P.conforms=Cq,P.constant=Qh,P.countBy=aG,P.create=bW,P.curry=_E,P.curryRight=yE,P.debounce=bE,P.defaults=wW,P.defaultsDeep=EW,P.defer=IG,P.delay=DG,P.difference=ej,P.differenceBy=tj,P.differenceWith=nj,P.drop=oj,P.dropRight=ij,P.dropRightWhile=rj,P.dropWhile=sj,P.fill=aj,P.filter=uG,P.flatMap=fG,P.flatMapDeep=pG,P.flatMapDepth=hG,P.flatten=lE,P.flattenDeep=lj,P.flattenDepth=uj,P.flip=MG,P.flow=Sq,P.flowRight=Oq,P.fromPairs=cj,P.functions=OW,P.functionsIn=TW,P.groupBy=gG,P.initial=fj,P.intersection=pj,P.intersectionBy=hj,P.intersectionWith=gj,P.invert=DW,P.invertBy=MW,P.invokeMap=mG,P.iteratee=eg,P.keyBy=_G,P.keys=ln,P.keysIn=An,P.map=ed,P.mapKeys=PW,P.mapValues=RW,P.matches=Tq,P.matchesProperty=Iq,P.memoize=nd,P.merge=VW,P.mergeWith=TE,P.method=Dq,P.methodOf=Mq,P.mixin=tg,P.negate=od,P.nthArg=Pq,P.omit=LW,P.omitBy=zW,P.once=AG,P.orderBy=yG,P.over=Rq,P.overArgs=PG,P.overEvery=Vq,P.overSome=Lq,P.partial=qh,P.partialRight=wE,P.partition=bG,P.pick=BW,P.pickBy=IE,P.property=LE,P.propertyOf=zq,P.pull=yj,P.pullAll=cE,P.pullAllBy=bj,P.pullAllWith=wj,P.pullAt=Ej,P.range=Bq,P.rangeRight=Fq,P.rearg=RG,P.reject=xG,P.remove=xj,P.rest=VG,P.reverse=jh,P.sampleSize=NG,P.set=HW,P.setWith=UW,P.shuffle=CG,P.slice=$j,P.sortBy=OG,P.sortedUniq=Ij,P.sortedUniqBy=Dj,P.split=fq,P.spread=LG,P.tail=Mj,P.take=Aj,P.takeRight=Pj,P.takeRightWhile=Rj,P.takeWhile=Vj,P.tap=Jj,P.throttle=zG,P.thru=Qc,P.toArray=CE,P.toPairs=DE,P.toPairsIn=ME,P.toPath=Wq,P.toPlainObject=SE,P.transform=jW,P.unary=BG,P.union=Lj,P.unionBy=zj,P.unionWith=Bj,P.uniq=Fj,P.uniqBy=Hj,P.uniqWith=Uj,P.unset=GW,P.unzip=Gh,P.unzipWith=dE,P.update=WW,P.updateWith=qW,P.values=Rs,P.valuesIn=YW,P.without=jj,P.words=RE,P.wrap=FG,P.xor=Gj,P.xorBy=Wj,P.xorWith=qj,P.zip=Yj,P.zipObject=Kj,P.zipObjectDeep=Xj,P.zipWith=Zj,P.entries=DE,P.entriesIn=ME,P.extend=OE,P.extendWith=sd,tg(P,P),P.add=Yq,P.attempt=VE,P.camelCase=JW,P.capitalize=AE,P.ceil=Kq,P.clamp=KW,P.clone=UG,P.cloneDeep=GG,P.cloneDeepWith=WG,P.cloneWith=jG,P.conformsTo=qG,P.deburr=PE,P.defaultTo=kq,P.divide=Xq,P.endsWith=QW,P.eq=xo,P.escape=eq,P.escapeRegExp=tq,P.every=lG,P.find=cG,P.findIndex=sE,P.findKey=xW,P.findLast=dG,P.findLastIndex=aE,P.findLastKey=$W,P.floor=Zq,P.forEach=pE,P.forEachRight=hE,P.forIn=NW,P.forInRight=CW,P.forOwn=kW,P.forOwnRight=SW,P.get=Xh,P.gt=YG,P.gte=KG,P.has=IW,P.hasIn=Zh,P.head=uE,P.identity=Pn,P.includes=vG,P.indexOf=dj,P.inRange=XW,P.invoke=AW,P.isArguments=Vr,P.isArray=st,P.isArrayBuffer=XG,P.isArrayLike=Mn,P.isArrayLikeObject=Gt,P.isBoolean=ZG,P.isBuffer=Ki,P.isDate=JG,P.isElement=QG,P.isEmpty=eW,P.isEqual=tW,P.isEqualWith=nW,P.isError=Yh,P.isFinite=oW,P.isFunction=_i,P.isInteger=EE,P.isLength=id,P.isMap=xE,P.isMatch=iW,P.isMatchWith=rW,P.isNaN=sW,P.isNative=aW,P.isNil=uW,P.isNull=lW,P.isNumber=$E,P.isObject=Ht,P.isObjectLike=Ut,P.isPlainObject=gl,P.isRegExp=Kh,P.isSafeInteger=cW,P.isSet=NE,P.isString=rd,P.isSymbol=Un,P.isTypedArray=Ps,P.isUndefined=dW,P.isWeakMap=fW,P.isWeakSet=pW,P.join=vj,P.kebabCase=nq,P.last=to,P.lastIndexOf=mj,P.lowerCase=oq,P.lowerFirst=iq,P.lt=hW,P.lte=gW,P.max=Jq,P.maxBy=Qq,P.mean=eY,P.meanBy=tY,P.min=nY,P.minBy=oY,P.stubArray=og,P.stubFalse=ig,P.stubObject=Hq,P.stubString=Uq,P.stubTrue=jq,P.multiply=iY,P.nth=_j,P.noConflict=Aq,P.noop=ng,P.now=td,P.pad=rq,P.padEnd=sq,P.padStart=aq,P.parseInt=lq,P.random=ZW,P.reduce=wG,P.reduceRight=EG,P.repeat=uq,P.replace=cq,P.result=FW,P.round=rY,P.runInContext=le,P.sample=$G,P.size=kG,P.snakeCase=dq,P.some=SG,P.sortedIndex=Nj,P.sortedIndexBy=Cj,P.sortedIndexOf=kj,P.sortedLastIndex=Sj,P.sortedLastIndexBy=Oj,P.sortedLastIndexOf=Tj,P.startCase=pq,P.startsWith=hq,P.subtract=sY,P.sum=aY,P.sumBy=lY,P.template=gq,P.times=Gq,P.toFinite=yi,P.toInteger=ut,P.toLength=kE,P.toLower=vq,P.toNumber=no,P.toSafeInteger=vW,P.toString=Ot,P.toUpper=mq,P.trim=_q,P.trimEnd=yq,P.trimStart=bq,P.truncate=wq,P.unescape=Eq,P.uniqueId=qq,P.upperCase=xq,P.upperFirst=Jh,P.each=pE,P.eachRight=hE,P.first=uE,tg(P,(function(){var r={};return Bo(P,function(l,h){Tt.call(P.prototype,h)||(r[h]=l)}),r})(),{chain:!1}),P.VERSION=o,Xn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){P[r].placeholder=P}),Xn(["drop","take"],function(r,l){mt.prototype[r]=function(h){h=h===n?1:on(ut(h),0);var _=this.__filtered__&&!l?new mt(this):this.clone();return _.__filtered__?_.__takeCount__=pn(h,_.__takeCount__):_.__views__.push({size:pn(h,te),type:r+(_.__dir__<0?"Right":"")}),_},mt.prototype[r+"Right"]=function(h){return this.reverse()[r](h).reverse()}}),Xn(["filter","map","takeWhile"],function(r,l){var h=l+1,_=h==N||h==j;mt.prototype[r]=function($){var z=this.clone();return z.__iteratees__.push({iteratee:Je($,3),type:h}),z.__filtered__=z.__filtered__||_,z}}),Xn(["head","last"],function(r,l){var h="take"+(l?"Right":"");mt.prototype[r]=function(){return this[h](1).value()[0]}}),Xn(["initial","tail"],function(r,l){var h="drop"+(l?"":"Right");mt.prototype[r]=function(){return this.__filtered__?new mt(this):this[h](1)}}),mt.prototype.compact=function(){return this.filter(Pn)},mt.prototype.find=function(r){return this.filter(r).head()},mt.prototype.findLast=function(r){return this.reverse().find(r)},mt.prototype.invokeMap=pt(function(r,l){return typeof r=="function"?new mt(this):this.map(function(h){return ul(h,r,l)})}),mt.prototype.reject=function(r){return this.filter(od(Je(r)))},mt.prototype.slice=function(r,l){r=ut(r);var h=this;return h.__filtered__&&(r>0||l<0)?new mt(h):(r<0?h=h.takeRight(-r):r&&(h=h.drop(r)),l!==n&&(l=ut(l),h=l<0?h.dropRight(-l):h.take(l-r)),h)},mt.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},mt.prototype.toArray=function(){return this.take(te)},Bo(mt.prototype,function(r,l){var h=/^(?:filter|find|map|reject)|While$/.test(l),_=/^(?:head|last)$/.test(l),$=P[_?"take"+(l=="last"?"Right":""):l],z=_||/^find/.test(l);$&&(P.prototype[l]=function(){var K=this.__wrapped__,ie=_?[1]:arguments,ue=K instanceof mt,ke=ie[0],Oe=ue||st(K),Ie=function(ht){var yt=$.apply(P,Hi([ht],ie));return _&&Ve?yt[0]:yt};Oe&&h&&typeof ke=="function"&&ke.length!=1&&(ue=Oe=!1);var Ve=this.__chain__,Ge=!!this.__actions__.length,et=z&&!Ve,ft=ue&&!Ge;if(!z&&Oe){K=ft?K:new mt(this);var tt=r.apply(K,ie);return tt.__actions__.push({func:Qc,args:[Ie],thisArg:n}),new Jn(tt,Ve)}return et&&ft?r.apply(this,ie):(tt=this.thru(Ie),et?_?tt.value()[0]:tt.value():tt)})}),Xn(["pop","push","shift","sort","splice","unshift"],function(r){var l=Nc[r],h=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",_=/^(?:pop|shift)$/.test(r);P.prototype[r]=function(){var $=arguments;if(_&&!this.__chain__){var z=this.value();return l.apply(st(z)?z:[],$)}return this[h](function(K){return l.apply(st(K)?K:[],$)})}}),Bo(mt.prototype,function(r,l){var h=P[l];if(h){var _=h.name+"";Tt.call(Ts,_)||(Ts[_]=[]),Ts[_].push({name:l,func:h})}}),Ts[Wc(n,S).name]=[{name:"wrapper",func:n}],mt.prototype.clone=EU,mt.prototype.reverse=xU,mt.prototype.value=$U,P.prototype.at=Qj,P.prototype.chain=eG,P.prototype.commit=tG,P.prototype.next=nG,P.prototype.plant=iG,P.prototype.reverse=rG,P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=sG,P.prototype.first=P.prototype.head,nl&&(P.prototype[nl]=oG),P}),ks=tU();Or?((Or.exports=ks)._=ks,eh._=ks):cn._=ks}).call(c5)})(Ba,Ba.exports)),Ba.exports}var Z0=d5();const f5=["disabled"],p5={key:1,class:"cancelConfi"},h5=["href"],g5=["title"],v5=["disabled"],J0=nt({__name:"ControlsPath",props:{learningpath:{type:Object,default:null},view:{type:Boolean,default:!1}},emits:["change-class","change-user-view","finish-edit","draw-modules"],setup(e,{expose:t,emit:n}){const o=We(),i=gr(),s=X({}),a=X({}),u=X({});X(!1),X({});const{toObject:c,setNodes:f,setEdges:d,removeNodes:p,addNodes:g,nodes:v,findNode:w,updateNode:y}=lt(),x=e,S=X(!1),R=X(!0),I=X(!0),L=n;t({handleDrawModules:G});function U(){R.value=!R.value,L("change-class")}function V(){I.value=!I.value,L("change-user-view")}Le(()=>x.learningpath,Z=>{s.value=x.learningpath,Z.json.tree!=null?(o.state.view=="teacher"&&Z.json.tree.nodes.forEach(N=>{N.draggable=!1}),f(Z.json.tree.nodes),d(Z.json.tree.edges)):(f([]),d([])),x.view||za(p,St,g,v.value,800,o,y)});async function G(){setTimeout(()=>{_s(s.value,g,p,w)},300)}Ke(async()=>{if(s.value=x.learningpath,s.value.json.tree!==void 0){const Z=F0(x.learningpath.json.tree,o.state.view);f(Z.nodes),d(Z.edges);let N=[];s.value.json.tree.nodes.forEach(Q=>{N.push(w(Q.id))}),s.value.json.tree.nodes=N,_s(s.value,g,p,w),setTimeout(()=>{_s(s.value,g,p,w)},100)}x.view||(za(p,St,g,v.value,800,o,y),a.value=JSON.parse(JSON.stringify(c())),u.value=JSON.parse(JSON.stringify(x.learningpath)))});const q=async()=>{if(!s.value.name||!s.value.description)Qt({title:o.state.strings.flowchart_save_notification_title,text:o.state.strings.flowchart_save_notification_text_missing_strings,type:"error"});else{console.log("starting_node"),y("starting_node",{deletable:!0}),p(["starting_node"]),s.value.id==0&&(s.value.json!=""?s.value.json.modules=o.state.modules:s.value.json={modules:o.state.modules},o.state.modules=null);let Z=!1;if(s.value.json.tree&&(s.value.json.tree=await wp(s.value.json.tree,null),s.value.json.tree=vp(s.value.json.tree),Z=H0(s.value.json.tree),s.value.json.tree=mp(s.value.json.tree,"parentCourse","childCourse","starting_node")),Z&&!confirm(o.state.strings.flowchart_invalid_path_notification_title+`
`+o.state.strings.flowchart_save_notification_text))return;s.value.image||(s.value.image=""),await o.dispatch("saveLearningpath",s.value),B(!0),Qt({title:o.state.strings.title_save,text:o.state.strings.description_save,type:"success"})}},T=()=>{let Z=c();Z=Z.nodes.filter(N=>N.id!=="starting_node"),u.value.description==x.learningpath.description&&u.value.name==x.learningpath.name&&JSON.stringify(Z)==JSON.stringify(a.value.nodes)?B(!1):S.value=!S.value},W=$e(()=>o.state.undoNodes.length);function J(){o.commit("unsetUndoNodes")}const B=Z=>{Z&&T(),o.state.learningpath=null,o.state.learningPathID=0,o.state.editingadding=!1,o.state.editingrestriction=!1,o.state.editingpretest=!1,o.state.viewing=!1,L("finish-edit"),i.push({name:"learningpaths-edit-overview"})};return(Z,N)=>b(o).state.view!="teacher"&&!x.view?(O(),dt(b(Va),{key:0,class:"save-restore-controls",style:{"margin-top":"3rem"}},{default:Qe(()=>[I.value?(O(),D("button",{key:0,id:"save-learning-path",class:"btn btn-primary m-2",onClick:q},H(b(o).state.strings.save),1)):_e("",!0),m("button",{id:"cancel-learning-path",class:"btn btn-secondary m-2",disabled:S.value,onClick:T},H(b(o).state.strings.btncancel),9,f5),S.value?(O(),D("div",p5,[Ue(H(b(o).state.strings.flowchart_cancel_confirmation)+" ",1),m("button",{id:"cancel-learning-path",class:"btn btn-primary m-2",onClick:T},H(b(o).state.strings.flowchart_back_button),1),m("button",{id:"confim-cancel-learning-path",class:"btn btn-warning m-2",onClick:N[0]||(N[0]=Q=>B(!0))},H(b(o).state.strings.flowchart_cancel_button),1)])):_e("",!0),m("button",{class:"btn btn-warning m-2",onClick:U},H(R.value?b(o).state.strings.btndarktoggle:b(o).state.strings.btnlighttoggle),1),m("button",{class:"btn btn-info m-2",onClick:V},H(I.value?b(o).state.strings.btnstudenttoggle:b(o).state.strings.btneditortoggle),1),W.value?(O(),D("button",{key:2,class:"btn btn-warning m-2",onClick:J}," Undo last node deletion ")):_e("",!0),m("a",{href:b(o).state.wwwroot+"/backup/restorefile.php?contextid=1",target:"_blank",rel:"noreferrer noopener"},[m("button",{class:"btn btn-link",title:b(o).state.strings.btncreatecourse},H(b(o).state.strings.btncreatecourse),9,g5)],8,h5)]),_:1})):x.view?(O(),dt(b(Va),{key:1,class:"save-restore-controls"},{default:Qe(()=>[m("button",{id:"cancel-learning-path",class:"btn btn-secondary m-2",disabled:S.value,onClick:N[1]||(N[1]=Q=>B(!1))},H(b(o).state.strings.btncancel),9,v5)]),_:1})):_e("",!0)}},[["__scopeId","data-v-9f0b7964"]]),m5={class:"list-group"},_5={key:0},y5={key:0},b5=["innerHTML"],w5={key:1},E5={key:0},x5={key:0},$5=["innerHTML"],N5={key:1,class:"or-separator"},C5={key:1},Fa=nt({__name:"NodeInformation",props:{data:{type:Object,required:!0},parentnode:{type:Object,required:!0},mobile:{type:Boolean,default:!1},startanimation:{type:Boolean,default:!0}},setup(e){const t=e,n=We(),o=X(!1),i=X("initial"),s=X("fa-info"),a=()=>{o.value=!o.value},u=$e(()=>n.state.strings.DARK_RED),c=$e(()=>n.state.strings.LIGHT_GRAY);X({}),X({}),$e(()=>t.data.completion.feedback.restriction.before||null),$e(()=>t.data.completion.feedback.completion.before||null),$e(()=>{let w={start_date:null,end_date:null};return t.data.completion&&Object.entries(t.data.completion.restrictioncriteria).forEach(([y,x])=>{y.includes("timed")&&Object.entries(x).forEach(([S,R])=>{R.inbetween_info!=null&&Object.entries(R.inbetween_info).forEach(([I,L])=>{I=="starttime"&&(w.start_date==null||w.start_date>L)?w.start_date=L:I=="endtime"&&(w.end_date==null||w.end_date>L)&&(w.end_date=L)})})}),w=f(w),w}),$e(()=>t.data.first_enrolled?new Date(t.data.first_enrolled*1e3).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):null),$e(()=>t.data.completion?t.data.completion.feedback.completion.inbetween:null);const f=w=>{const y={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1};return Object.entries(w).forEach(([x,S])=>{if(typeof S=="string"){const[R,I]=S.split(" ");if(R&&I){const[L,U,V]=R.split(".").map(Number),[G,q]=I.split(":").map(Number),T=new Date(Date.UTC(V,U-1,L,G,q));w[x]=T.toLocaleString("en-US",y)}}}),w};Ke(()=>{if(d(),t.startanimation&&t.data.animations&&t.data.animations.seencompletion===!1){const w=Le(()=>t.startanimation,(y,x)=>{y===!1&&(i.value="fadingOut",setTimeout(()=>{s.value="fa-info",i.value="fadingIn",setTimeout(()=>{d(),w()},500)},500))})}});const d=()=>{t.data.completion&&t.data.completion.feedback&&t.data.completion.feedback.status=="completed"&&(t.data.animations&&t.data.animations.seencompletion==!1?setTimeout(()=>{i.value="rotating",setTimeout(()=>{s.value="fa-check"},500)},1e3):s.value="fa-check")},p=X({zIndex:3}),g=()=>{p.value.zIndex=4},v=()=>{p.value.zIndex=3};return(w,y)=>(O(),D("div",{class:Be({"card-hover":o.value,[e.data.node_id+"_node_info_listener"]:!0,"icon-container":!e.mobile,"card-container":e.mobile}),onFocus:g,onBlur:v,tabindex:"0",style:Me(p.value)},[m("div",{class:Be(["information",{"information-rotating":i.value==="rotating"}]),style:Me({backgroundColor:u.value}),onClick:Xe(a,["stop"])},[m("i",{class:Be(["fa",s.value,{"fa-info-mobile":e.mobile,"icon-fadingIn":i.value==="fadingIn","icon-fadingOut":i.value==="fadingOut"}])},null,2)],6),pe(Ci,{name:e.mobile?"fade":"unfold"},{default:Qe(()=>[o.value?(O(),D("div",{key:0,class:Be({"additional-card":!e.mobile}),style:Me({backgroundColor:c.value}),onMousedown:y[30]||(y[30]=Xe(()=>{},["stop"])),onMousemove:y[31]||(y[31]=Xe(()=>{},["stop"])),onMouseup:y[32]||(y[32]=Xe(()=>{},["stop"]))},[m("ul",m5,[t.data.description?(O(),D("li",{key:0,class:"list-group-item",style:{"user-select":"text"},onMousedown:y[3]||(y[3]=Xe(()=>{},["stop"])),onMousemove:y[4]||(y[4]=Xe(()=>{},["stop"])),onMouseup:y[5]||(y[5]=Xe(()=>{},["stop"]))},[y[33]||(y[33]=m("i",{class:"fa fa-pencil"},null,-1)),m("b",null,H(b(n).state.strings.completion_description_feedback),1),m("div",{class:"list-group-text",style:{"user-select":"text"},onMousedown:y[0]||(y[0]=Xe(()=>{},["stop"])),onMousemove:y[1]||(y[1]=Xe(()=>{},["stop"])),onMouseup:y[2]||(y[2]=Xe(()=>{},["stop"]))},H(t.data.description),33)],32)):_e("",!0),t.data.estimate_duration&&typeof t.data.estimate_duration=="string"?(O(),D("li",{key:1,class:"list-group-item",style:{"user-select":"text"},onMousedown:y[9]||(y[9]=Xe(()=>{},["stop"])),onMousemove:y[10]||(y[10]=Xe(()=>{},["stop"])),onMouseup:y[11]||(y[11]=Xe(()=>{},["stop"]))},[y[34]||(y[34]=m("i",{class:"fa fa-spinner"},null,-1)),m("b",null,H(b(n).state.strings.completion_estimated_duration_feedback),1),m("div",{class:"list-group-text",style:{"user-select":"text"},onMousedown:y[6]||(y[6]=Xe(()=>{},["stop"])),onMousemove:y[7]||(y[7]=Xe(()=>{},["stop"])),onMouseup:y[8]||(y[8]=Xe(()=>{},["stop"]))},H(t.data.estimate_duration),33)],32)):_e("",!0),m("li",{class:"list-group-item",style:{"user-select":"text"},onMousedown:y[18]||(y[18]=Xe(()=>{},["stop"])),onMousemove:y[19]||(y[19]=Xe(()=>{},["stop"])),onMouseup:y[20]||(y[20]=Xe(()=>{},["stop"]))},[y[36]||(y[36]=m("i",{class:"fa fa-tasks"},null,-1)),m("b",null,H(b(n).state.strings.completion_restriction_feedback),1),m("div",{class:"list-group-text",style:{"user-select":"text"},onMousedown:y[15]||(y[15]=Xe(()=>{},["stop"])),onMousemove:y[16]||(y[16]=Xe(()=>{},["stop"])),onMouseup:y[17]||(y[17]=Xe(()=>{},["stop"]))},[t.data.completion.feedback.restriction.information?(O(),D("div",_5,[(O(!0),D(Fe,null,ct(t.data.completion.feedback.restriction.information,x=>(O(),D("div",{key:x,style:{"user-select":"text"},onMousedown:y[12]||(y[12]=Xe(()=>{},["stop"])),onMousemove:y[13]||(y[13]=Xe(()=>{},["stop"])),onMouseup:y[14]||(y[14]=Xe(()=>{},["stop"]))},[x!=""?(O(),D("div",y5,[y[35]||(y[35]=Ue(" - ",-1)),m("span",{innerHTML:x},null,8,b5)])):_e("",!0)],32))),128))])):(O(),D("div",w5,H(b(n).state.strings.completion_nothing_defined_feedback),1))],32)],32),m("li",{class:"list-group-item",style:{"user-select":"text"},onMousedown:y[27]||(y[27]=Xe(()=>{},["stop"])),onMousemove:y[28]||(y[28]=Xe(()=>{},["stop"])),onMouseup:y[29]||(y[29]=Xe(()=>{},["stop"]))},[y[38]||(y[38]=m("i",{class:"fa fa-tasks"},null,-1)),m("b",null,H(b(n).state.strings.completion_completion_feedback),1),m("div",{class:"list-group-text",style:{"user-select":"text"},onMousedown:y[24]||(y[24]=Xe(()=>{},["stop"])),onMousemove:y[25]||(y[25]=Xe(()=>{},["stop"])),onMouseup:y[26]||(y[26]=Xe(()=>{},["stop"]))},[t.data.completion.feedback.completion.information?(O(),D("div",E5,[(O(!0),D(Fe,null,ct(t.data.completion.feedback.completion.information,(x,S)=>(O(),D("div",{key:x,style:{"user-select":"text"},onMousedown:y[21]||(y[21]=Xe(()=>{},["stop"])),onMousemove:y[22]||(y[22]=Xe(()=>{},["stop"])),onMouseup:y[23]||(y[23]=Xe(()=>{},["stop"]))},[x!=""?(O(),D("div",x5,[y[37]||(y[37]=Ue("  ",-1)),m("span",{innerHTML:x},null,8,$5)])):_e("",!0),S<t.data.completion.feedback.completion.information.length-1?(O(),D("div",N5,H(b(n).state.strings.completion_edge_or),1)):_e("",!0)],32))),128))])):(O(),D("div",C5,H(b(n).state.strings.completion_nothing_defined_feedback),1))],32)],32)])],38)):_e("",!0)]),_:1},8,["name"])],38))}},[["__scopeId","data-v-bb5071d5"]]),k5={class:"progress-container"},Ha=nt({__name:"ProgressBar",props:{progress:{type:Number,required:!0}},setup(e){const t=We(),n=e;return(o,i)=>(O(),D("div",k5,[m("div",{class:Be(["progress-bar",{"bg-success":n.progress>0}]),role:"progressbar",style:Me({width:n.progress+"%"}),"aria-valuenow":"{{ props.progress }}","aria-valuemin":"0","aria-valuemax":"100"},null,6),m("div",{class:"progress-label",style:Me(n.progress>0?"font-size: 0.8em":"font-size: 0.55em")},H(n.progress>0?n.progress+"%":b(t).state.strings.nodes_items_no_progress),5)]))}},[["__scopeId","data-v-a9018ccf"]]),S5={key:0},O5={key:0,class:"feedback-title"},T5={key:1,class:"feedback-title"},I5={class:"feedback-list"},D5=["innerHTML"],M5={key:0,class:"or-text"},Zu=nt({__name:"UserFeedbackBlock",props:{data:{type:Object,default:()=>({})},title:{type:String,required:!0}},setup(e){const t=We();function n(o,i,s){if(o)i==0&&o.charAt(0).toUpperCase()+o.slice(1);else return"";return i==s-1&&!o.endsWith("</ul>")?o+".":o}return(o,i)=>e.data&&e.data[0]!==""?(O(),D("div",S5,[e.title=="completion_higher"?(O(),D("div",O5,H(b(t).state.strings["nodes_feedback_"+e.title]),1)):_e("",!0),e.title=="restriction_completion_before"?(O(),D("div",T5,H(b(t).state.strings.nodes_feedback_completion_before),1)):_e("",!0),m("ul",I5,[(O(!0),D(Fe,null,ct(e.data,(s,a)=>(O(),D("li",{key:a+"_"+e.title,class:"feedback-item"},[m("span",{innerHTML:n(s,a,e.data.length)},null,8,D5),a<e.data.length-1?(O(),D("span",M5,H(b(t).state.strings.course_condition_concatination_or),1)):_e("",!0)]))),128))])])):_e("",!0)}},[["__scopeId","data-v-fd66da20"]]),A5={key:0,class:"status-text"},P5={key:1,class:"status-text"},R5={key:2,class:"status-text"},V5={key:3},L5={key:4},z5={key:5},B5={key:6},F5={key:7,class:"status-text"},H5={key:8},U5={key:9,class:"status-text"},j5={key:10},Ua=nt({__name:"UserInformation",props:{data:{type:Object,required:!0},mobile:{type:Boolean,default:!1}},emits:["focusChanged"],setup(e,{emit:t}){const n=X(!1),o=X({}),i=We(),s=e,a=()=>{n.value=!n.value,n.value||(u.value.zIndex=2),f()};qd(()=>{n.value?o.value={position:s.mobile?"relative":"absolute",top:"100%",left:"0",width:"100%",backgroundColor:"#EAEAEA",padding:"10px",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)"}:o.value={}});const u=X({zIndex:s.mobile?1:2}),c=t,f=()=>{s.mobile||(n.value?u.value.zIndex=4:u.value.zIndex=2,c("focusChanged",{}))},d=()=>{s.mobile||(u.value.zIndex=2)};return(p,g)=>(O(),D("div",{class:Be(["card-container",{"no-bottom-radius":n.value,[e.data.node_id+"_user_info_listener"]:!0}]),tabindex:"0",style:Me(u.value),onClick:g[3]||(g[3]=Xe(()=>{},["stop"])),onFocus:f,onBlur:d},[m("div",{class:Be(["toggle-button",{"no-bottom-radius":n.value}]),onClick:Xe(a,["stop"])},[m("i",{class:Be(["fa fa-comment",{"fa-comment-mobile":e.mobile}])},null,2)],2),pe(Ci,{name:"fade"},{default:Qe(()=>[n.value?(O(),D("div",{key:0,style:Me(o.value),class:"selectable",onMousedown:g[0]||(g[0]=Xe(()=>{},["stop"])),onMousemove:g[1]||(g[1]=Xe(()=>{},["stop"])),onMouseup:g[2]||(g[2]=Xe(()=>{},["stop"]))},[e.data.completion&&e.data.completion.feedback.status_restriction&&e.data.completion.feedback.restriction.before_valid?(O(),D("div",A5,[g[4]||(g[4]=m("i",{class:"fa fa-info-circle"},null,-1)),m("span",null,H(b(i).state.strings["node_access_restriction_"+e.data.completion.feedback.status_restriction]),1)])):_e("",!0),e.data.completion&&e.data.completion.feedback.status_restriction==="inbetween"?(O(),D("div",P5,[g[5]||(g[5]=m("i",{class:"fa fa-info-circle"},null,-1)),m("span",null,H(b(i).state.strings["node_access_restriction_"+e.data.completion.feedback.status_restriction]),1)])):_e("",!0),e.data.completion&&e.data.completion.feedback.status_restriction!=="inbetween"&&!e.data.completion.feedback.restriction.before_valid?(O(),D("div",R5,[g[6]||(g[6]=m("i",{class:"fa fa-info-circle"},null,-1)),m("span",null,H(b(i).state.strings.node_access_restriction_after),1)])):_e("",!0),e.data.completion&&e.data.completion.feedback.status_restriction=="before"?(O(),D("div",V5,[pe(Zu,{data:Object.values(e.data.completion.feedback.restriction.before_active),title:"restriction_before"},null,8,["data"])])):_e("",!0),e.data.completion&&e.data.completion.feedback.status_restriction=="before"&&e.data.completion.feedback.restriction.before_timed?(O(),D("div",L5,[m("span",null,H(e.data.completion.feedback.restriction.before_timed),1)])):_e("",!0),e.data.completion&&e.data.completion.feedback.restriction.inbetween&&e.data.completion.feedback.status_restriction=="inbetween"?(O(),D("div",z5,[pe(Zu,{data:Object.values(e.data.completion.feedback.restriction.inbetween),title:"restriction_before"},null,8,["data"])])):_e("",!0),e.data.completion&&e.data.completion.feedback.status_restriction=="inbetween"&&e.data.completion.feedback.restriction.inbetween_timed?(O(),D("div",B5,[m("span",null,H(e.data.completion.feedback.restriction.inbetween_timed),1)])):_e("",!0),e.data.completion&&e.data.completion.feedback.status_completion?(O(),D("div",F5,[g[7]||(g[7]=m("i",{class:"fa fa-info-circle"},null,-1)),m("span",null,H(b(i).state.strings["node_access_completion_"+e.data.completion.feedback.status_completion]),1)])):_e("",!0),e.data.completion&&e.data.completion.feedback.completion?(O(),D("div",H5,[pe(Zu,{data:e.data.completion.feedback.completion[e.data.completion.feedback.status_completion],title:"restriction_before"},null,8,["data"])])):_e("",!0),e.data.completion&&e.data.completion.feedback.status_completion==="after"&&e.data.completion.feedback.completion.after_all&&Object.values(e.data.completion.feedback.completion.after_all).length>0?(O(),D("div",U5,[g[8]||(g[8]=m("i",{class:"fa fa-info-circle"},null,-1)),m("span",null,H(b(i).state.strings.node_access_completion_after_all),1)])):_e("",!0),e.data.completion&&e.data.completion.feedback.status_completion==="after"&&e.data.completion.feedback.completion.after_all&&Object.values(e.data.completion.feedback.completion.after_all).length>0?(O(),D("div",j5,[pe(Zu,{data:Object.values(e.data.completion.feedback.completion.after_all),title:"restriction_before"},null,8,["data"])])):_e("",!0)],36)):_e("",!0)]),_:1})],38))}},[["__scopeId","data-v-7ed7e77c"]]),G5={class:"card-header text-center"},W5={class:"row align-items-center"},q5={class:"col"},Y5={key:0,class:"overlay"},K5={key:1,class:"overlay"},X5=["title"],Z5={key:0},J5={class:"card-title"},Q5={key:0},e3={value:"",selected:""},t3=["value"],n3={key:1},o3={class:"card-title"},i3={class:"fullname-container"},r3={key:2,class:"row mb-2 mt-2"},s3={class:"col-4 text-left"},a3={class:"col-8",style:{display:"flex","justify-content":"end"}},l3={key:0,class:"card-footer"},Q0=nt({__name:"CustomNode",props:{data:{type:Object,required:!0},learningpath:{type:Object,required:!0},editorview:{type:Boolean,required:!0}},emits:["change-module","delete-node","zoomOnParent"],setup(e,{emit:t}){const n=We(),o=X({}),i=e,s=$e(()=>!n.state.availablecourses||!i.data.course_node_id||i.data.course_node_id.length===0?[]:n.state.availablecourses.filter(V=>i.data.course_node_id.includes(V.course_node_id[0])).map(V=>({fullname:V.fullname,id:[V.course_node_id[0]]}))),a=X(null),u=X(""),c=$e(()=>i.learningpath.json&&i.learningpath.json.modules?i.learningpath.json.modules:{}),f=$e(()=>d(i.data));Ke(()=>{u.value=i.data;let V=i.learningpath.json;typeof V=="string"&&V!=""&&(V=JSON.parse(i.learningpath.json)),i.learningpath.json&&i.learningpath.json.modules?c.value=i.learningpath.json.modules:c.value={}});const d=V=>{if(V.selected_course_image)return V.selected_course_image;if(V.selected_image)return V.selected_image;if(V.image_paths)return V.image_paths;if(n.state.learningpath&&n.state.learningpath.image)return n.state.learningpath.image},p=()=>{n.state.node=i.data},g=()=>{n.state.node=i.data,n.state.editingpretest=!0,n.state.editingadding=!1,n.state.editingrestriction=!1},v=()=>{n.state.node=i.data,n.state.editingpretest=!1,n.state.editingadding=!1,n.state.editingrestriction=!0},w=V=>{n.commit("setstartNode",{startnode:V})},y=t,x=V=>{typeof V.module=="string"&&delete V.module,y("change-module",V);const G=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window});a.value.dispatchEvent(G)},S=$e(()=>i.editorview?"":n.state.strings.LIGHT_GRAY),R=$e(()=>({backgroundColor:i.data.color,filter:"invert(100%)",width:"10px",height:"10px"})),I={borderColor:n.state.strings.GRAY,borderWidth:"2px"},L=()=>{y("delete-node",i.data)},U=()=>{y("zoomOnParent",{})};return(V,G)=>{const q=Xr("tooltip");return O(),D("div",null,[m("div",{class:"card",style:Me([{minHeight:"200px",width:"400px"},I])},[m("div",G5,[e.editorview?_e("",!0):(O(),dt(Fa,{key:0,onFocusChanged:U,data:e.data,parentnode:o.value},null,8,["data","parentnode"])),m("div",W5,[m("div",q5,[m("h5",null,H(b(Yn)(e.data.fullname||b(n).state.strings.nodes_collection,45)),1),b(n).state.view!="teacher"&&e.editorview?(O(),D("button",{key:0,class:"btn btn-danger btn-sm",style:{position:"absolute",top:"5px",right:"5px"},onClick:Xe(L,["stop"])},[...G[4]||(G[4]=[m("i",{class:"fa fa-trash"},null,-1)])])):_e("",!0)])])]),m("div",{class:"card-body",style:Me({backgroundColor:S.value})},[m("div",{class:"card-img dashboard-card-img",style:Me({height:"10rem",backgroundImage:f.value?"url("+f.value+")":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:f.value?"":"#cccccc"})},[b(n).state.view!="teacher"&&e.editorview?(O(),D("div",Y5,[Ye((O(),D("span",null,[m("button",{class:"icon-link",onClick:v},[...G[5]||(G[5]=[m("i",{class:"fa fa-lock"},null,-1)])])])),[[q,b(n).state.strings.nodes_edit_restriction]]),Ye((O(),D("span",null,[m("button",{class:"icon-link",onClick:g},[...G[6]||(G[6]=[m("i",{class:"fa fa-tasks"},null,-1)])])])),[[q,b(n).state.strings.edit_node_pretest]]),Ye((O(),D("span",null,[m("button",{class:"icon-link","data-toggle":"modal","data-target":"#nodeModal","data-placement":"right",onClick:p},[...G[7]||(G[7]=[m("i",{class:"fa fa-pencil"},null,-1)])])])),[[q,b(n).state.strings.edit_course_node]])])):e.editorview?_e("",!0):(O(),D("div",K5,[m("span",{title:b(n).state.strings.nodes_edit_restriction},[...G[8]||(G[8]=[m("button",{class:"icon-link"},[m("i",{class:"fa fa-lock"})],-1)])],8,X5)]))],4),Object.keys(c.value).length>0&&b(n).state.view!="teacher"&&e.editorview?(O(),D("div",Z5,[m("h5",J5,H(b(n).state.strings.nodes_learning_module),1),u.value?(O(),D("div",Q5,[Ye(m("select",{ref_key:"selectModule",ref:a,"onUpdate:modelValue":G[0]||(G[0]=T=>u.value.module=T),class:"form-select form-control",onChange:G[1]||(G[1]=T=>x(u.value))},[m("option",e3,H(b(n).state.strings.nodes_select_module),1),(O(!0),D(Fe,null,ct(c.value,T=>(O(),D("option",{key:T.id,value:T.id},H(T.name),9,t3))),128))],544),[[Oi,u.value.module]])])):_e("",!0)])):_e("",!0),e.editorview?(O(),D("div",n3,[m("h5",o3,H(b(n).state.strings.nodes_included_courses),1),(O(!0),D(Fe,null,ct(s.value,(T,W)=>(O(),D("div",{key:W,class:"card-text"},[m("div",i3,H(b(Yn)(T.fullname,35)),1)]))),128))])):(O(),D("div",r3,[m("div",s3,[m("b",null,H(b(n).state.strings.nodes_progress),1)]),m("div",a3,[pe(Ha,{progress:0})])]))],4),!e.editorview&&e.data?(O(),D("div",l3,[pe(Ua,{data:e.data},null,8,["data"])])):_e("",!0)],4),pe(b(Pt),{id:"target",type:"target",position:b(Re).Top,style:Me(R.value),onMousedown:G[2]||(G[2]=()=>w(e.data.node_id))},null,8,["position","style"]),pe(b(Pt),{id:"source",type:"source",position:b(Re).Bottom,style:Me(R.value),onMousedown:G[3]||(G[3]=()=>w(e.data.node_id))},null,8,["position","style"])])}}},[["__scopeId","data-v-61d4cf43"]]),u3={id:"nodeModal",tabindex:"-1",role:"dialog",class:"modal fade","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},c3={class:"modal-dialog modal-lg",role:"document"},d3={class:"modal-content"},f3={class:"modal-header bg-primary text-white"},p3={id:"exampleModalLabel",class:"modal-title"},h3={class:"modal-body"},g3={class:"form-group"},v3={for:"fullname"},m3={class:"form-group"},_3={for:"description"},y3=["placeholder"],b3={class:"form-group"},w3={for:"estimate_duration"},E3={class:"form-group"},x3={class:"form-control-static"},$3={class:"form-group"},N3={class:"form-control-static"},C3={key:0,class:"mb-2"},k3={key:0,class:"image-preview-container"},S3=["src"],O3={key:1,class:"image-selection-container"},T3=["onClick"],I3=["src"],D3={key:1,class:"image-preview-container"},M3=["src"],A3={key:2,class:"image-selection-container"},P3=["onClick"],R3=["src"],V3={class:"modal-footer"},L3={type:"button",class:"btn btn-secondary","data-dismiss":"modal"},z3=nt({__name:"ModalNode",props:{learningpath:{type:Object,required:!0}},emits:["save-edit"],setup(e,{emit:t}){const n=We(),o=X(null),i=X(""),s=X(""),a=X(""),u=X(""),c=X(""),f=X(""),d=e,p=X(!1),g=X(""),v=X(!1),w=X(""),y=X({}),x=L=>{g.value=L,p.value=!1},S=L=>{w.value=L,v.value=!1};Ke(async()=>{n.state.lpimages.helpingslider&&(y.value=n.state.lpimages.node_background_image),o.value=d.learningpath});const R=t,I=()=>{n.commit("updatedNode",{fullname:i.value,description:s.value,estimate_duration:a.value,shortname:u.value,selected_image:g.value,selected_course_image:w.value,node_id:f.value}),R("save-edit",{fullname:i.value,description:s.value,estimate_duration:a.value,selected_image:g.value,selected_course_image:w.value,node_id:f.value})};return Le(()=>n.state.node,L=>{i.value=L.fullname,s.value=L.description,a.value=L.estimate_duration,u.value=L.shortname,c.value=L.tags,g.value=L.selected_image,w.value=L.selected_course_image,f.value=L.node_id}),(L,U)=>(O(),D("div",null,[m("div",u3,[m("div",c3,[m("div",d3,[m("div",f3,[m("h5",p3,H(b(n).state.strings.modals_edit)+" "+H(i.value),1),U[7]||(U[7]=m("button",{type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},[m("span",{"aria-hidden":"true"},"")],-1))]),m("div",h3,[m("div",g3,[m("label",v3,[m("b",null,H(b(n).state.strings.modals_longname),1)]),Ye(m("input",{id:"fullname","onUpdate:modelValue":U[0]||(U[0]=V=>i.value=V),class:"form-control",type:"text"},null,512),[[Mt,i.value]])]),m("div",m3,[m("label",_3,[m("b",null,H(b(n).state.strings.modals_description),1)]),Ye(m("textarea",{id:"description","onUpdate:modelValue":U[1]||(U[1]=V=>s.value=V),class:"form-control",placeholder:b(n).state.strings.modals_no_description,rows:"5"},null,8,y3),[[Mt,s.value]])]),m("div",b3,[m("label",w3,[m("b",null,[Ue(H(b(n).state.strings.estimate_duration)+" ",1),U[8]||(U[8]=m("i",{class:"fa fa-spinner"},null,-1)),U[9]||(U[9]=Ue(" : ",-1))])]),Ye(m("input",{id:"estimate_duration","onUpdate:modelValue":U[2]||(U[2]=V=>a.value=V),class:"form-control",type:"text"},null,512),[[Mt,a.value]])]),m("div",E3,[m("b",null,H(b(n).state.strings.modals_shortname),1),m("p",x3,H(u.value),1)]),m("div",$3,[m("b",null,[Ue(H(b(n).state.strings.modals_tags),1),U[10]||(U[10]=m("i",{class:"fa fa-tag"},null,-1)),U[11]||(U[11]=Ue(" :",-1))]),m("p",N3,H(c.value),1)]),m("div",null,[m("b",null,[Ue(H(b(n).state.strings.modals_backgroundimage)+" ",1),m("i",{class:Be(b(n).state.version?"fa-solid fa-image":"fa fa-picture-o")},null,2),U[12]||(U[12]=Ue(" :",-1))]),m("p",null,H(b(n).state.strings.modals_select_stock_image_description),1),b(n).state.node&&b(n).state.node.imagepaths&&Object.keys(b(n).state.node.imagepaths).length>0?(O(),D("div",C3,[m("p",null,H(b(n).state.strings.modals_select_course_image_description),1),m("button",{type:"button",class:"btn btn-info",onClick:U[3]||(U[3]=V=>v.value=!v.value)},H(b(n).state.strings.modals_select_button),1),w.value?(O(),D("div",k3,[m("img",{src:w.value,alt:"Selected Image",class:"image-preview"},null,8,S3),m("button",{class:"deselect-btn",onClick:U[4]||(U[4]=V=>w.value="")},H(b(n).state.strings.modals_deselect_button),1)])):_e("",!0),v.value?(O(),D("div",O3,[(O(!0),D(Fe,null,ct(b(n).state.node.imagepaths,V=>(O(),D("div",{key:V,class:"image-option",onClick:G=>S(V)},[m("img",{src:V,alt:"Image",class:"image-option-img"},null,8,I3)],8,T3))),128))])):_e("",!0)])):_e("",!0),m("button",{type:"button",class:"btn btn-info",onClick:U[5]||(U[5]=V=>p.value=!p.value)},H(b(n).state.strings.modals_select_stock_image),1),g.value?(O(),D("div",D3,[m("img",{src:g.value,alt:"Selected Image",class:"image-preview"},null,8,M3),m("button",{onClick:U[6]||(U[6]=V=>g.value=""),class:"deselect-btn"},"Deselect")])):_e("",!0),p.value?(O(),D("div",A3,[(O(!0),D(Fe,null,ct(y.value,V=>(O(),D("div",{key:V,class:"image-option",onClick:G=>x(V.path)},[m("img",{src:V.path,alt:"Image",class:"image-option-img"},null,8,R3)],8,P3))),128))])):_e("",!0)])]),m("div",V3,[m("button",L3,H(b(n).state.strings.modals_close),1),m("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal",onClick:I},H(b(n).state.strings.modals_save_changes),1)])])])])]))}},[["__scopeId","data-v-bc10cda0"]]),B3={id:"courseModal",tabindex:"-1",role:"dialog",class:"modal fade","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},F3={class:"modal-dialog modal-lg",role:"document"},H3={class:"modal-content"},U3={class:"modal-header bg-primary text-white"},j3={id:"exampleModalLabel",class:"modal-title"},G3={class:"modal-body"},W3={class:"form-group"},q3={for:"fullname"},Y3={class:"form-group"},K3={for:"description"},X3=["placeholder"],Z3={class:"modal-footer"},J3={type:"button",class:"btn btn-secondary","data-dismiss":"modal"},Q3={__name:"ModalCourse",props:{learningpath:{type:Object,required:!0}},emits:["save-edit-course"],setup(e,{emit:t}){const n=We(),o=X(""),i=X(""),s=t,a=()=>{n.commit("updatedCourseNode",{fullname:o.value,description:i.value,courseid:n.state.nodecourse[0]}),s("save-edit-course",{fullname:o.value,description:i.value})};Le(()=>n.state.nodecourse,f=>{if(n.state.node.course_node_id_description&&n.state.node.course_node_id_description[f])o.value=n.state.node.course_node_id_description[f].fullname,i.value=n.state.node.course_node_id_description[f].description;else{const d=c(f);o.value=d.fullname,i.value=u(d.summary)}});function u(f){const d=document.createElement("div");return d.innerHTML=f,d.textContent||d.innerText||""}function c(f){return n.state.availablecourses.find(d=>d.course_node_id.includes(f[0]))}return(f,d)=>(O(),D("div",null,[m("div",B3,[m("div",F3,[m("div",H3,[m("div",U3,[m("h5",j3,H(b(n).state.strings.modals_edit)+" "+H(o.value),1),d[2]||(d[2]=m("button",{type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},[m("span",{"aria-hidden":"true"},"")],-1))]),m("div",G3,[m("div",W3,[m("label",q3,[m("b",null,H(b(n).state.strings.modals_longname),1)]),Ye(m("input",{id:"fullname","onUpdate:modelValue":d[0]||(d[0]=p=>o.value=p),class:"form-control",type:"text"},null,512),[[Mt,o.value]])]),m("div",Y3,[m("label",K3,[m("b",null,H(b(n).state.strings.modals_description),1)]),Ye(m("textarea",{id:"description","onUpdate:modelValue":d[1]||(d[1]=p=>i.value=p),class:"form-control",placeholder:b(n).state.strings.modals_no_description,rows:"5"},null,8,X3),[[Mt,i.value]])])]),m("div",Z3,[m("button",J3,H(b(n).state.strings.modals_close),1),m("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal",onClick:a},H(b(n).state.strings.modals_save_changes),1)])])])])]))}};var eV={value:()=>{}};function Ep(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Ju(n)}function Ju(e){this._=e}function tV(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Ju.prototype=Ep.prototype={constructor:Ju,on:function(e,t){var n=this._,o=tV(e+"",n),i,s=-1,a=o.length;if(arguments.length<2){for(;++s<a;)if((i=(e=o[s]).type)&&(i=nV(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=o[s]).type)n[i]=e1(n[i],e.name,t);else if(t==null)for(i in n)n[i]=e1(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ju(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,s;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],o=0,i=s.length;o<i;++o)s[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,s=o.length;i<s;++i)o[i].value.apply(t,n)}};function nV(e,t){for(var n=0,o=e.length,i;n<o;++n)if((i=e[n]).name===t)return i.value}function e1(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=eV,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var xp="http://www.w3.org/1999/xhtml";const t1={svg:"http://www.w3.org/2000/svg",xhtml:xp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),t1.hasOwnProperty(t)?{space:t1[t],local:e}:e}function oV(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xp&&t.documentElement.namespaceURI===xp?t.createElement(e):t.createElementNS(n,e)}}function iV(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function n1(e){var t=Qu(e);return(t.local?iV:oV)(t)}function rV(){}function $p(e){return e==null?rV:function(){return this.querySelector(e)}}function sV(e){typeof e!="function"&&(e=$p(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,u=o[i]=new Array(a),c,f,d=0;d<a;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f);return new zn(o,this._parents)}function aV(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function lV(){return[]}function o1(e){return e==null?lV:function(){return this.querySelectorAll(e)}}function uV(e){return function(){return aV(e.apply(this,arguments))}}function cV(e){typeof e=="function"?e=uV(e):e=o1(e);for(var t=this._groups,n=t.length,o=[],i=[],s=0;s<n;++s)for(var a=t[s],u=a.length,c,f=0;f<u;++f)(c=a[f])&&(o.push(e.call(c,c.__data__,f,a)),i.push(c));return new zn(o,i)}function i1(e){return function(){return this.matches(e)}}function r1(e){return function(t){return t.matches(e)}}var dV=Array.prototype.find;function fV(e){return function(){return dV.call(this.children,e)}}function pV(){return this.firstElementChild}function hV(e){return this.select(e==null?pV:fV(typeof e=="function"?e:r1(e)))}var gV=Array.prototype.filter;function vV(){return Array.from(this.children)}function mV(e){return function(){return gV.call(this.children,e)}}function _V(e){return this.selectAll(e==null?vV:mV(typeof e=="function"?e:r1(e)))}function yV(e){typeof e!="function"&&(e=i1(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,u=o[i]=[],c,f=0;f<a;++f)(c=s[f])&&e.call(c,c.__data__,f,s)&&u.push(c);return new zn(o,this._parents)}function s1(e){return new Array(e.length)}function bV(){return new zn(this._enter||this._groups.map(s1),this._parents)}function ec(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ec.prototype={constructor:ec,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function wV(e){return function(){return e}}function EV(e,t,n,o,i,s){for(var a=0,u,c=t.length,f=s.length;a<f;++a)(u=t[a])?(u.__data__=s[a],o[a]=u):n[a]=new ec(e,s[a]);for(;a<c;++a)(u=t[a])&&(i[a]=u)}function xV(e,t,n,o,i,s,a){var u,c,f=new Map,d=t.length,p=s.length,g=new Array(d),v;for(u=0;u<d;++u)(c=t[u])&&(g[u]=v=a.call(c,c.__data__,u,t)+"",f.has(v)?i[u]=c:f.set(v,c));for(u=0;u<p;++u)v=a.call(e,s[u],u,s)+"",(c=f.get(v))?(o[u]=c,c.__data__=s[u],f.delete(v)):n[u]=new ec(e,s[u]);for(u=0;u<d;++u)(c=t[u])&&f.get(g[u])===c&&(i[u]=c)}function $V(e){return e.__data__}function NV(e,t){if(!arguments.length)return Array.from(this,$V);var n=t?xV:EV,o=this._parents,i=this._groups;typeof e!="function"&&(e=wV(e));for(var s=i.length,a=new Array(s),u=new Array(s),c=new Array(s),f=0;f<s;++f){var d=o[f],p=i[f],g=p.length,v=CV(e.call(d,d&&d.__data__,f,o)),w=v.length,y=u[f]=new Array(w),x=a[f]=new Array(w),S=c[f]=new Array(g);n(d,p,y,x,S,v,t);for(var R=0,I=0,L,U;R<w;++R)if(L=y[R]){for(R>=I&&(I=R+1);!(U=x[I])&&++I<w;);L._next=U||null}}return a=new zn(a,o),a._enter=u,a._exit=c,a}function CV(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kV(){return new zn(this._exit||this._groups.map(s1),this._parents)}function SV(e,t,n){var o=this.enter(),i=this,s=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),o&&i?o.merge(i).order():i}function OV(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,s=o.length,a=Math.min(i,s),u=new Array(i),c=0;c<a;++c)for(var f=n[c],d=o[c],p=f.length,g=u[c]=new Array(p),v,w=0;w<p;++w)(v=f[w]||d[w])&&(g[w]=v);for(;c<i;++c)u[c]=n[c];return new zn(u,this._parents)}function TV(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],i=o.length-1,s=o[i],a;--i>=0;)(a=o[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function IV(e){e||(e=DV);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}for(var n=this._groups,o=n.length,i=new Array(o),s=0;s<o;++s){for(var a=n[s],u=a.length,c=i[s]=new Array(u),f,d=0;d<u;++d)(f=a[d])&&(c[d]=f);c.sort(t)}return new zn(i,this._parents).order()}function DV(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function MV(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function AV(){return Array.from(this)}function PV(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,s=o.length;i<s;++i){var a=o[i];if(a)return a}return null}function RV(){let e=0;for(const t of this)++e;return e}function VV(){return!this.node()}function LV(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i=t[n],s=0,a=i.length,u;s<a;++s)(u=i[s])&&e.call(u,u.__data__,s,i);return this}function zV(e){return function(){this.removeAttribute(e)}}function BV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function FV(e,t){return function(){this.setAttribute(e,t)}}function HV(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function UV(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function jV(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function GV(e,t){var n=Qu(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?BV:zV:typeof t=="function"?n.local?jV:UV:n.local?HV:FV)(n,t))}function a1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function WV(e){return function(){this.style.removeProperty(e)}}function qV(e,t,n){return function(){this.style.setProperty(e,t,n)}}function YV(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function KV(e,t,n){return arguments.length>1?this.each((t==null?WV:typeof t=="function"?YV:qV)(e,t,n??"")):ys(this.node(),e)}function ys(e,t){return e.style.getPropertyValue(t)||a1(e).getComputedStyle(e,null).getPropertyValue(t)}function XV(e){return function(){delete this[e]}}function ZV(e,t){return function(){this[e]=t}}function JV(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function QV(e,t){return arguments.length>1?this.each((t==null?XV:typeof t=="function"?JV:ZV)(e,t)):this.node()[e]}function l1(e){return e.trim().split(/^|\s+/)}function Np(e){return e.classList||new u1(e)}function u1(e){this._node=e,this._names=l1(e.getAttribute("class")||"")}u1.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function c1(e,t){for(var n=Np(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function d1(e,t){for(var n=Np(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function e4(e){return function(){c1(this,e)}}function t4(e){return function(){d1(this,e)}}function n4(e,t){return function(){(t.apply(this,arguments)?c1:d1)(this,e)}}function o4(e,t){var n=l1(e+"");if(arguments.length<2){for(var o=Np(this.node()),i=-1,s=n.length;++i<s;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?n4:t?e4:t4)(n,t))}function i4(){this.textContent=""}function r4(e){return function(){this.textContent=e}}function s4(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function a4(e){return arguments.length?this.each(e==null?i4:(typeof e=="function"?s4:r4)(e)):this.node().textContent}function l4(){this.innerHTML=""}function u4(e){return function(){this.innerHTML=e}}function c4(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function d4(e){return arguments.length?this.each(e==null?l4:(typeof e=="function"?c4:u4)(e)):this.node().innerHTML}function f4(){this.nextSibling&&this.parentNode.appendChild(this)}function p4(){return this.each(f4)}function h4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function g4(){return this.each(h4)}function v4(e){var t=typeof e=="function"?e:n1(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function m4(){return null}function _4(e,t){var n=typeof e=="function"?e:n1(e),o=t==null?m4:typeof t=="function"?t:$p(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function y4(){var e=this.parentNode;e&&e.removeChild(this)}function b4(){return this.each(y4)}function w4(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function E4(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function x4(e){return this.select(e?E4:w4)}function $4(e){return arguments.length?this.property("__data__",e):this.node().__data__}function N4(e){return function(t){e.call(this,t,this.__data__)}}function C4(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function k4(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++o]=s;++o?t.length=o:delete this.__on}}}function S4(e,t,n){return function(){var o=this.__on,i,s=N4(t);if(o){for(var a=0,u=o.length;a<u;++a)if((i=o[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(i):this.__on=[i]}}function O4(e,t,n){var o=C4(e+""),i,s=o.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,f=u.length,d;c<f;++c)for(i=0,d=u[c];i<s;++i)if((a=o[i]).type===d.type&&a.name===d.name)return d.value}return}for(u=t?S4:k4,i=0;i<s;++i)this.each(u(o[i],t,n));return this}function f1(e,t,n){var o=a1(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function T4(e,t){return function(){return f1(this,e,t)}}function I4(e,t){return function(){return f1(this,e,t.apply(this,arguments))}}function D4(e,t){return this.each((typeof t=="function"?I4:T4)(e,t))}function*M4(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,s=o.length,a;i<s;++i)(a=o[i])&&(yield a)}var p1=[null];function zn(e,t){this._groups=e,this._parents=t}function ja(){return new zn([[document.documentElement]],p1)}function A4(){return this}zn.prototype=ja.prototype={constructor:zn,select:sV,selectAll:cV,selectChild:hV,selectChildren:_V,filter:yV,data:NV,enter:bV,exit:kV,join:SV,merge:OV,selection:A4,order:TV,sort:IV,call:MV,nodes:AV,node:PV,size:RV,empty:VV,each:LV,attr:GV,style:KV,property:QV,classed:o4,text:a4,html:d4,raise:p4,lower:g4,append:v4,insert:_4,remove:b4,clone:x4,datum:$4,on:O4,dispatch:D4,[Symbol.iterator]:M4};function Li(e){return typeof e=="string"?new zn([[document.querySelector(e)]],[document.documentElement]):new zn([[e]],p1)}function P4(e){let t;for(;t=e.sourceEvent;)e=t;return e}function zi(e,t){if(e=P4(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Cp={capture:!0,passive:!1};function kp(e){e.preventDefault(),e.stopImmediatePropagation()}function R4(e){var t=e.document.documentElement,n=Li(e).on("dragstart.drag",kp,Cp);"onselectstart"in t?n.on("selectstart.drag",kp,Cp):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function V4(e,t){var n=e.document.documentElement,o=Li(e).on("dragstart.drag",null);t&&(o.on("click.drag",kp,Cp),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Sp(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function h1(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Ga(){}var Wa=.7,tc=1/Wa,bs="\\s*([+-]?\\d+)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L4=/^#([0-9a-f]{3,8})$/,z4=new RegExp(`^rgb\\(${bs},${bs},${bs}\\)$`),B4=new RegExp(`^rgb\\(${Vo},${Vo},${Vo}\\)$`),F4=new RegExp(`^rgba\\(${bs},${bs},${bs},${qa}\\)$`),H4=new RegExp(`^rgba\\(${Vo},${Vo},${Vo},${qa}\\)$`),U4=new RegExp(`^hsl\\(${qa},${Vo},${Vo}\\)$`),j4=new RegExp(`^hsla\\(${qa},${Vo},${Vo},${qa}\\)$`),g1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sp(Ga,Ya,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:v1,formatHex:v1,formatHex8:G4,formatHsl:W4,formatRgb:m1,toString:m1});function v1(){return this.rgb().formatHex()}function G4(){return this.rgb().formatHex8()}function W4(){return E1(this).formatHsl()}function m1(){return this.rgb().formatRgb()}function Ya(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=L4.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_1(t):n===3?new kn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?nc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?nc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=z4.exec(e))?new kn(t[1],t[2],t[3],1):(t=B4.exec(e))?new kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=F4.exec(e))?nc(t[1],t[2],t[3],t[4]):(t=H4.exec(e))?nc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=U4.exec(e))?w1(t[1],t[2]/100,t[3]/100,1):(t=j4.exec(e))?w1(t[1],t[2]/100,t[3]/100,t[4]):g1.hasOwnProperty(e)?_1(g1[e]):e==="transparent"?new kn(NaN,NaN,NaN,0):null}function _1(e){return new kn(e>>16&255,e>>8&255,e&255,1)}function nc(e,t,n,o){return o<=0&&(e=t=n=NaN),new kn(e,t,n,o)}function q4(e){return e instanceof Ga||(e=Ya(e)),e?(e=e.rgb(),new kn(e.r,e.g,e.b,e.opacity)):new kn}function Op(e,t,n,o){return arguments.length===1?q4(e):new kn(e,t,n,o??1)}function kn(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Sp(kn,Op,h1(Ga,{brighter(e){return e=e==null?tc:Math.pow(tc,e),new kn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wa:Math.pow(Wa,e),new kn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kn(Cr(this.r),Cr(this.g),Cr(this.b),oc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y1,formatHex:y1,formatHex8:Y4,formatRgb:b1,toString:b1}));function y1(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}`}function Y4(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}${kr((isNaN(this.opacity)?1:this.opacity)*255)}`}function b1(){const e=oc(this.opacity);return`${e===1?"rgb(":"rgba("}${Cr(this.r)}, ${Cr(this.g)}, ${Cr(this.b)}${e===1?")":`, ${e})`}`}function oc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Cr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kr(e){return e=Cr(e),(e<16?"0":"")+e.toString(16)}function w1(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yo(e,t,n,o)}function E1(e){if(e instanceof yo)return new yo(e.h,e.s,e.l,e.opacity);if(e instanceof Ga||(e=Ya(e)),!e)return new yo;if(e instanceof yo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),s=Math.max(t,n,o),a=NaN,u=s-i,c=(s+i)/2;return u?(t===s?a=(n-o)/u+(n<o)*6:n===s?a=(o-t)/u+2:a=(t-n)/u+4,u/=c<.5?s+i:2-s-i,a*=60):u=c>0&&c<1?0:a,new yo(a,u,c,e.opacity)}function K4(e,t,n,o){return arguments.length===1?E1(e):new yo(e,t,n,o??1)}function yo(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Sp(yo,K4,h1(Ga,{brighter(e){return e=e==null?tc:Math.pow(tc,e),new yo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wa:Math.pow(Wa,e),new yo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new kn(Tp(e>=240?e-240:e+120,i,o),Tp(e,i,o),Tp(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new yo(x1(this.h),ic(this.s),ic(this.l),oc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=oc(this.opacity);return`${e===1?"hsl(":"hsla("}${x1(this.h)}, ${ic(this.s)*100}%, ${ic(this.l)*100}%${e===1?")":`, ${e})`}`}}));function x1(e){return e=(e||0)%360,e<0?e+360:e}function ic(e){return Math.max(0,Math.min(1,e||0))}function Tp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $1=e=>()=>e;function X4(e,t){return function(n){return e+n*t}}function Z4(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function J4(e){return(e=+e)==1?N1:function(t,n){return n-t?Z4(t,n,e):$1(isNaN(t)?n:t)}}function N1(e,t){var n=t-e;return n?X4(e,n):$1(isNaN(e)?t:e)}const C1=(function e(t){var n=J4(t);function o(i,s){var a=n((i=Op(i)).r,(s=Op(s)).r),u=n(i.g,s.g),c=n(i.b,s.b),f=N1(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=u(d),i.b=c(d),i.opacity=f(d),i+""}}return o.gamma=e,o})(1);function Bi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ip=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dp=new RegExp(Ip.source,"g");function Q4(e){return function(){return e}}function eL(e){return function(t){return e(t)+""}}function tL(e,t){var n=Ip.lastIndex=Dp.lastIndex=0,o,i,s,a=-1,u=[],c=[];for(e=e+"",t=t+"";(o=Ip.exec(e))&&(i=Dp.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),u[a]?u[a]+=s:u[++a]=s),(o=o[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:Bi(o,i)})),n=Dp.lastIndex;return n<t.length&&(s=t.slice(n),u[a]?u[a]+=s:u[++a]=s),u.length<2?c[0]?eL(c[0].x):Q4(t):(t=c.length,function(f){for(var d=0,p;d<t;++d)u[(p=c[d]).i]=p.x(f);return u.join("")})}var k1=180/Math.PI,Mp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function S1(e,t,n,o,i,s){var a,u,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(u=Math.sqrt(n*n+o*o))&&(n/=u,o/=u,c/=u),e*o<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*k1,skewX:Math.atan(c)*k1,scaleX:a,scaleY:u}}var rc;function nL(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Mp:S1(t.a,t.b,t.c,t.d,t.e,t.f)}function oL(e){return e==null||(rc||(rc=document.createElementNS("http://www.w3.org/2000/svg","g")),rc.setAttribute("transform",e),!(e=rc.transform.baseVal.consolidate()))?Mp:(e=e.matrix,S1(e.a,e.b,e.c,e.d,e.e,e.f))}function O1(e,t,n,o){function i(f){return f.length?f.pop()+" ":""}function s(f,d,p,g,v,w){if(f!==p||d!==g){var y=v.push("translate(",null,t,null,n);w.push({i:y-4,x:Bi(f,p)},{i:y-2,x:Bi(d,g)})}else(p||g)&&v.push("translate("+p+t+g+n)}function a(f,d,p,g){f!==d?(f-d>180?d+=360:d-f>180&&(f+=360),g.push({i:p.push(i(p)+"rotate(",null,o)-2,x:Bi(f,d)})):d&&p.push(i(p)+"rotate("+d+o)}function u(f,d,p,g){f!==d?g.push({i:p.push(i(p)+"skewX(",null,o)-2,x:Bi(f,d)}):d&&p.push(i(p)+"skewX("+d+o)}function c(f,d,p,g,v,w){if(f!==p||d!==g){var y=v.push(i(v)+"scale(",null,",",null,")");w.push({i:y-4,x:Bi(f,p)},{i:y-2,x:Bi(d,g)})}else(p!==1||g!==1)&&v.push(i(v)+"scale("+p+","+g+")")}return function(f,d){var p=[],g=[];return f=e(f),d=e(d),s(f.translateX,f.translateY,d.translateX,d.translateY,p,g),a(f.rotate,d.rotate,p,g),u(f.skewX,d.skewX,p,g),c(f.scaleX,f.scaleY,d.scaleX,d.scaleY,p,g),f=d=null,function(v){for(var w=-1,y=g.length,x;++w<y;)p[(x=g[w]).i]=x.x(v);return p.join("")}}}var iL=O1(nL,"px, ","px)","deg)"),rL=O1(oL,", ",")",")"),sL=1e-12;function T1(e){return((e=Math.exp(e))+1/e)/2}function aL(e){return((e=Math.exp(e))-1/e)/2}function lL(e){return((e=Math.exp(2*e))-1)/(e+1)}const uL=(function e(t,n,o){function i(s,a){var u=s[0],c=s[1],f=s[2],d=a[0],p=a[1],g=a[2],v=d-u,w=p-c,y=v*v+w*w,x,S;if(y<sL)S=Math.log(g/f)/t,x=function(G){return[u+G*v,c+G*w,f*Math.exp(t*G*S)]};else{var R=Math.sqrt(y),I=(g*g-f*f+o*y)/(2*f*n*R),L=(g*g-f*f-o*y)/(2*g*n*R),U=Math.log(Math.sqrt(I*I+1)-I),V=Math.log(Math.sqrt(L*L+1)-L);S=(V-U)/t,x=function(G){var q=G*S,T=T1(U),W=f/(n*R)*(T*lL(t*q+U)-aL(U));return[u+W*v,c+W*w,f*T/T1(t*q+U)]}}return x.duration=S*1e3*t/Math.SQRT2,x}return i.rho=function(s){var a=Math.max(.001,+s),u=a*a,c=u*u;return e(a,u,c)},i})(Math.SQRT2,2,4);var ws=0,Ka=0,Xa=0,I1=1e3,sc,Za,ac=0,Sr=0,lc=0,Ja=typeof performance=="object"&&performance.now?performance:Date,D1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ap(){return Sr||(D1(cL),Sr=Ja.now()+lc)}function cL(){Sr=0}function uc(){this._call=this._time=this._next=null}uc.prototype=M1.prototype={constructor:uc,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ap():+n)+(t==null?0:+t),!this._next&&Za!==this&&(Za?Za._next=this:sc=this,Za=this),this._call=e,this._time=n,Pp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pp())}};function M1(e,t,n){var o=new uc;return o.restart(e,t,n),o}function dL(){Ap(),++ws;for(var e=sc,t;e;)(t=Sr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ws}function A1(){Sr=(ac=Ja.now())+lc,ws=Ka=0;try{dL()}finally{ws=0,pL(),Sr=0}}function fL(){var e=Ja.now(),t=e-ac;t>I1&&(lc-=t,ac=e)}function pL(){for(var e,t=sc,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:sc=n);Za=e,Pp(o)}function Pp(e){if(!ws){Ka&&(Ka=clearTimeout(Ka));var t=e-Sr;t>24?(e<1/0&&(Ka=setTimeout(A1,e-Ja.now()-lc)),Xa&&(Xa=clearInterval(Xa))):(Xa||(ac=Ja.now(),Xa=setInterval(fL,I1)),ws=1,D1(A1))}}function P1(e,t,n){var o=new uc;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,n),o}var hL=Ep("start","end","cancel","interrupt"),gL=[],R1=0,V1=1,Rp=2,cc=3,L1=4,Vp=5,dc=6;function fc(e,t,n,o,i,s){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;vL(e,n,{name:t,index:o,group:i,on:hL,tween:gL,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:R1})}function Lp(e,t){var n=bo(e,t);if(n.state>R1)throw new Error("too late; already scheduled");return n}function Lo(e,t){var n=bo(e,t);if(n.state>cc)throw new Error("too late; already running");return n}function bo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function vL(e,t,n){var o=e.__transition,i;o[t]=n,n.timer=M1(s,0,n.time);function s(f){n.state=V1,n.timer.restart(a,n.delay,n.time),n.delay<=f&&a(f-n.delay)}function a(f){var d,p,g,v;if(n.state!==V1)return c();for(d in o)if(v=o[d],v.name===n.name){if(v.state===cc)return P1(a);v.state===L1?(v.state=dc,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete o[d]):+d<t&&(v.state=dc,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete o[d])}if(P1(function(){n.state===cc&&(n.state=L1,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=Rp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Rp){for(n.state=cc,i=new Array(g=n.tween.length),d=0,p=-1;d<g;++d)(v=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++p]=v);i.length=p+1}}function u(f){for(var d=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=Vp,1),p=-1,g=i.length;++p<g;)i[p].call(e,d);n.state===Vp&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=dc,n.timer.stop(),delete o[t];for(var f in o)return;delete e.__transition}}function pc(e,t){var n=e.__transition,o,i,s=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){s=!1;continue}i=o.state>Rp&&o.state<Vp,o.state=dc,o.timer.stop(),o.on.call(i?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}s&&delete e.__transition}}function mL(e){return this.each(function(){pc(this,e)})}function _L(e,t){var n,o;return function(){var i=Lo(this,e),s=i.tween;if(s!==n){o=n=s;for(var a=0,u=o.length;a<u;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function yL(e,t,n){var o,i;if(typeof n!="function")throw new Error;return function(){var s=Lo(this,e),a=s.tween;if(a!==o){i=(o=a).slice();for(var u={name:t,value:n},c=0,f=i.length;c<f;++c)if(i[c].name===t){i[c]=u;break}c===f&&i.push(u)}s.tween=i}}function bL(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=bo(this.node(),n).tween,i=0,s=o.length,a;i<s;++i)if((a=o[i]).name===e)return a.value;return null}return this.each((t==null?_L:yL)(n,e,t))}function zp(e,t,n){var o=e._id;return e.each(function(){var i=Lo(this,o);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return bo(i,o).value[t]}}function z1(e,t){var n;return(typeof t=="number"?Bi:t instanceof Ya?C1:(n=Ya(t))?(t=n,C1):tL)(e,t)}function wL(e){return function(){this.removeAttribute(e)}}function EL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xL(e,t,n){var o,i=n+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===o?s:s=t(o=a,n)}}function $L(e,t,n){var o,i=n+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?s:s=t(o=a,n)}}function NL(e,t,n){var o,i,s;return function(){var a,u=n(this),c;return u==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=u+"",a===c?null:a===o&&c===i?s:(i=c,s=t(o=a,u)))}}function CL(e,t,n){var o,i,s;return function(){var a,u=n(this),c;return u==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=u+"",a===c?null:a===o&&c===i?s:(i=c,s=t(o=a,u)))}}function kL(e,t){var n=Qu(e),o=n==="transform"?rL:z1;return this.attrTween(e,typeof t=="function"?(n.local?CL:NL)(n,o,zp(this,"attr."+e,t)):t==null?(n.local?EL:wL)(n):(n.local?$L:xL)(n,o,t))}function SL(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function OL(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function TL(e,t){var n,o;function i(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&OL(e,s)),n}return i._value=t,i}function IL(e,t){var n,o;function i(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&SL(e,s)),n}return i._value=t,i}function DL(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Qu(e);return this.tween(n,(o.local?TL:IL)(o,t))}function ML(e,t){return function(){Lp(this,e).delay=+t.apply(this,arguments)}}function AL(e,t){return t=+t,function(){Lp(this,e).delay=t}}function PL(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ML:AL)(t,e)):bo(this.node(),t).delay}function RL(e,t){return function(){Lo(this,e).duration=+t.apply(this,arguments)}}function VL(e,t){return t=+t,function(){Lo(this,e).duration=t}}function LL(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?RL:VL)(t,e)):bo(this.node(),t).duration}function zL(e,t){if(typeof t!="function")throw new Error;return function(){Lo(this,e).ease=t}}function BL(e){var t=this._id;return arguments.length?this.each(zL(t,e)):bo(this.node(),t).ease}function FL(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Lo(this,e).ease=n}}function HL(e){if(typeof e!="function")throw new Error;return this.each(FL(this._id,e))}function UL(e){typeof e!="function"&&(e=i1(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,u=o[i]=[],c,f=0;f<a;++f)(c=s[f])&&e.call(c,c.__data__,f,s)&&u.push(c);return new li(o,this._parents,this._name,this._id)}function jL(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,s=Math.min(o,i),a=new Array(o),u=0;u<s;++u)for(var c=t[u],f=n[u],d=c.length,p=a[u]=new Array(d),g,v=0;v<d;++v)(g=c[v]||f[v])&&(p[v]=g);for(;u<o;++u)a[u]=t[u];return new li(a,this._parents,this._name,this._id)}function GL(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function WL(e,t,n){var o,i,s=GL(t)?Lp:Lo;return function(){var a=s(this,e),u=a.on;u!==o&&(i=(o=u).copy()).on(t,n),a.on=i}}function qL(e,t){var n=this._id;return arguments.length<2?bo(this.node(),n).on.on(e):this.each(WL(n,e,t))}function YL(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function KL(){return this.on("end.remove",YL(this._id))}function XL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$p(e));for(var o=this._groups,i=o.length,s=new Array(i),a=0;a<i;++a)for(var u=o[a],c=u.length,f=s[a]=new Array(c),d,p,g=0;g<c;++g)(d=u[g])&&(p=e.call(d,d.__data__,g,u))&&("__data__"in d&&(p.__data__=d.__data__),f[g]=p,fc(f[g],t,n,g,f,bo(d,n)));return new li(s,this._parents,t,n)}function ZL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=o1(e));for(var o=this._groups,i=o.length,s=[],a=[],u=0;u<i;++u)for(var c=o[u],f=c.length,d,p=0;p<f;++p)if(d=c[p]){for(var g=e.call(d,d.__data__,p,c),v,w=bo(d,n),y=0,x=g.length;y<x;++y)(v=g[y])&&fc(v,t,n,y,g,w);s.push(g),a.push(d)}return new li(s,a,t,n)}var JL=ja.prototype.constructor;function QL(){return new JL(this._groups,this._parents)}function e8(e,t){var n,o,i;return function(){var s=ys(this,e),a=(this.style.removeProperty(e),ys(this,e));return s===a?null:s===n&&a===o?i:i=t(n=s,o=a)}}function B1(e){return function(){this.style.removeProperty(e)}}function t8(e,t,n){var o,i=n+"",s;return function(){var a=ys(this,e);return a===i?null:a===o?s:s=t(o=a,n)}}function n8(e,t,n){var o,i,s;return function(){var a=ys(this,e),u=n(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(e),ys(this,e))),a===c?null:a===o&&c===i?s:(i=c,s=t(o=a,u))}}function o8(e,t){var n,o,i,s="style."+t,a="end."+s,u;return function(){var c=Lo(this,e),f=c.on,d=c.value[s]==null?u||(u=B1(t)):void 0;(f!==n||i!==d)&&(o=(n=f).copy()).on(a,i=d),c.on=o}}function i8(e,t,n){var o=(e+="")=="transform"?iL:z1;return t==null?this.styleTween(e,e8(e,o)).on("end.style."+e,B1(e)):typeof t=="function"?this.styleTween(e,n8(e,o,zp(this,"style."+e,t))).each(o8(this._id,e)):this.styleTween(e,t8(e,o,t),n).on("end.style."+e,null)}function r8(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function s8(e,t,n){var o,i;function s(){var a=t.apply(this,arguments);return a!==i&&(o=(i=a)&&r8(e,a,n)),o}return s._value=t,s}function a8(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,s8(e,t,n??""))}function l8(e){return function(){this.textContent=e}}function u8(e){return function(){var t=e(this);this.textContent=t??""}}function c8(e){return this.tween("text",typeof e=="function"?u8(zp(this,"text",e)):l8(e==null?"":e+""))}function d8(e){return function(t){this.textContent=e.call(this,t)}}function f8(e){var t,n;function o(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&d8(i)),t}return o._value=e,o}function p8(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,f8(e))}function h8(){for(var e=this._name,t=this._id,n=F1(),o=this._groups,i=o.length,s=0;s<i;++s)for(var a=o[s],u=a.length,c,f=0;f<u;++f)if(c=a[f]){var d=bo(c,t);fc(c,e,n,f,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new li(o,this._parents,e,n)}function g8(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(s,a){var u={value:a},c={value:function(){--i===0&&s()}};n.each(function(){var f=Lo(this,o),d=f.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),f.on=t}),i===0&&s()})}var v8=0;function li(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function F1(){return++v8}var ui=ja.prototype;li.prototype={constructor:li,select:XL,selectAll:ZL,selectChild:ui.selectChild,selectChildren:ui.selectChildren,filter:UL,merge:jL,selection:QL,transition:h8,call:ui.call,nodes:ui.nodes,node:ui.node,size:ui.size,empty:ui.empty,each:ui.each,on:qL,attr:kL,attrTween:DL,style:i8,styleTween:a8,text:c8,textTween:p8,remove:KL,tween:bL,delay:PL,duration:LL,ease:BL,easeVarying:HL,end:g8,[Symbol.iterator]:ui[Symbol.iterator]};function m8(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _8={time:null,delay:0,duration:250,ease:m8};function y8(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function b8(e){var t,n;e instanceof li?(t=e._id,e=e._name):(t=F1(),(n=_8).time=Ap(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,s=0;s<i;++s)for(var a=o[s],u=a.length,c,f=0;f<u;++f)(c=a[f])&&fc(c,e,t,f,a,n||y8(c,t));return new li(o,this._parents,e,t)}ja.prototype.interrupt=mL,ja.prototype.transition=b8;const hc=e=>()=>e;function w8(e,{sourceEvent:t,target:n,transform:o,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function ci(e,t,n){this.k=e,this.x=t,this.y=n}ci.prototype={constructor:ci,scale:function(e){return e===1?this:new ci(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ci(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Bp=new ci(1,0,0);ci.prototype;function Fp(e){e.stopImmediatePropagation()}function Qa(e){e.preventDefault(),e.stopImmediatePropagation()}function E8(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function x8(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function H1(){return this.__zoom||Bp}function $8(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function N8(){return navigator.maxTouchPoints||"ontouchstart"in this}function C8(e,t,n){var o=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function k8(){var e=E8,t=x8,n=C8,o=$8,i=N8,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,c=uL,f=Ep("start","zoom","end"),d,p,g,v=500,w=150,y=0,x=10;function S(N){N.property("__zoom",H1).on("wheel.zoom",q,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",W).filter(i).on("touchstart.zoom",J).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(N,Q,j,ne){var Y=N.selection?N.selection():N;Y.property("__zoom",H1),N!==Y?U(N,Q,j,ne):Y.interrupt().each(function(){V(this,arguments).event(ne).start().zoom(null,typeof Q=="function"?Q.apply(this,arguments):Q).end()})},S.scaleBy=function(N,Q,j,ne){S.scaleTo(N,function(){var Y=this.__zoom.k,fe=typeof Q=="function"?Q.apply(this,arguments):Q;return Y*fe},j,ne)},S.scaleTo=function(N,Q,j,ne){S.transform(N,function(){var Y=t.apply(this,arguments),fe=this.__zoom,oe=j==null?L(Y):typeof j=="function"?j.apply(this,arguments):j,te=fe.invert(oe),ge=typeof Q=="function"?Q.apply(this,arguments):Q;return n(I(R(fe,ge),oe,te),Y,a)},j,ne)},S.translateBy=function(N,Q,j,ne){S.transform(N,function(){return n(this.__zoom.translate(typeof Q=="function"?Q.apply(this,arguments):Q,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),a)},null,ne)},S.translateTo=function(N,Q,j,ne,Y){S.transform(N,function(){var fe=t.apply(this,arguments),oe=this.__zoom,te=ne==null?L(fe):typeof ne=="function"?ne.apply(this,arguments):ne;return n(Bp.translate(te[0],te[1]).scale(oe.k).translate(typeof Q=="function"?-Q.apply(this,arguments):-Q,typeof j=="function"?-j.apply(this,arguments):-j),fe,a)},ne,Y)};function R(N,Q){return Q=Math.max(s[0],Math.min(s[1],Q)),Q===N.k?N:new ci(Q,N.x,N.y)}function I(N,Q,j){var ne=Q[0]-j[0]*N.k,Y=Q[1]-j[1]*N.k;return ne===N.x&&Y===N.y?N:new ci(N.k,ne,Y)}function L(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function U(N,Q,j,ne){N.on("start.zoom",function(){V(this,arguments).event(ne).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(ne).end()}).tween("zoom",function(){var Y=this,fe=arguments,oe=V(Y,fe).event(ne),te=t.apply(Y,fe),ge=j==null?L(te):typeof j=="function"?j.apply(Y,fe):j,Ee=Math.max(te[1][0]-te[0][0],te[1][1]-te[0][1]),ae=Y.__zoom,me=typeof Q=="function"?Q.apply(Y,fe):Q,Ne=c(ae.invert(ge).concat(Ee/ae.k),me.invert(ge).concat(Ee/me.k));return function(re){if(re===1)re=me;else{var ye=Ne(re),ve=Ee/ye[2];re=new ci(ve,ge[0]-ye[0]*ve,ge[1]-ye[1]*ve)}oe.zoom(null,re)}})}function V(N,Q,j){return!j&&N.__zooming||new G(N,Q)}function G(N,Q){this.that=N,this.args=Q,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,Q),this.taps=0}G.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,Q){return this.mouse&&N!=="mouse"&&(this.mouse[1]=Q.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=Q.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=Q.invert(this.touch1[0])),this.that.__zoom=Q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var Q=Li(this.that).datum();f.call(N,this.that,new w8(N,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:f}),Q)}};function q(N,...Q){if(!e.apply(this,arguments))return;var j=V(this,Q).event(N),ne=this.__zoom,Y=Math.max(s[0],Math.min(s[1],ne.k*Math.pow(2,o.apply(this,arguments)))),fe=zi(N);if(j.wheel)(j.mouse[0][0]!==fe[0]||j.mouse[0][1]!==fe[1])&&(j.mouse[1]=ne.invert(j.mouse[0]=fe)),clearTimeout(j.wheel);else{if(ne.k===Y)return;j.mouse=[fe,ne.invert(fe)],pc(this),j.start()}Qa(N),j.wheel=setTimeout(oe,w),j.zoom("mouse",n(I(R(ne,Y),j.mouse[0],j.mouse[1]),j.extent,a));function oe(){j.wheel=null,j.end()}}function T(N,...Q){if(g||!e.apply(this,arguments))return;var j=N.currentTarget,ne=V(this,Q,!0).event(N),Y=Li(N.view).on("mousemove.zoom",ge,!0).on("mouseup.zoom",Ee,!0),fe=zi(N,j),oe=N.clientX,te=N.clientY;R4(N.view),Fp(N),ne.mouse=[fe,this.__zoom.invert(fe)],pc(this),ne.start();function ge(ae){if(Qa(ae),!ne.moved){var me=ae.clientX-oe,Ne=ae.clientY-te;ne.moved=me*me+Ne*Ne>y}ne.event(ae).zoom("mouse",n(I(ne.that.__zoom,ne.mouse[0]=zi(ae,j),ne.mouse[1]),ne.extent,a))}function Ee(ae){Y.on("mousemove.zoom mouseup.zoom",null),V4(ae.view,ne.moved),Qa(ae),ne.event(ae).end()}}function W(N,...Q){if(e.apply(this,arguments)){var j=this.__zoom,ne=zi(N.changedTouches?N.changedTouches[0]:N,this),Y=j.invert(ne),fe=j.k*(N.shiftKey?.5:2),oe=n(I(R(j,fe),ne,Y),t.apply(this,Q),a);Qa(N),u>0?Li(this).transition().duration(u).call(U,oe,ne,N):Li(this).call(S.transform,oe,ne,N)}}function J(N,...Q){if(e.apply(this,arguments)){var j=N.touches,ne=j.length,Y=V(this,Q,N.changedTouches.length===ne).event(N),fe,oe,te,ge;for(Fp(N),oe=0;oe<ne;++oe)te=j[oe],ge=zi(te,this),ge=[ge,this.__zoom.invert(ge),te.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==ge[2]&&(Y.touch1=ge,Y.taps=0):(Y.touch0=ge,fe=!0,Y.taps=1+!!d);d&&(d=clearTimeout(d)),fe&&(Y.taps<2&&(p=ge[0],d=setTimeout(function(){d=null},v)),pc(this),Y.start())}}function B(N,...Q){if(this.__zooming){var j=V(this,Q).event(N),ne=N.changedTouches,Y=ne.length,fe,oe,te,ge;for(Qa(N),fe=0;fe<Y;++fe)oe=ne[fe],te=zi(oe,this),j.touch0&&j.touch0[2]===oe.identifier?j.touch0[0]=te:j.touch1&&j.touch1[2]===oe.identifier&&(j.touch1[0]=te);if(oe=j.that.__zoom,j.touch1){var Ee=j.touch0[0],ae=j.touch0[1],me=j.touch1[0],Ne=j.touch1[1],re=(re=me[0]-Ee[0])*re+(re=me[1]-Ee[1])*re,ye=(ye=Ne[0]-ae[0])*ye+(ye=Ne[1]-ae[1])*ye;oe=R(oe,Math.sqrt(re/ye)),te=[(Ee[0]+me[0])/2,(Ee[1]+me[1])/2],ge=[(ae[0]+Ne[0])/2,(ae[1]+Ne[1])/2]}else if(j.touch0)te=j.touch0[0],ge=j.touch0[1];else return;j.zoom("touch",n(I(oe,te,ge),j.extent,a))}}function Z(N,...Q){if(this.__zooming){var j=V(this,Q).event(N),ne=N.changedTouches,Y=ne.length,fe,oe;for(Fp(N),g&&clearTimeout(g),g=setTimeout(function(){g=null},v),fe=0;fe<Y;++fe)oe=ne[fe],j.touch0&&j.touch0[2]===oe.identifier?delete j.touch0:j.touch1&&j.touch1[2]===oe.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(oe=zi(oe,this),Math.hypot(p[0]-oe[0],p[1]-oe[1])<x)){var te=Li(this).on("dblclick.zoom");te&&te.apply(this,arguments)}}}return S.wheelDelta=function(N){return arguments.length?(o=typeof N=="function"?N:hc(+N),S):o},S.filter=function(N){return arguments.length?(e=typeof N=="function"?N:hc(!!N),S):e},S.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:hc(!!N),S):i},S.extent=function(N){return arguments.length?(t=typeof N=="function"?N:hc([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),S):t},S.scaleExtent=function(N){return arguments.length?(s[0]=+N[0],s[1]=+N[1],S):[s[0],s[1]]},S.translateExtent=function(N){return arguments.length?(a[0][0]=+N[0][0],a[1][0]=+N[1][0],a[0][1]=+N[0][1],a[1][1]=+N[1][1],S):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},S.constrain=function(N){return arguments.length?(n=N,S):n},S.duration=function(N){return arguments.length?(u=+N,S):u},S.interpolate=function(N){return arguments.length?(c=N,S):c},S.on=function(){var N=f.on.apply(f,arguments);return N===f?S:N},S.clickDistance=function(N){return arguments.length?(y=(N=+N)*N,S):Math.sqrt(y)},S.tapDistance=function(N){return arguments.length?(x=+N,S):x},S}const U1=Symbol("MiniMapSlots"),S8=["id","x","y","rx","ry","width","height","fill","stroke","stroke-width","shape-rendering"],O8=Et({...{name:"MiniMapNode",compatConfig:{MODE:3},inheritAttrs:!1},props:{id:{},type:{},selected:{type:Boolean},dragging:{type:Boolean},position:{},dimensions:{},borderRadius:{},color:{},shapeRendering:{},strokeColor:{},strokeWidth:{},hidden:{type:Boolean}},emits:["click","dblclick","mouseenter","mousemove","mouseleave"],setup(e,{emit:t}){const n=e,o=Yt(U1),i=zd(),s=It(()=>i.style??{});function a(p){t("click",p)}function u(p){t("dblclick",p)}function c(p){t("mouseenter",p)}function f(p){t("mousemove",p)}function d(p){t("mouseleave",p)}return(p,g)=>!p.hidden&&p.dimensions.width!==0&&p.dimensions.height!==0?(O(),D(Fe,{key:0},[b(o)[`node-${n.type}`]?(O(),dt(Kr(b(o)[`node-${n.type}`]),dd(dr({key:0},{...n,...p.$attrs})),null,16)):(O(),D("rect",dr({key:1,id:p.id},p.$attrs,{class:["vue-flow__minimap-node",{selected:p.selected,dragging:p.dragging}],x:p.position.x,y:p.position.y,rx:p.borderRadius,ry:p.borderRadius,width:p.dimensions.width,height:p.dimensions.height,fill:p.color||s.value.background||s.value.backgroundColor,stroke:p.strokeColor,"stroke-width":p.strokeWidth,"shape-rendering":p.shapeRendering,onClick:a,onDblclick:u,onMouseenter:c,onMousemove:f,onMouseleave:d}),null,16,S8))],64)):_e("",!0)}}),T8=["width","height","viewBox","aria-labelledby"],I8=["id"],D8=["d","fill","stroke","stroke-width"],M8=Et({...{name:"MiniMap",compatConfig:{MODE:3}},props:{nodeColor:{type:[String,Function],default:"#e2e2e2"},nodeStrokeColor:{type:[String,Function],default:"transparent"},nodeClassName:{type:[String,Function]},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 240, 240, 0.6)"},maskStrokeColor:{default:"none"},maskStrokeWidth:{default:1},position:{default:"bottom-right"},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:{},height:{},ariaLabel:{default:"Vue Flow mini map"},inversePan:{type:Boolean,default:!1},zoomStep:{default:1},offsetScale:{default:5},maskBorderRadius:{default:0}},emits:["click","nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(e,{emit:t}){const n=Ev(),o=zd(),i=200,s=150,{id:a,edges:u,viewport:c,translateExtent:f,dimensions:d,emits:p,d3Selection:g,d3Zoom:v,getNodesInitialized:w}=lt(),y=X();co(U1,n);const x=It(()=>{var Y;return e.width??((Y=o.style)==null?void 0:Y.width)??i}),S=It(()=>{var Y;return e.height??((Y=o.style)==null?void 0:Y.height)??s}),R=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",I=$e(()=>typeof e.nodeColor=="string"?()=>e.nodeColor:e.nodeColor),L=$e(()=>typeof e.nodeStrokeColor=="string"?()=>e.nodeStrokeColor:e.nodeStrokeColor),U=$e(()=>typeof e.nodeClassName=="string"?()=>e.nodeClassName:typeof e.nodeClassName=="function"?e.nodeClassName:()=>""),V=$e(()=>ep(w.value.filter(Y=>!Y.hidden))),G=$e(()=>({x:-c.value.x/c.value.zoom,y:-c.value.y/c.value.zoom,width:d.value.width/c.value.zoom,height:d.value.height/c.value.zoom})),q=$e(()=>w.value&&w.value.length?hI(V.value,G.value):G.value),T=$e(()=>{const Y=q.value.width/x.value,fe=q.value.height/S.value;return Math.max(Y,fe)}),W=$e(()=>{const Y=T.value*x.value,fe=T.value*S.value,oe=e.offsetScale*T.value;return{offset:oe,x:q.value.x-(Y-q.value.width)/2-oe,y:q.value.y-(fe-q.value.height)/2-oe,width:Y+oe*2,height:fe+oe*2}}),J=$e(()=>!W.value.x||!W.value.y?"":`
    M${W.value.x-W.value.offset},${W.value.y-W.value.offset}
    h${W.value.width+W.value.offset*2}
    v${W.value.height+W.value.offset*2}
    h${-W.value.width-W.value.offset*2}z
    M${G.value.x+e.maskBorderRadius},${G.value.y}
    h${G.value.width-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},${e.maskBorderRadius}
    v${G.value.height-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},${e.maskBorderRadius}
    h${-(G.value.width-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},-${e.maskBorderRadius}
    v${-(G.value.height-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},-${e.maskBorderRadius}z`);qd(Y=>{if(y.value){const fe=Li(y.value),oe=Ee=>{if(Ee.sourceEvent.type!=="wheel"||!g.value||!v.value)return;const ae=Ee.sourceEvent.ctrlKey&&Pa()?10:1,me=-Ee.sourceEvent.deltaY*(Ee.sourceEvent.deltaMode===1?.05:Ee.sourceEvent.deltaMode?1:.002)*e.zoomStep,Ne=c.value.zoom*2**(me*ae);v.value.scaleTo(g.value,Ne)},te=Ee=>{if(Ee.sourceEvent.type!=="mousemove"||!g.value||!v.value)return;const ae=T.value*Math.max(1,c.value.zoom)*(e.inversePan?-1:1),me={x:c.value.x-Ee.sourceEvent.movementX*ae,y:c.value.y-Ee.sourceEvent.movementY*ae},Ne=[[0,0],[d.value.width,d.value.height]],re=Bp.translate(me.x,me.y).scale(c.value.zoom),ye=v.value.constrain()(re,Ne,f.value);v.value.transform(g.value,ye)},ge=k8().wheelDelta(Ee=>tp(Ee)*(e.zoomStep/10)).on("zoom",e.pannable?te:()=>{}).on("zoom.wheel",e.zoomable?oe:()=>{});fe.call(ge),Y(()=>{fe.on("zoom",null)})}},{flush:"post"});function B(Y){const[fe,oe]=zi(Y);t("click",{event:Y,position:{x:fe,y:oe}})}function Z(Y,fe){const oe={event:Y,node:fe,connectedEdges:xr([fe],u.value)};p.miniMapNodeClick(oe),t("nodeClick",oe)}function N(Y,fe){const oe={event:Y,node:fe,connectedEdges:xr([fe],u.value)};p.miniMapNodeDoubleClick(oe),t("nodeDblclick",oe)}function Q(Y,fe){const oe={event:Y,node:fe,connectedEdges:xr([fe],u.value)};p.miniMapNodeMouseEnter(oe),t("nodeMouseenter",oe)}function j(Y,fe){const oe={event:Y,node:fe,connectedEdges:xr([fe],u.value)};p.miniMapNodeMouseMove(oe),t("nodeMousemove",oe)}function ne(Y,fe){const oe={event:Y,node:fe,connectedEdges:xr([fe],u.value)};p.miniMapNodeMouseLeave(oe),t("nodeMouseleave",oe)}return(Y,fe)=>(O(),dt(b(Va),{position:Y.position,class:Be(["vue-flow__minimap",{pannable:Y.pannable,zoomable:Y.zoomable}])},{default:Qe(()=>[(O(),D("svg",{ref_key:"el",ref:y,width:x.value,height:S.value,viewBox:[W.value.x,W.value.y,W.value.width,W.value.height].join(" "),role:"img","aria-labelledby":`vue-flow__minimap-${b(a)}`,onClick:B},[Y.ariaLabel?(O(),D("title",{key:0,id:`vue-flow__minimap-${b(a)}`},H(Y.ariaLabel),9,I8)):_e("",!0),(O(!0),D(Fe,null,ct(b(w),oe=>(O(),dt(O8,{id:oe.id,key:oe.id,f:"",position:oe.computedPosition,dimensions:oe.dimensions,selected:oe.selected,dragging:oe.dragging,style:Me(oe.style),class:Be(U.value(oe)),color:I.value(oe),"border-radius":Y.nodeBorderRadius,"stroke-color":L.value(oe),"stroke-width":Y.nodeStrokeWidth,"shape-rendering":b(R),type:oe.type,hidden:oe.hidden,onClick:te=>Z(te,oe),onDblclick:te=>N(te,oe),onMouseenter:te=>Q(te,oe),onMousemove:te=>j(te,oe),onMouseleave:te=>ne(te,oe)},null,8,["id","position","dimensions","selected","dragging","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","type","hidden","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),m("path",{class:"vue-flow__minimap-mask",d:J.value,fill:Y.maskColor,stroke:Y.maskStrokeColor,"stroke-width":Y.maskStrokeWidth,"fill-rule":"evenodd"},null,8,D8)],8,T8))]),_:1},8,["position","class"]))}}),A8={key:0,class:"bold-outer"},P8={key:1,class:"bold"},Hp=nt({__name:"ModuleNode",props:{data:{type:Object,required:!0},zoomstep:{type:Number,required:!0}},setup(e){const t=e,n=X("#1047033"),o=X("#1047033");Ke(()=>{n.value=Xu(t.data.color_inactive??t.data.color),o.value=i(t.data)});const i=s=>{let a=s.color_inactive??s.color;a=a.replace("#","");let u=parseInt(a.substring(0,2),16),c=parseInt(a.substring(2,4),16),f=parseInt(a.substring(4,6),16);return`rgba(${u}, ${c}, ${f}, ${s.opacity})`};return $e(()=>({backgroundColor:t.data.color,filter:"invert(100%)",width:"10px",height:"10px"})),(s,a)=>(O(),D("div",null,[m("div",{class:"custom-node text-center p-3",style:Me({"background-color":i(e.data),height:e.data.height,width:e.data.width?e.data.width:"400px"})},null,4),m("div",{class:"module-name",style:Me({"background-color":i(e.data),border:"5px solid "+b(Xu)(e.data.color),"border-bottom":"5px solid "+b(Xu)(e.data.color),"border-radius":"8px 8px 0 0"})},[e.zoomstep=="0.2"?(O(),D("span",A8,H(b(Yn)(e.data.name,15)),1)):(O(),D("span",P8,H(b(Yn)(e.data.name,30)),1))],4),e.zoomstep=="0.2"?(O(),dt(b(Pt),{key:0,id:"target",type:"target",position:b(Re).Top,style:Me({"background-color":i(e.data),filter:"invert(100%)",width:"10px",height:"10px"})},null,8,["position","style"])):_e("",!0),e.zoomstep=="0.2"?(O(),dt(b(Pt),{key:1,id:"source",type:"source",position:b(Re).Bottom,style:Me({"background-color":i(e.data),filter:"invert(100%)",width:"10px",height:"10px"})},null,8,["position","style"])):_e("",!0)]))}},[["__scopeId","data-v-8cd87ad6"]]),R8={__name:"ConditionalDropzoneNode",props:{data:{type:Object,required:!0}},setup(e){return(t,n)=>(O(),D("div",{class:"custom-node text-center rounded p-3",style:Me({"background-color":e.data.bgcolor,opacity:e.data.opacity,height:e.data.height,width:"300px"})},H(e.data.infotext),5))}},V8={class:"row"},L8={class:"col-12 text-center"},j1=nt(Et({__name:"CourseCarousel",props:{courses:{}},setup(e){const t=e;return(n,o)=>(O(),D("div",V8,[m("div",L8,[(O(!0),D(Fe,null,ct(t.courses.course_node_id,i=>(O(),D("span",{key:i,class:"dot"}))),128))])]))}}),[["__scopeId","data-v-c9ec9b3f"]]),z8={class:"icon-container"},B8={class:"row",style:{"margin-right":"-5px !important"}},F8={key:0},G1=nt(Et({__name:"CourseCompletion",props:{minCourses:{},finishedCourses:{}},setup(e){const t=We(),n=e,o=$e(()=>t.state.strings.DARK_RED),i=$e(()=>Array.from({length:n.minCourses},(a,u)=>u)),s=$e(()=>Object.values(n.finishedCourses).filter(a=>a===!0).length);return(a,u)=>(O(),D("div",z8,[m("div",B8,[(O(!0),D(Fe,null,ct(i.value,c=>(O(),D("span",{key:c,class:"coursecompletion",style:Me({backgroundColor:o.value})},[s.value>c?(O(),D("div",F8,[...u[0]||(u[0]=[m("i",{class:"fa fa-check"},null,-1)])])):_e("",!0)],4))),128))])]))}}),[["__scopeId","data-v-aa69f58e"]]),W1={__name:"ExpandedCourses",props:{data:{type:Object,required:!0}},emits:["done-folding"],setup(e,{emit:t}){const{findNode:n,removeNodes:o,addNodes:i}=lt(),s=e,a=t;return Ke(()=>{const u=n(s.data.node_id);u&&s.data.course_node_id.forEach((c,f)=>{const d={x:u.position.x+(f+1)*500,y:u.position.y},p=JSON.parse(JSON.stringify(u.data));p.course_id=c,p.showCard=!1;const g={id:`${s.data.node_id}_expanded_courses_${c}`,type:"expandedcourses",data:p,draggable:!1,deletable:!1,position:d};setTimeout(()=>{g.zIndex=9999,i([g]),f===s.data.course_node_id.length-1&&a("done-folding")},f*300)})}),ar(()=>{let u=[];[...s.data.course_node_id].reverse().forEach((f,d)=>{u.push(s.data.node_id+"_expanded_courses_"+f);let p=n(s.data.node_id+"_expanded_courses_"+f);p&&(p.deletable=!0,setTimeout(()=>{p.data.showCard=!1},d*300),setTimeout(()=>{o([p])},(d+1)*300),d===s.data.course_node_id.length-1&&a("done-folding"))})}),(u,c)=>(O(),D("div"))}},H8={class:"card-header text-center"},U8={class:"row align-items-center"},j8={class:"col"},G8={key:0},W8={key:0,class:"overlay"},q8={key:1,class:"overlay"},Y8=["disabled"],K8={key:1},X8={class:"card-title"},Z8={key:0,value:"",selected:""},J8={key:1,value:"",disabled:""},Q8=["value"],ez={key:2},tz={class:"card-title"},nz={class:"fullname-container"},oz={key:0,class:"button-group"},iz=["onClick"],rz=["onClick"],sz={key:3,class:"row mb-2 mt-2"},az={class:"col-4 text-left"},lz={class:"col-8",style:{display:"flex","justify-content":"end"}},uz={key:4},cz={class:"card-footer"},q1=nt({__name:"OrCourses",props:{data:{type:Object,required:!0},learningpath:{type:Object,required:!0},editorview:{type:Boolean,required:!0}},emits:["typeChange","change-module","delete-node"],setup(e,{emit:t}){const n=$e(()=>!f.state.availablecourses||!c.data.course_node_id||c.data.course_node_id.length===0?[]:f.state.availablecourses.filter(N=>c.data.course_node_id.includes(N.course_node_id[0])).map(N=>({givenname:c.data.course_node_id_description&&c.data.course_node_id_description[N.course_node_id[0]]?c.data.course_node_id_description[N.course_node_id[0]].fullname:null,fullname:N.fullname,id:[N.course_node_id[0]]}))),o=$e(()=>c.editorview?275+n.value.length*60:275),i=X(null),s=X(""),a=$e(()=>{let Z=c.learningpath.json;return typeof Z=="string"&&Z!==""&&(Z=JSON.parse(Z)),Z&&Z.modules?Z.modules:{}}),u=$e(()=>y(c.data)),c=e,f=We(),d=t,p=()=>{f.state.node=c.data},g=Z=>{f.state.node=c.data,f.state.nodecourse=Z},v=()=>{f.state.node=c.data,f.state.editingpretest=!0,f.state.editingadding=!1,f.state.editingrestriction=!1},w=()=>{f.state.node=c.data,f.state.editingpretest=!1,f.state.editingadding=!1,f.state.editingrestriction=!0};Ke(()=>{s.value=c.data,u.value=y(s.value);let Z=c.learningpath.json;typeof Z=="string"&&Z!=""&&(Z=JSON.parse(c.learningpath.json))});const y=Z=>{if(Z.selected_course_image)return Z.selected_course_image;if(Z.selected_image)return Z.selected_image;if(Z.image_paths)return Z.image_paths},x=Z=>{n.value=n.value.filter(N=>N.id!==Z),f.state.learningpath.json.tree.nodes.forEach(N=>{N.id==c.data.node_id&&(s.value.course_node_id=S(N.data.course_node_id,Z[0]),n.value.length==1&&d("typeChange",N))})},S=(Z,N)=>{const Q=Z.indexOf(N);return Q!==-1&&Z.splice(Q,1),Z};let R=1;const I=$e(()=>({backgroundColor:c.data.color,filter:"invert(100%)",width:"10px",height:"10px"})),L=Z=>{f.commit("setstartNode",{startnode:Z})},U=Z=>{typeof Z.module=="string"&&delete Z.module,d("change-module",Z);const N=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window});i.value.dispatchEvent(N)},V={borderColor:f.state.strings.GRAY,borderWidth:"2px"},G=$e(()=>c.editorview?"":f.state.strings.LIGHT_GRAY),q=X(!1),T=X(!1),W=()=>{q.value=!q.value,T.value=!0},J=()=>{T.value=!1},B=()=>{d("delete-node",c.data)};return(Z,N)=>{const Q=Xr("tooltip");return O(),D("div",null,[m("div",{class:"card",style:Me([{minHeight:o.value+"px",width:"400px"},V])},[m("div",{class:Be(e.editorview?"":"non_parallel")},[m("div",H8,[e.editorview?_e("",!0):(O(),dt(Fa,{key:0,data:e.data,parentnode:Z.parentnode},null,8,["data","parentnode"])),m("div",U8,[m("div",j8,[m("h5",null,H(b(Yn)(e.data.fullname||b(f).state.strings.nodes_collection,45)),1),b(f).state.view!="teacher"&&e.editorview?(O(),D("button",{key:0,class:"btn btn-danger btn-sm",style:{position:"absolute",top:"5px",right:"5px"},onClick:Xe(B,["stop"])},[...N[4]||(N[4]=[m("i",{class:"fa fa-trash"},null,-1)])])):_e("",!0)])])]),m("div",{class:"card-body",style:Me({backgroundColor:G.value})},[!e.editorview&&b(R)>1?(O(),D("div",G8,[pe(G1,{"min-courses":b(R),"finished-courses":{}},null,8,["min-courses"])])):_e("",!0),m("div",{class:"card-img dashboard-card-img",style:Me({height:"10rem",backgroundImage:u.value?"url("+u.value+")":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:u.value?"":"#cccccc"})},[b(f).state.view!="teacher"&&e.editorview?(O(),D("div",W8,[Ye((O(),D("span",null,[m("button",{class:"icon-link",onClick:w},[...N[5]||(N[5]=[m("i",{class:"fa fa-lock"},null,-1)])])])),[[Q,b(f).state.strings.nodes_edit_restriction]]),Ye((O(),D("span",null,[m("button",{class:"icon-link",onClick:v},[...N[6]||(N[6]=[m("i",{class:"fa fa-tasks"},null,-1)])])])),[[Q,b(f).state.strings.edit_node_pretest]]),Ye((O(),D("span",null,[m("button",{class:"icon-link","data-toggle":"modal","data-target":"#nodeModal",onClick:p},[...N[7]||(N[7]=[m("i",{class:"fa fa-pencil"},null,-1)])])])),[[Q,b(f).state.strings.edit_course_node]])])):e.editorview?_e("",!0):(O(),D("div",q8,[m("button",{class:"icon-link",disabled:T.value,onClick:Xe(W,["stop"])},[m("i",{class:Be(["fa",q.value?"fa-minus-circle":"fa-plus-circle"])},null,2)],8,Y8)]))],4),Object.keys(a.value).length>0&&b(f).state.view!="teacher"&&e.editorview?(O(),D("div",K8,[m("h5",X8,H(b(f).state.strings.nodes_learning_module),1),Ye(m("select",{ref_key:"selectOrModule",ref:i,"onUpdate:modelValue":N[0]||(N[0]=j=>s.value.module=j),class:"form-select form-control",onChange:N[1]||(N[1]=j=>U(s.value))},[s.value.module!=null?(O(),D("option",Z8,H(b(f).state.strings.nodes_deselect_module),1)):(O(),D("option",J8,H(b(f).state.strings.nodes_select_module),1)),(O(!0),D(Fe,null,ct(a.value,j=>(O(),D("option",{key:j.id,value:j.id},H(j.name),9,Q8))),128))],544),[[Oi,s.value.module]])])):_e("",!0),e.editorview?(O(),D("div",ez,[m("h5",tz,H(b(f).state.strings.nodes_included_courses),1),(O(!0),D(Fe,null,ct(n.value,(j,ne)=>(O(),D("div",{key:ne,class:"card-text"},[m("div",nz,[Ue(H(b(Yn)(j.givenname||j.fullname,35))+" ",1),b(f).state.view!="teacher"?(O(),D("div",oz,[m("button",{type:"button",class:"btn btn-secondary btn-sm trash-button","data-toggle":"modal","data-target":"#courseModal",onClick:Y=>g(j.id)},[...N[8]||(N[8]=[m("i",{class:"fa fa-pencil"},null,-1)])],8,iz),m("button",{type:"button",class:"btn btn-danger btn-sm trash-button",onClick:Xe(Y=>x(j.id),["stop"])},[m("i",{class:Be(b(f).state.version?"fa fa-trash":"fa fa-trash-o")},null,2)],8,rz)])):_e("",!0)])]))),128))])):(O(),D("div",sz,[m("div",az,[m("b",null,H(b(f).state.strings.nodes_progress),1)]),m("div",lz,[pe(Ha,{progress:0})])])),q.value?(O(),D("div",uz,[pe(W1,{data:e.data,onDoneFolding:J},null,8,["data"])])):_e("",!0)],4)],2),m("div",cz,[e.editorview?_e("",!0):(O(),dt(j1,{key:0,courses:c.data},null,8,["courses"])),e.editorview?_e("",!0):(O(),dt(Ua,{key:1,data:e.data},null,8,["data"]))])],4),pe(b(Pt),{id:"target",type:"target",position:b(Re).Top,style:Me(I.value),onMousedown:N[2]||(N[2]=()=>L(e.data.node_id))},null,8,["position","style"]),pe(b(Pt),{id:"source",type:"source",position:b(Re).Bottom,style:Me(I.value),onMousedown:N[3]||(N[3]=()=>L(e.data.node_id))},null,8,["position","style"])])}}},[["__scopeId","data-v-4ab5abf9"]]),dz=(e,t)=>{let n=[e.node_id];const o=e.selected_course_image?200:0,i=new Set;for(;n.length>0;){const s=n.shift();s&&(t.forEach(a=>{a.type==="custom"&&a.parentCourse.includes(s)&&!i.has(s)&&(a.position.y+=350+a.dimensions.height/4+o,a.position.y=Math.round(a.position.y/150)*150,a.childCourse.length>0&&n.push(a.id))}),i.add(s))}},el=(e,t)=>({id:e+t,source:t,target:e,sourceHandle:"source",targetHandle:"target",style:{"stroke-width":5,position:"relative","z-index":-10},markerEnd:Au.ArrowClosed}),Y1=(e,t)=>(e.completion={edges:[{data:{},deletable:!1,events:{},id:"condition_1-condition_feedback",source:"condition_1",sourceHandle:"target_and",sourceX:858,sourceY:241,target:"condition_1_feedback",targetHandle:"source_feedback",targetX:858,targetY:199,type:"default"}],nodes:[{childCondition:["condition_1_feedback"],data:{description:t.state.strings.course_description_condition_course_completed,description_before:t.state.strings.course_description_before_condition_course_completed,description_inbetween:t.state.strings.course_description_inbetween_condition_course_completed,description_after:t.state.strings.course_description_after_condition_course_completed,priority:1,id:150,label:"course_completed",information:t.state.strings.course_information_condition_course_completed,name:t.state.strings.course_name_condition_course_completed,node_id:"condition_1",visibility:!0},draggable:!1,deletable:!1,events:{},id:"condition_1",label:"custom node",parentCondition:["starting_condition"],position:{x:683,y:445},type:"custom"},{data:{childCondition:"condition_1",visibility:!0,feedback_before:t.state.strings.course_description_before_condition_course_completed,feedback_after:t.state.strings.course_description_after_condition_course_completed,feedback_inbetween:t.state.strings.course_description_inbetween_condition_course_completed,feedback_before_checkmark:!0,feedback_after_checkmark:!0,feedback_inbetween_checkmark:!0},draggable:!1,deletable:!1,events:{},id:"condition_1_feedback",label:t.state.strings.composables_feedback_node,position:{x:683,y:-250},type:"feedback"}],position:[0,0],viewport:{x:0,y:0,zoom:1},zoom:1},e.position={x:Math.round(e.position.x/150)*150,y:Math.round(e.position.y/150)*150},e),fz=e=>(e.completion&&e.completion.nodes&&e.completion.nodes.forEach(t=>{t.type=="custom"&&t.data.label=="course_completed"&&t.data.value==null&&(t.data.value={min_courses:1})}),e),Up=(e,t,n,o)=>n=="child"?(e.restriction=K1(e.id,t.id,o),e):n=="parent"?(t.restriction!=null||(t.restriction=K1(t.id,e.id,o)),t):n=="and"?t:null;function K1(e,t,n){return{edges:[{data:{},deletable:!1,events:{},id:"condition_1-condition_feedback",source:"condition_1",sourceHandle:"target_and",sourceX:858,sourceY:241,target:"condition_1_feedback",targetHandle:"source_feedback",targetX:858,targetY:199,type:"default"}],nodes:[{childCondition:[],data:{description:n.state.strings.course_description_condition_parent_courses,description_before:n.state.strings.course_restricition_before_condition_parent_courses,id:150,label:"parent_courses",information:n.state.strings.course_information_condition_parent_courses,name:n.state.strings.course_name_condition_parent_courses,node_id:"condition_1",value:{courses_id:[t],min_courses:1},visibility:!0},draggable:!1,deletable:!1,events:{},id:"condition_1",label:"custom node",parentCondition:["starting_condition"],position:{x:683,y:247.5},type:"custom"},{data:{childCondition:"condition_1",visibility:!0,feedback_before:n.state.strings.course_restricition_before_condition_parent_courses,feedback_before_checkmark:!0},draggable:!1,deletable:!1,events:{},id:"condition_1_feedback",label:n.state.strings.composables_feedback_node,position:{x:683,y:-100},type:"feedback"}],position:[0,0],viewport:{x:0,y:0,zoom:1},zoom:1}}const pz=(e,t,n)=>{const o=e.closestnode.parentCourse,i=e.closestnode.childCourse;let s=[],a=e.closestnode.restriction,u=[],c=e.closestnode.completion;return t.value.forEach(f=>{if(f.id.indexOf("-")==-1&&f.id.indexOf(e.closestnode.id)!=-1){const d=f.id.replace(e.closestnode.id,"");e.closestnode.id!=f.source?s.push(el(n,d)):(s.push(el(d,n)),u.push(d))}}),{parentNodes:o,childNodes:i,newEdges:s,newRestrictions:a,newCompletions:c,newOtherRestrictions:u}},hz={class:"list-group"},gz={class:"list-group-item"},vz={class:"list-group-text"},mz={key:0},_z=["innerHTML"],yz={key:1},bz=["innerHTML"],wz={key:2},Ez=nt({__name:"ExpandNodeInformation",props:{courses:{type:Object,required:!0}},setup(e){const t=We(),n=X(!1),o=()=>{n.value=!n.value},i=$e(()=>t.state.strings.LIGHT_GRAY);return(s,a)=>(O(),D("div",{class:Be(["icon-container",{"card-hover":n.value,[e.courses.id+"_node_info_listener"]:!0}]),onClick:a[0]||(a[0]=u=>o())},[m("div",null,[m("div",{class:"information",style:Me({backgroundColor:i.value})},[...a[1]||(a[1]=[m("i",{class:"fa fa-info"},null,-1)])],4),pe(Ci,{name:"unfold"},{default:Qe(()=>[n.value?(O(),D("div",{key:0,class:"additional-card",style:Me({backgroundColor:i.value})},[m("ul",hz,[m("li",gz,[a[2]||(a[2]=m("i",{class:"fa fa-pencil"},null,-1)),a[3]||(a[3]=m("b",null," Description ",-1)),m("div",vz,[e.courses[0]&&e.courses[0].description?(O(),D("div",mz,[m("div",{innerHTML:e.courses[0].description},null,8,_z)])):e.courses[0]&&e.courses[0].summary?(O(),D("div",yz,[m("div",{innerHTML:e.courses[0].summary},null,8,bz)])):(O(),D("div",wz,H(b(t).state.strings.nodes_no_description),1))])])])],4)):_e("",!0)]),_:1})])],2))}},[["__scopeId","data-v-d5109e2e"]]),xz={key:0},$z={class:"card test",style:Me([{minHeight:"200px",width:"400px"}])},Nz={class:"card-header text-center"},Cz={class:"row"},kz={class:"col-10"},Sz={key:0},Oz={key:1},Tz={class:"card-body active-node"},jp=nt({__name:"ExpandNodeEdit",props:{data:{type:Object,required:!0},zoomstep:{type:Number,required:!0}},setup(e){const t=We(),n=e,o=()=>{let u=t.state.wwwroot+"/course/view.php?id="+n.data.course_id;window.open(u,"_blank")},i=$e(()=>s(n.data)),s=u=>u.imagepaths&&u.imagepaths[n.data.course_id]?u.imagepaths[n.data.course_id]:null,a=$e(()=>!t.state.availablecourses||!n.data.course_id?[]:t.state.availablecourses.filter(u=>n.data.course_id==u.course_node_id[0]).map(u=>({givenname:n.data.course_node_id_description&&n.data.course_node_id_description[u.course_node_id[0]]?n.data.course_node_id_description[u.course_node_id[0]].fullname:null,description:n.data.course_node_id_description&&n.data.course_node_id_description[u.course_node_id[0]]?n.data.course_node_id_description[u.course_node_id[0]].description:null,fullname:u.fullname,summary:u.summary,id:[u.course_node_id[0]]})));return Ke(()=>{setTimeout(()=>{n.data.showCard=!0},200)}),(u,c)=>(O(),dt(Ci,{name:"unfold"},{default:Qe(()=>[e.data.showCard?(O(),D("div",xz,[m("div",$z,[m("div",Nz,[pe(Ez,{courses:a.value},null,8,["courses"]),m("div",Cz,[m("div",kz,[a.value[0]?(O(),D("h5",Sz,H(a.value[0].givenname||a.value[0].fullname),1)):(O(),D("h5",Oz," Subcourse "))])])]),m("div",Tz,[m("div",{class:"card-img dashboard-card-img mb-2",style:Me({height:"10rem",backgroundImage:i.value?"url("+i.value+")":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:i.value?"":"#cccccc"})},[m("div",{class:"overlay"},[m("button",{class:"icon-link",onClick:o},[...c[0]||(c[0]=[m("i",{class:"fa fa-play"},null,-1)])])])],4)])])])):_e("",!0)]),_:1}))}},[["__scopeId","data-v-ec6f059e"]]),gc=(e,t,n)=>{if(t(e.node.position.x+e.node.dimensions.width/2,e.node.position.y+e.node.dimensions.height/2,{zoom:1,duration:500}),e.node.data.animations&&n.state.user==n.state.lpuserpathrelation.user_id){let o=!1,i=JSON.parse(JSON.stringify(e.node.data.animations));i.seenrestriction==!1&&(o=!0,i.seenrestriction=!0),i.seencompletion==!1&&(o=!0,i.seencompletion=!0),o&&n.dispatch("setNodeAnimations",{nodeid:e.node.id,animations:i})}return 1},X1=async(e,t,n,o)=>{const i=e.target.closest(".vue-flow__pane"),s=Math.abs(e.deltaY)<2,a=e.ctrlKey||e.metaKey,u=e.deltaY<0?"in":"out";if(i){if(s&&!a)return;e.preventDefault(),e.stopPropagation(),t||(t=!0,await La(u,n,o),setTimeout(()=>{t=!1},500))}},Iz={class:"d-flex justify-content-center"},Z1=nt({__name:"LearningPath",props:{learningpath:{type:Object,required:!0}},emits:["finish-edit","removeNodeConditions","add-edge","remove-edge","save-edit","move-node","changedModule","changedLearningpathTree","save-edit-course","removeNode"],setup(e,{emit:t}){const n=We(),o=e,i=t,s=X(!1),a=X(null),u=X(!0),c=X(null),f=X(0),d=n.state.strings.DEEP_SKY_BLUE,p=$e(()=>f.value>768),g=X(!1),v=X(0),w=X(null),y=()=>{i("finish-edit")},{nodes:x,edges:S,findNode:R,onConnect:I,addEdges:L,zoomTo:U,addNodes:V,removeNodes:G,fitView:q,viewport:T,setCenter:W,toObject:J,getEdges:B,onNodeDragStop:Z,updateNode:N}=lt({nodes:[],edges:[]});Ke(()=>{n.state.undoNodes=[],St(()=>{ve()});const we=new ResizeObserver(k=>{for(let E of k)if(E.target.classList.contains("dndflow")){f.value=E.contentRect.width;break}}),Ce=document.querySelector(".dndflow");Ce&&we.observe(Ce),setTimeout(()=>{St().then(()=>{q({duration:1e3})})},300)});function Q(){s.value=!s.value}function j(){u.value=!u.value}function ne(we){i("changedModule",we)}const Y=we=>{x.value.forEach(Ce=>{Ce.id==we.id&&(Ce.type="custom",Ce.completion.nodes.forEach(k=>{k.type=="custom"&&k.data.label=="course_completed"&&k.data.value!=null&&delete k.data.value}))})},fe=we=>{let Ce=o.learningpath;Ce.json.tree.nodes&&Ce.json.tree.nodes.forEach(k=>{k.id==we.node_id&&(k.data=we)}),a.value.handleDrawModules()};Z(({node:we})=>{i("move-node",we)});const oe=we=>{we.nodes[0].position={x:Math.round(we.nodes[0].position.x/150)*150,y:Math.round(we.nodes[0].position.y/150)*150},typeof we.nodes[0].data.module=="number"&&_s(o.learningpath,V,G,R,we.nodes[0])},te=we=>{v.value=gc(we,W,n)};function ge({intersecting:we}){c.value=we}function Ee(we){we.preventDefault(),we.dataTransfer&&(we.dataTransfer.dropEffect="move")}async function ae(we){we.source!==n.state.startnode&&(we.target=we.source,we.source=n.state.startnode),L(el(we.target,we.source)),i("add-edge",el(we.target,we.source)),o.learningpath.json.tree=mp(o.learningpath.json.tree,"parentCourse","childCourse","starting_node")}function me(we){i("save-edit",we)}function Ne(we){i("save-edit-course",we)}I(ae),Le(()=>S.value.length,(we,Ce)=>{Ce>we&&i("remove-edge",S.value)},{deep:!0});function re(we){if(c.value){const Ce=we.dataTransfer?.getData("application/vueflow"),k=JSON.parse(we.dataTransfer?.getData("application/data"));k.selected_course_image&&(k.imagepaths={[k.course_node_id]:k.selected_course_image});const E={x:c.value.closestnode.computedPosition.x,y:c.value.closestnode.computedPosition.y},C=bp("dndnode_",x.value);let F={};k.node_id=C;let A=[],ee=[],ce={id:C,type:Ce,label:`${Ce} node`,draggable:!0,deletable:!1};if(c.value.closestnode.id=="starting_node")A.push("starting_node");else if(c.value.dropzone.id=="dropzone_parent"){ee.push(c.value.closestnode.id),A.push("starting_node"),c.value.closestnode.parentCourse.push(k.node_id);const se=c.value.closestnode.parentCourse.indexOf("starting_node");se!==-1&&(c.value.closestnode.parentCourse.splice(se,1),dz(k,x.value))}else if(c.value.dropzone.id=="dropzone_child"){A.push(c.value.closestnode.id),c.value.closestnode.childCourse.push(k.node_id);const se=c.value.closestnode.data.selected_course_image?200:0;E.y+=+c.value.dropzone.dimensions.height/2+300+se}else if(c.value.dropzone.id=="dropzone_and")F=pz(c.value,B,C),E.x+=200,A=F.parentNodes,ee=F.childNodes,ce.restriction=F.newRestrictions,ce.completion=F.newCompletions,ce.data=k,x.value.forEach(se=>{F.newOtherRestrictions.includes(se.id)&&(se=Up(ce,se,"and",n))});else if(c.value.dropzone.id=="dropzone_or"){let se=c.value.closestnode;se.data.course_node_id.includes(k.course_node_id[0])?Qt({title:n.state.strings.flowchart_course_already_inside_title,text:n.state.strings.flowchart_course_already_inside_text,type:"warn"}):(se.type="orcourses",se.data.course_node_id.push(k.course_node_id[0]),x.value.forEach(de=>{de.id==se.id&&(k.imagepaths&&(se.data.imagepaths?se.data.imagepaths={...se.data.imagepaths,...k.imagepaths}:(se.data.imagepaths=k.imagepaths,se.data.selected_course_image=k.selected_course_image)),se.data.course_node_id.length==2&&se.data.fullname==se.data.shortname&&(se.data.fullname=n.state.strings.nodes_collection),de=se,de=fz(de))}))}if(c.value.closestnode.position.x<c.value.dropzone.position.x&&(E.x+=c.value.closestnode.dimensions.width),ce={...ce,data:k,parentCourse:A,childCourse:ee,position:E},c.value.dropzone.id.includes("dropzone_")&&!c.value.dropzone.id.includes("_and")&&!c.value.dropzone.id.includes("_or")){ce=Y1(ce,n);let se=c.value.closestnode.id,de=ce.id;c.value.dropzone.id.includes("child")?(se=ce.id,de=c.value.closestnode.id,ce=Up(ce,c.value.closestnode,"child",n),ce.position={x:Math.round(ce.position.x/150)*150,y:Math.round(ce.position.y/150)*150},V([ce])):(Up(ce,c.value.closestnode,"parent",n),ce.position={x:Math.round(ce.position.x/150)*150,y:Math.round(ce.position.y/150)*150},V([ce])),L(el(se,de))}else c.value.dropzone.id.includes("_or")||(ce=Y1(ce,n),V([ce]),F.newEdges&&L(F.newEdges));let he=J();he=vp(he),i("changedLearningpathTree",he),c.value.closestnode.id=="starting_node"&&za(G,St,V,x.value,600,n,N)}else Qt({title:n.state.strings.flowchart_drop_refused_title,text:n.state.strings.flowchart_drop_refused_text,type:"warn"})}Le(()=>x.value.length,(we,Ce)=>{if(Ce>we&&o.learningpath.json&&o.learningpath.json.tree){const k=o.learningpath.json.tree.nodes.filter(E=>!x.value.some(C=>C.id===E.id));k[0]&&i("removeNode",k[0]),za(G,St,V,x.value,600,n,N,!0),k[0]&&k[0].id&&_s(o.learningpath,V,G,R,null,k[0].id)}});const ye=Z0.debounce((we,Ce)=>{if(we.length<Ce.length){const k=Ce[Ce.length-1];x.value=[...k];const E=n.state.undoEdges[n.state.undoEdges.length-1];S.value=[...E],n.commit("unsetUndoEdges"),za(G,St,V,x.value,800,n,N)}},300);Le(()=>n.state.undoNodes,ye,{deep:!0});const ve=()=>{w.value||(w.value=Le(()=>n.state.undoNodes,ye))};ar(()=>{w.value&&(w.value(),n.state.undoNodes=[])});async function Te(we){let Ce=R(we.node_id),k=!0;if(Ce.type!="module"&&(k=window.confirm(n.state.strings.flowchart_delete_confirmation+Ce.data.fullname+"?")),k){const E=[...x.value],C=[...S.value];await n.dispatch("setUndoNodes",{undoNodesSet:E,undoEdgesSet:C}),Ce.deletable=!0,G(we.node_id),i("removeNodeConditions",we.node_id)}}return(we,Ce)=>(O(),D("div",null,[m("div",{class:"dndflow mt-4",onDrop:re,onWheel:Ce[0]||(Ce[0]=k=>b(X1)(k,g.value,b(T),b(U)))},[b(n).state.view!="teacher"?(O(),dt(z3,{key:0,learningpath:e.learningpath,onSaveEdit:me},null,8,["learningpath"])):_e("",!0),b(n).state.view!="teacher"?(O(),dt(Q3,{key:1,learningpath:e.learningpath,onSaveEditCourse:Ne},null,8,["learningpath"])):_e("",!0),pe(b(ms),{"default-viewport":{zoom:1,x:0,y:0},class:Be([{dark:s.value},"learning-path-flow"]),"fit-view-on-init":!0,"max-zoom":1.55,"min-zoom":.15,"zoom-on-scroll":!1,"zoom-on-pinch":!1,onDragover:Ee,onNodeDrag:oe,onNodeClick:te,"delete-key-code":["Backspace","Delete"]},{"node-custom":Qe(({data:k})=>[pe(Q0,{data:k,learningpath:e.learningpath,editorview:u.value,onChangeModule:fe,onDeleteNode:Te},null,8,["data","learningpath","editorview"])]),"node-dropzone":Qe(({data:k})=>[pe(yp,{data:k,editorview:u.value},null,8,["data","editorview"])]),"node-conditionaldropzone":Qe(({data:k})=>[pe(R8,{data:k},null,8,["data"])]),"node-orcourses":Qe(({data:k})=>[pe(q1,{data:k,learningpath:e.learningpath,editorview:u.value,onTypeChange:Y,onChangeModule:fe,onDeleteNode:Te},null,8,["data","learningpath","editorview"])]),"node-module":Qe(({data:k})=>[pe(Hp,{data:k,zoomstep:v.value},null,8,["data","zoomstep"])]),"node-expandedcourses":Qe(({data:k})=>[pe(jp,{data:k,zoomstep:v.value},null,8,["data","zoomstep"])]),default:Qe(()=>[pe(b(Ku),{"pattern-color":s.value?"#FFFFFB":"#aaa",gap:"8"},null,8,["pattern-color"]),p.value?(O(),dt(b(M8),{key:0,"node-color":"grey"})):_e("",!0)]),_:1},8,["class"]),b(n).state.view!="teacher"&&u.value?(O(),dt(s5,{key:2,courses:b(n).state.availablecourses,learningmodule:e.learningpath,strings:b(n).state.strings,style:Me({backgroundColor:b(d)}),onNodesIntersected:ge,onChangedModule:ne},null,8,["courses","learningmodule","strings","style"])):_e("",!0)],32),Ce[1]||(Ce[1]=m("p",null,null,-1)),m("div",Iz,[pe(J0,{learningpath:e.learningpath,onChangeClass:Q,onChangeUserView:j,onFinishEdit:y,ref_key:"controls",ref:a},null,8,["learningpath"])]),Ce[2]||(Ce[2]=m("p",null,null,-1))]))}},[["__scopeId","data-v-dc0d5c8c"]]),Dz={class:"dndflow mt-4"},Mz={class:"d-flex justify-content-center"},Az=nt({__name:"LearningPathView",props:{learningpath:{type:Object,required:!0}},emits:["finish-edit"],setup(e,{emit:t}){const n=We(),o=X(!1),i=X(!1),s=X(0),a=X(0),{zoomTo:u,fitView:c,viewport:f,setCenter:d}=lt({nodes:[],edges:[]});Ke(()=>{new ResizeObserver(y=>{for(let x of y)if(x.target.classList.contains("dndflow")){s.value=x.contentRect.width;break}}).observe(document.querySelector(".dndflow")),setTimeout(()=>{St().then(()=>{c({duration:1e3})})},300)});const p=t,g=()=>{p("finish-edit")},v=w=>{a.value=gc(w,d,n)};return(w,y)=>(O(),D("div",null,[m("div",Dz,[pe(b(ms),{"default-viewport":{zoom:1,x:0,y:0},class:Be([{dark:o.value},"learning-path-flow"]),"fit-view-on-init":!0,"max-zoom":1.55,"min-zoom":.15,"zoom-on-scroll":!1,onNodeClick:v},{"node-custom":Qe(({data:x})=>[pe(Q0,{data:x,learningpath:e.learningpath,editorview:i.value},null,8,["data","learningpath","editorview"])]),"node-orcourses":Qe(({data:x})=>[pe(q1,{data:x,learningpath:e.learningpath,editorview:i.value},null,8,["data","learningpath","editorview"])]),"node-module":Qe(({data:x})=>[pe(Hp,{data:x,zoomstep:a.value},null,8,["data","zoomstep"])]),"node-expandedcourses":Qe(({data:x})=>[pe(jp,{data:x,zoomstep:a.value},null,8,["data","zoomstep"])]),default:Qe(()=>[pe(b(Ku),{"pattern-color":o.value?"#FFFFFB":"#aaa",gap:"8"},null,8,["pattern-color"])]),_:1},8,["class"])]),y[0]||(y[0]=m("p",null,null,-1)),m("div",Mz,[pe(J0,{learningpath:e.learningpath,view:!0,onFinishEdit:g},null,8,["learningpath"])]),y[1]||(y[1]=m("p",null,null,-1))]))}},[["__scopeId","data-v-a4e2434a"]]),Pz={id:"helpingSlider",tabindex:"-1",role:"dialog",class:"modal fade","aria-labelledby":"helpingSliderModal","aria-hidden":"true"},Rz={class:"modal-dialog modal-lg modal-dialog-centered",role:"document",style:{"max-width":"70% !important"}},Vz={class:"modal-content"},Lz={id:"exampleModalLabel",class:"modal-title"},zz={id:"carouselExampleControls",class:"carousel slide","data-ride":"carousel","data-interval":"false"},Bz={class:"carousel-inner helping-slide"},Fz={class:"d-flex justify-content-center align-items-center w-100",style:{height:"500px"}},Hz=["src","alt"],Uz={class:"sr-only"},jz={class:"sr-only"},Gz=["data-slide-to"],Wz={type:"button",class:"btn btn-secondary","data-dismiss":"modal"},qz=nt({__name:"HelpingSlider",setup(e){const t=We(),n=X([]);return Le(()=>t.state.lpimages.helpingslider,o=>{o&&(n.value=o)}),(o,i)=>(O(),D("div",null,[m("div",Pz,[m("div",Rz,[m("div",Vz,[m("div",{class:"modal-header text-white",style:Me({backgroundColor:b(t).state.strings.DARK_GREEN})},[m("h5",Lz,H(b(t).state.strings.modals_how_to_learningpath),1),i[2]||(i[2]=m("button",{type:"button",class:"close text-white","data-dismiss":"modal","aria-label":"Close"},[m("span",{"aria-hidden":"true"},"")],-1))],4),m("div",{class:"modal-body d-flex",style:Me({backgroundColor:b(t).state.strings.LIGHT_GRAY})},[m("div",zz,[m("div",Bz,[(O(!0),D(Fe,null,ct(n.value,(s,a)=>(O(),D("div",{key:a,class:Be({"carousel-item":!0,active:a===0}),style:{height:"500px"}},[m("div",Fz,[m("img",{src:s.path,class:"d-block w-100",alt:"Slide "+(a+1)},null,8,Hz)])],2))),128))]),m("a",{class:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev",style:Me([{color:b(t).state.strings.DARK_GREEN},{width:"5%"}]),onClick:i[0]||(i[0]=(...s)=>o.updateCarouselHeight&&o.updateCarouselHeight(...s))},[i[3]||(i[3]=m("span",{class:"slider-button"},"<",-1)),m("span",Uz,H(b(t).state.strings.modals_previous),1)],4),m("a",{class:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next",style:Me([{color:b(t).state.strings.DARK_GREEN},{width:"5%"}]),onClick:i[1]||(i[1]=(...s)=>o.updateCarouselHeight&&o.updateCarouselHeight(...s))},[i[4]||(i[4]=m("span",{class:"slider-button"}," > ",-1)),m("span",jz,H(b(t).state.strings.modals_next),1)],4),m("ol",{class:"carousel-indicators",style:Me({backgroundColor:b(t).state.strings.DARK_GREEN})},[(O(!0),D(Fe,null,ct(n.value,(s,a)=>(O(),D("li",{key:a,"data-target":"#carouselExampleControls","data-slide-to":a,class:Be({active:a===0})},null,10,Gz))),128))],4)])],4),m("div",{class:"modal-footer",style:Me({backgroundColor:b(t).state.strings.DARK_GREEN})},[m("button",Wz,H(b(t).state.strings.modals_close),1)],4)])])])]))}},[["__scopeId","data-v-cecfa4f2"]]),Yz={class:"col-lg-2"},Kz={type:"button",class:"btn btn-secondary mt-4 mb-4 btn-block","data-toggle":"modal","data-target":"#helpingSlider"},Xz=["placeholder"],Zz={key:0},Jz={key:1,class:"learningcardcont"},Qz={key:0,class:"wrap"},e6={class:"card shadow",style:{width:"450px"}},t6={class:"card-header bg-primary text-white"},n6={class:"position-relative"},o6={class:"text-center mb-0"},i6=["onClick"],r6={class:"card-body"},s6={class:"overlay"},a6=["onClick"],l6=["onClick"],u6=["onClick"],c6={class:"alert-danger p-3 m-t-1 m-b-1 rounded deletealert",style:{"max-width":"100%"}},d6={class:"mt-4 d-flex justify-content-between"},f6=["title","onClick"],p6=["onClick"],h6={key:2},g6={class:"learningcardcont"},v6={key:0,class:"card shadow",style:{width:"450px"}},m6={class:"card-header text-center bg-primary text-white"},_6={class:"card-body"},y6={class:"overlay"},b6=["onClick"],w6=nt({__name:"LearningPathList",setup(e){const t=$e(()=>(o.value!=""?s=u.state.learningpaths.filter(S=>S.name.toLowerCase().includes(o.value.toLowerCase())):s=u.state.learningpaths,s)),n=$e(()=>u.state.viewlearningpaths),o=X("");let i=[],s=[];Ke(async()=>{u.state.undoNodes=[],await u.dispatch("fetchImagePaths"),Le(()=>u.state.learningpaths,async()=>{u.state.learningpaths&&(i=u.state.learningpaths,s=[...i],s.forEach(S=>{S.visibility===void 0&&(S.visibility=!1)}))},{deep:!0})});const a=S=>{S.visibility==0?S.visibility=1:S.visibility=0,u.dispatch("updateLearningPathVisibility",{lpid:S.id,visibility:S.visibility}),Qt({title:u.state.strings.title_change_visibility,text:u.state.strings.description_change_visibility,type:"success"})},u=We(),c=gr(),f=X({}),d=S=>{f.value={},f.value[S]=!0},p=async S=>{u.state.learningPathID=S,await u.dispatch("fetchLearningpath"),c.push({name:"learningpath-view",params:{learningpathId:S}})},g=async S=>{u.state.learningPathID=S,await u.dispatch("fetchLearningpath"),c.push({name:"learningpath-edit",params:{learningpathId:S}})},v=async()=>{u.state.learningPathID=0,await u.dispatch("fetchLearningpath"),c.push({name:"learningpath-new",params:{learningpathId:0}})},w=S=>{f.value[S]=!1},y=S=>{const R={learningpathid:S};u.dispatch("deleteLearningpath",R),f.value={},Qt({title:u.state.strings.title_delete,text:u.state.strings.description_delete,type:"warn"})},x=S=>{const R={learningpathid:S};u.dispatch("duplicateLearningpath",R),Qt({title:u.state.strings.title_duplicate,text:u.state.strings.description_duplicate,type:"success"})};return(S,R)=>{const I=Xr("tooltip");return O(),D("div",null,[pe(qz),m("h3",null,H(b(u).state.strings.pluginname),1),m("div",Yz,[b(u).state.view!=null?(O(),D("button",{key:0,type:"button",class:"btn btn-primary mt-4 mb-4 btn-block",onClick:R[0]||(R[0]=Xe(L=>v(),["prevent"]))},H(b(u).state.strings.learningpath_form_title_add),1)):_e("",!0),m("button",Kz,[Ue(H(b(u).state.strings.main_intro_slider)+" ",1),m("i",{class:Be(b(u).state.version?"fa-solid fa-book-open-reader":"fa fa-book")},null,2)])]),m("h2",null,H(b(u).state.strings.overviewlearningpaths),1),Ye(m("input",{"onUpdate:modelValue":R[1]||(R[1]=L=>o.value=L),class:"form-control search",placeholder:b(u).state.strings.placeholder_lp_search},null,8,Xz),[[Mt,o.value]]),b(u).state.learningpaths==""?(O(),D("span",Zz,H(b(u).state.strings.learningpaths_edit_site_no_learningpaths),1)):(O(),D("span",Jz,[(O(!0),D(Fe,null,ct(t.value,L=>(O(),D("div",{key:L.id,class:"learningcard"},[b(u).state.editablepaths[L.id]!=null||b(u).state.view=="manager"||L.visibility==1&&b(u).state.view!=null?(O(),D("div",Qz,[m("div",e6,[m("div",t6,[m("div",n6,[m("h5",o6,H(L.name),1),b(u).state.editablepaths[L.id]!=null||b(u).state.view=="manager"?Ye((O(),D("a",{key:0,class:"icon-link position-absolute",href:"",onClick:Xe(U=>a(L),["prevent"])},[m("i",{class:Be(["icon fa-fw iconsmall",L.visibility=="1"?"fa fa-eye":"fa fa-eye-slash"])},null,2)],8,i6)),[[I,L.visibility==1?"Make Invisible":"Make Visible"]]):_e("",!0)])]),m("div",r6,[m("div",{class:"mb-2",style:Me({height:"10rem",backgroundImage:L.image?`url(${L.image})`:"",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:"#cccccc",borderRadius:"1rem"})},[m("div",s6,[b(u).state.view!=null&&b(u).state.editablepaths[L.id]!=null||b(u).state.view=="manager"?Ye((O(),D("a",{key:0,class:"icon-link",href:"",onClick:Xe(U=>x(L.id),["prevent"])},[...R[2]||(R[2]=[m("i",{class:"icon m-r-0 fa fa-copy fa-fw iconsmall"},null,-1)])],8,a6)),[[I,b(u).state.strings.duplicate]]):_e("",!0),b(u).state.editablepaths[L.id]!=null||b(u).state.view=="manager"?Ye((O(),D("a",{key:1,class:"icon-link",href:"",onClick:Xe(U=>g(L.id),["prevent"])},[...R[3]||(R[3]=[m("i",{class:"icon m-r-0 fa fa-pencil fa-fw iconsmall"},null,-1)])],8,l6)),[[I,b(u).state.strings.edit]]):_e("",!0),b(u).state.view!=null&&b(u).state.editablepaths[L.id]!=null||b(u).state.view=="manager"?Ye((O(),D("a",{key:2,class:"icon-link",href:"",onClick:Xe(U=>d(L.id),["prevent"])},[m("i",{class:Be(["icon fa-fw iconsmall fa",b(u).state.version?"fa-trash":"fa-trash-o"])},null,2)],8,u6)),[[I,b(u).state.strings.delete]]):_e("",!0)])],4),m("div",null,[m("b",null,H(b(u).state.strings.main_description),1),Ue(" "+H(L.description),1)])])]),Ye(m("div",c6,[m("div",null,H(b(u).state.strings.deletepromptpre)+H(L.name)+H(b(u).state.strings.deletepromptpost),1),m("div",d6,[m("button",{class:"btn btn-danger mr-2",title:b(u).state.strings.btnconfirmdelete,onClick:U=>y(L.id)},H(b(u).state.strings.btnconfirmdelete),9,f6),m("button",{type:"button",class:"btn btn-secondary",onClick:U=>w(L.id)},H(b(u).state.strings.cancel),9,p6)])],512),[[_N,f.value[L.id]]])])):_e("",!0)]))),128))])),n.value&&n.value.length!=0?(O(),D("div",h6,[R[5]||(R[5]=m("h2",null," Viewable learningpath ",-1)),m("span",g6,[(O(!0),D(Fe,null,ct(n.value,L=>(O(),D("div",{key:L.id,class:"learningcard"},[L.visibility==1?(O(),D("div",v6,[m("div",m6,[m("h5",null,H(L.name),1)]),m("div",_6,[m("div",{class:"mb-2",style:Me({height:"10rem",backgroundImage:L.image?`url(${L.image})`:"",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:"#cccccc",borderRadius:"1rem"})},[m("div",y6,[Ye((O(),D("a",{class:"icon-link",href:"",onClick:Xe(U=>p(L.id),["prevent"])},[...R[4]||(R[4]=[m("i",{class:"icon m-r-0 fa fa-solid fa-play fa-fw iconsmall"},null,-1)])],8,b6)),[[I,b(u).state.strings.view]])])],4),m("div",null,[m("b",null,H(b(u).state.strings.main_description),1),Ue(" "+H(L.description),1)])])])):_e("",!0)]))),128))])])):_e("",!0)])}}},[["__scopeId","data-v-854b97c2"]]),E6={class:"col-6"},x6=["placeholder","disabled"],$6={key:0},N6={key:0,class:"alert alert-warning"},C6={key:1,class:"user-list bg-white border rounded",style:{"max-height":"200px","overflow-y":"auto"}},k6=["onClick"],S6={key:2,class:"alert alert-warning"},O6={key:1,class:"d-flex flex-wrap mt-2"},T6={class:"card-body p-2 d-flex align-items-center justify-content-between"},I6=["onClick","title"],D6=nt({__name:"userSearch",setup(e){const t=We(),n=X(""),o=X([]),i=X(""),s=X([]),a=X(!1),u=Z0.debounce(async()=>{const v=await t.dispatch("getFoundUsers",n.value);o.value=v.list,i.value=v.warnings,a.value=!0},400);Le(n,()=>{u()});const c=v=>{t.dispatch("createLpEditUsers",{lpid:t.state.learningPathID,userid:v.id}),s.value.some(w=>w.id===v.id)||s.value.push(v),a.value=!1},f=v=>{confirm(t.state.strings.editordeleteconfirmation)&&s.value.length>=2&&(t.dispatch("removeLpEditUsers",{lpid:t.state.learningPathID,userid:v}),s.value=s.value.filter(y=>y.id!==v))},d=v=>{const w=document.querySelector(".user-search-input"),y=document.querySelector(".user-list");w&&y&&!w.contains(v.target)&&!y.contains(v.target)&&(a.value=!1)},p=$e(()=>t.state.learningPathID===0),g=$e(()=>p.value?t.state.strings.onlysetaftersaved:t.state.strings.searchuser);return Ke(async()=>{s.value=await t.dispatch("getLpEditUsers",t.state.learningPathID),document.addEventListener("click",d)}),Xo(()=>{document.removeEventListener("click",d)}),(v,w)=>(O(),D("div",E6,[m("h4",null,H(b(t).state.strings.selectuser),1),Ye(m("input",{"onUpdate:modelValue":w[0]||(w[0]=y=>n.value=y),class:"form-control mb-2 user-search-input",placeholder:g.value,onFocus:w[1]||(w[1]=y=>a.value=!0),disabled:p.value},null,40,x6),[[Mt,n.value]]),a.value?(O(),D("div",$6,[i.value?(O(),D("div",N6,H(i.value),1)):o.value.length>0?(O(),D("div",C6,[(O(!0),D(Fe,null,ct(o.value,y=>(O(),D("div",{key:y.id,class:"user-item p-2",onClick:x=>c(y),style:{cursor:"pointer"}},H(y.firstname)+" "+H(y.lastname),9,k6))),128))])):(O(),D("div",S6,H(b(t).state.strings.nousersfound),1))])):_e("",!0),s.value.length?(O(),D("div",O6,[(O(!0),D(Fe,null,ct(s.value,y=>(O(),D("div",{key:y.id,class:"card card-user mb-2 mr-2"},[m("div",T6,[m("span",null,H(y.firstname)+" "+H(y.lastname),1),s.value.length>1?(O(),D("button",{key:0,class:"btn btn-link text-danger p-0",onClick:x=>f(y.id),title:b(t).state.strings.removeuser},"  ",8,I6)):_e("",!0)])]))),128))])):_e("",!0)]))}},[["__scopeId","data-v-30e001b9"]]),M6={key:0},A6={class:"col-12"},P6={class:"font-weight-bold"},R6={class:"required-sign",style:{display:"inline-flex","align-items":"center","line-height":"1",width:"auto"}},V6={class:"fa fa-exclamation-circle text-danger ml-2"},L6={class:"mb-2"},z6=["placeholder"],B6={class:"col-12"},F6={class:"font-weight-bold"},H6={class:"required-sign",style:{display:"inline-flex","align-items":"center","line-height":"1",width:"auto"}},U6={class:"fa fa-exclamation-circle text-danger ml-2"},j6={class:"mb-2"},G6=["placeholder"],W6={class:"col-12 row"},q6={class:"col-6"},Y6={class:"font-weight-bold"},K6={class:"mb-2"},X6={key:0,class:"mb-2"},Z6={key:0,class:"image-preview-container"},J6=["src"],Q6={key:1,class:"image-selection-container"},eB=["onClick"],tB=["src"],nB={for:"newImage"},oB={key:0},iB=["src"],rB={key:1},sB={class:"card border-primary mb-3"},aB={class:"card-header bg-primary text-white"},lB={class:"card-title mb-0"},uB={style:{padding:"1rem"}},cB={key:0},dB=["title"],fB={key:1},pB={class:"card border-secondary"},hB={class:"card-header bg-secondary text-white"},gB={class:"card-title mb-0"},vB={style:{padding:"1rem"}},mB={class:"card-text"},J1=nt({__name:"textInputs",props:{goal:{type:Object,default:null}},emits:["change-GoalName","change-GoalDescription","change-LpImage"],setup(e,{emit:t}){const n=e,o=We(),i=t,s=X(""),a=X(""),u=X(!1),c=X([]),f=X(""),d=X(null),p=X(null),g=x=>{f.value=x,u.value=!1,i("change-LpImage",f.value)},v=x=>{const S=x.target.files[0];if(d.value=S,S){const R=new FileReader;R.onload=I=>{p.value=I.target.result},R.readAsDataURL(S)}else p.value=null},w=async()=>{if(!d.value)return;const x=new FileReader;x.onload=async S=>{const R=S.target.result.split(",")[1];try{const I=await o.dispatch("uploadNewLpImage",R);Qt({title:o.state.strings.image_title_save,text:o.state.strings.image_description_save,type:"success"}),g(I.filename),p.value=null}catch(I){console.error("Error uploading image:",I)}},x.readAsDataURL(d.value)};Ke(()=>{s.value=n.goal.name,a.value=n.goal.description,f.value=n.goal.image,o.state.lpimages.node_background_image&&o.state.lpimages.node_background_image.forEach(x=>{(x.path.includes("/local/adele")||x.path.includes("/uploaded_file_lp_"+o.state.learningPathID+"."))&&c.value.push(x.path)})}),Le(s,x=>{o.state.learningpath.name=x,i("change-GoalName",x)}),Le(a,x=>{o.state.learningpath.description=x,i("change-GoalDescription",x)}),Le(()=>o.state.learningpath,async()=>{s.value=o.state.learningpath.name,a.value=o.state.learningpath.description,f.value=o.state.learningpath.image},{deep:!0});const y=async x=>{o.state.learningPathID=x,window.open(o.state.wwwroot+"/local/adele/index.php#/learningpaths/edit/"+x,"_blank")};return(x,S)=>{const R=Xr("tooltip"),I=Xr("autowidth");return O(),D("div",null,[b(o).state.view!="teacher"?(O(),D("div",M6,[m("div",A6,[m("h4",P6,[Ue(H(b(o).state.strings.fromlearningtitel)+" ",1),m("span",R6,[Ye(m("i",V6,null,512),[[R,b(o).state.strings.required]])])]),m("div",L6,[Ye(m("input",{id:"goalnameplaceholder","onUpdate:modelValue":S[0]||(S[0]=L=>s.value=L),class:"form-control fancy-input",placeholder:b(o).state.strings.goalnameplaceholder,type:"text",autofocus:""},null,8,z6),[[Mt,s.value],[I,{maxWidth:"960px",minWidth:"20px",comfortZone:0}]])])]),m("div",B6,[m("h4",F6,[Ue(H(b(o).state.strings.fromlearningdescription)+" ",1),m("span",H6,[Ye(m("i",U6,null,512),[[R,b(o).state.strings.required]])])]),m("div",j6,[Ye(m("textarea",{id:"goalsubjectplaceholder","onUpdate:modelValue":S[1]||(S[1]=L=>a.value=L),class:"form-control fancy-input",placeholder:b(o).state.strings.goalsubjectplaceholder},null,8,G6),[[Mt,a.value],[I,{maxWidth:"960px",minWidth:"40%",comfortZone:0}]])])]),m("div",W6,[m("div",q6,[m("h4",Y6,H(b(o).state.strings.from_default_node_image),1),m("div",K6,[Ue(H(b(o).state.strings.uploaddefaultimage)+" ",1),b(o).state.lpimages&&Object.keys(b(o).state.lpimages).length>0?(O(),D("div",X6,[m("button",{type:"button",class:"btn btn-info",onClick:S[2]||(S[2]=L=>u.value=!u.value)},H(b(o).state.strings.selectdefaultimage),1),f.value?(O(),D("div",Z6,[m("img",{src:f.value,alt:"Selected Image",class:"image-preview"},null,8,J6),m("button",{class:"deselect-btn",onClick:S[3]||(S[3]=L=>g())},H(b(o).state.strings.deselectdefaultimage),1)])):_e("",!0),u.value?(O(),D("div",Q6,[(O(!0),D(Fe,null,ct(c.value,L=>(O(),D("div",{key:L,class:"image-option",onClick:U=>g(L)},[m("img",{src:L,alt:"Image",class:"image-option-img"},null,8,tB)],8,eB))),128))])):_e("",!0)])):_e("",!0),m("div",null,[m("label",nB,H(b(o).state.strings.uploadowndefaultimage),1),m("input",{type:"file",id:"newImage",onChange:v},null,32),p.value?(O(),D("div",oB,[m("img",{src:p.value,alt:"Selected Image",class:"image-preview"},null,8,iB),m("button",{type:"button",class:"btn btn-info",onClick:S[4]||(S[4]=L=>w())},H(b(o).state.strings.uploaddefaultimage),1)])):_e("",!0)])])]),pe(D6)])])):(O(),D("div",rB,[m("div",sB,[m("div",aB,[m("h5",lB,H(b(o).state.strings.fromlearningtitel),1)]),m("div",uB,[m("h4",null,H(s.value),1),s.value?(O(),D("span",cB,[m("button",{type:"button",class:"btn btn-outline-primary btn-sm",title:b(o).state.strings.charthelper_go_to_learningpath,onClick:S[5]||(S[5]=Xe(L=>y(n.goal.id),["prevent"]))},H(b(o).state.strings.modals_edit),9,dB)])):(O(),D("span",fB,H(b(o).state.strings.charthelper_no_name),1))])]),m("div",pB,[m("div",hB,[m("h5",gB,H(b(o).state.strings.fromlearningdescription),1)]),m("div",vB,[m("p",mB,H(a.value?a.value:b(o).state.strings.charthelper_no_name),1)])])]))])}}},[["__scopeId","data-v-499af963"]]),_B={key:0,class:"table-container"},yB={class:"table"},Q1=nt({__name:"UserList",setup(e){const t=We(),n=X([...t.state.lpuserpathrelations.slice(0,10)]),o=X(""),i=X(1),s=X(null),a=X(!0),u=$e(()=>t.state.view==="student"?7:6),c=$e(()=>`${100/u.value}%`);Le(()=>t.state.lpuserpathrelations,v=>{t.state.view==="student"&&t.state.userlist===2?n.value=v.filter(w=>w.id===t.state.user):n.value=[...v],t.state.view==="student"&&(s.value=t.state.lpuserpathrelation.user_id),f()}),Ke(()=>{f()});const f=()=>{St(()=>{if(s.value){const v=document.querySelector(".highlighted-row");if(v){const w=document.querySelector(".table-container"),y=v.offsetTop,x=w.clientHeight,S=v.clientHeight,R=y-x/2+S/2;w.scrollTo({top:R,behavior:"smooth"})}}})},d=()=>{a.value=!a.value},p=v=>{o.value===v?i.value*=-1:(o.value=v,i.value=1),n.value.sort((w,y)=>{const x=v.split(".").reduce((R,I)=>R[I],w),S=v.split(".").reduce((R,I)=>R[I],y);return(x>S?1:-1)*i.value})},g=v=>({sortable:!0,sorted:o.value===v,ascending:o.value===v&&i.value===1,descending:o.value===v&&i.value===-1});return(v,w)=>{const y=Yr("router-link");return O(),D("div",null,[m("button",{onClick:d,class:"btn-primary toggle-button"},H(a.value?b(t).state.strings.user_view_user_list_hide:b(t).state.strings.user_view_user_list_show)+" "+H(b(t).state.strings.user_view_user_list),1),pe(Ci,{name:"slide-fade"},{default:Qe(()=>[a.value?(O(),D("div",_B,[m("table",yB,[m("thead",null,[m("tr",null,[b(t).state.view!=="student"?(O(),D("th",{key:0,onClick:w[0]||(w[0]=x=>p("id")),class:Be(g("id")),style:Me({width:c.value})},H(b(t).state.strings.user_view_id),7)):_e("",!0),m("th",{onClick:w[1]||(w[1]=x=>p("firstname")),class:Be(g("firstname")),style:Me({width:c.value})},H(b(t).state.strings.user_view_firstname),7),m("th",{onClick:w[2]||(w[2]=x=>p("lastname")),class:Be(g("lastname")),style:Me({width:c.value})},H(b(t).state.strings.user_view_lastname),7),m("th",{onClick:w[3]||(w[3]=x=>p("progress.progress")),class:Be(g("progress.progress")),style:Me({width:c.value})},H(b(t).state.strings.user_view_progress),7),m("th",{onClick:w[4]||(w[4]=x=>p("progress.completed_nodes")),class:Be(g("progress.completed_nodes")),style:Me({width:c.value})},H(b(t).state.strings.user_view_nodes),7),m("th",{onClick:w[5]||(w[5]=x=>p("rank")),class:Be(g("rank")),style:Me({width:c.value})},H(b(t).state.strings.userlistranking),7)])]),pe(Am,{name:"list",tag:"tbody"},{default:Qe(()=>[(O(!0),D(Fe,null,ct(n.value,x=>(O(),D("tr",{key:x.id,class:Be({"highlighted-row":x.id===s.value})},[b(t).state.view!=="student"?(O(),D("td",{key:0,style:Me({width:c.value})},[pe(y,{to:{name:"userDetails",params:{learningpathId:b(t).state.learningPathID,userId:x.id}}},{default:Qe(()=>[Ue(H(x.id),1)]),_:2},1032,["to"])],4)):_e("",!0),m("td",{style:Me({width:c.value})},H(x.firstname),5),m("td",{style:Me({width:c.value})},H(x.lastname),5),m("td",{style:Me({width:c.value})},[pe(Ha,{progress:x.progress.progress},null,8,["progress"])],4),m("td",{style:Me({width:c.value})},H(x.progress.completed_nodes),5),m("td",{style:Me({width:c.value})},H(x.rank),5)],2))),128))]),_:1})])])):_e("",!0)]),_:1})])}}},[["__scopeId","data-v-9ea066a7"]]),bB={key:0},wB={__name:"TeacherView",setup(e){const t=We(),n=X(null);return Ke(async()=>{n.value=await t.dispatch("fetchLearningpath"),t.dispatch("fetchUserPathRelations")}),(o,i)=>(O(),D("div",null,[m("div",null,[n.value?(O(),D("div",bB,[pe(J1,{goal:n.value},null,8,["goal"]),pe(Z1,{learningpath:n.value},null,8,["learningpath"]),pe(Q1)])):_e("",!0)])]))}};function EB(e){return bl()?(Hs(e),!0):!1}function Sn(e){return typeof e=="function"?e():b(e)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const eb=()=>{};function tb(e,t){function n(...o){return new Promise((i,s)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(i).catch(s)})}return n}const xB=e=>e();function nb(e,t={}){let n,o,i=eb;const s=u=>{clearTimeout(u),i(),i=eb};return u=>{const c=Sn(e),f=Sn(t.maxWait);return n&&s(n),c<=0||f!==void 0&&f<=0?(o&&(s(o),o=null),Promise.resolve(u())):new Promise((d,p)=>{i=t.rejectOnCancel?p:d,f&&!o&&(o=setTimeout(()=>{n&&s(n),o=null,d(u())},f)),n=setTimeout(()=>{o&&s(o),o=null,d(u())},c)})}}function $B(e,t=!1,n="Timeout"){return new Promise((o,i)=>{setTimeout(t?()=>i(n):o,e)})}function ob(e){return e}function NB(e,t=200,n={}){return tb(nb(t,n),e)}function CB(e,t,n={}){const{eventFilter:o=xB,...i}=n;return Le(e,tb(o,t),i)}function kB(e,t,n={}){const{debounce:o=0,maxWait:i=void 0,...s}=n;return CB(e,t,{...s,eventFilter:nb(o,{maxWait:i})})}const SB=Object.assign({},{linear:ob},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});function OB([e,t,n,o]){const i=(d,p)=>1-3*p+3*d,s=(d,p)=>3*p-6*d,a=d=>3*d,u=(d,p,g)=>((i(p,g)*d+s(p,g))*d+a(p))*d,c=(d,p,g)=>3*i(p,g)*d*d+2*s(p,g)*d+a(p),f=d=>{let p=d;for(let g=0;g<4;++g){const v=c(p,e,n);if(v===0)return p;const w=u(p,e,n)-d;p-=w/v}return p};return d=>e===t&&n===o?d:u(f(d),t,o)}function ib(e,t,n){return e+n*(t-e)}function Gp(e){return(typeof e=="number"?[e]:e)||[]}function TB(e,t,n,o={}){var i,s;const a=Sn(t),u=Sn(n),c=Gp(a),f=Gp(u),d=(i=Sn(o.duration))!=null?i:1e3,p=Date.now(),g=Date.now()+d,v=typeof o.transition=="function"?o.transition:(s=Sn(o.transition))!=null?s:ob,w=typeof v=="function"?v:OB(v);return new Promise(y=>{e.value=a;const x=()=>{var S;if((S=o.abort)!=null&&S.call(o)){y();return}const R=Date.now(),I=w((R-p)/d),L=Gp(e.value).map((U,V)=>ib(c[V],f[V],I));Array.isArray(e.value)?e.value=L.map((U,V)=>{var G,q;return ib((G=c[V])!=null?G:0,(q=f[V])!=null?q:0,I)}):typeof e.value=="number"&&(e.value=L[0]),R<g?requestAnimationFrame(x):(e.value=u,y())};x()})}function IB(e,t={}){let n=0;const o=()=>{const s=Sn(e);return typeof s=="number"?s:s.map(Sn)},i=X(o());return Le(o,async s=>{var a,u;if(Sn(t.disabled))return;const c=++n;if(t.delay&&await $B(Sn(t.delay)),c!==n)return;const f=Array.isArray(s)?s.map(Sn):Sn(s);(a=t.onStarted)==null||a.call(t),await TB(i,i.value,f,{...t,abort:()=>{var d;return c!==n||((d=t.abort)==null?void 0:d.call(t))}}),(u=t.onFinished)==null||u.call(t)},{deep:!0}),Le(()=>Sn(t.disabled),s=>{s&&(n++,i.value=o())}),EB(()=>{n++}),$e(()=>Sn(t.disabled)?o():i.value)}const DB=["id","d","marker-end"],MB=["transform"],AB=nt(Object.assign({inheritAttrs:!1},{__name:"TransitionEdge",props:{id:{type:String,required:!0},source:{type:String,required:!0},target:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,required:!0},targetPosition:{type:String,required:!0},data:{type:Object,required:!0},markerEnd:{type:String,required:!0},hidden:{type:Boolean,required:!1,default:!1}},emits:["end-transition"],setup(e,{emit:t}){const n=e,o=X(),i=X(!1),s=X(),a=X({x:0,y:0}),u=X(!1),{fitBounds:c,onEdgeClick:f}=lt(),d=X(""),p=X(""),g=300,v=600,w=t,y=$e(()=>Yu({sourceX:n.sourceX,sourceY:n.sourceY,sourcePosition:n.sourcePosition,targetX:n.targetX,targetY:n.targetY,targetPosition:n.targetPosition})),x=NB(c,1,{maxWait:1});return f(({edge:S})=>{if(!u.value&&S.id==n.id){i.value=!0;const R=document.querySelector(`[data-id="${n.id}"]`),I=R.parentNode;R&&R.parentNode&&(I.style.zIndex=1);const L=d.value!=n.target,U=p.value!=n.source;d.value=L?n.target:n.source,p.value=U?n.source:n.target,w("end-transition",p.value),u.value=!0;let V=o.value.getTotalLength();const G=X(L??U?0:V);let q;const T=V*5,W=T>5e3?5e3:T,J=IB(G,{duration:W,transition:SB.easeOutCubic,onFinished:()=>{q?.(),u.value=!1,w("end-transition",d.value),R&&R.parentNode&&(I.style.zIndex=0),i.value=!1}});a.value=o.value.getPointAtLength(J.value),setTimeout(()=>{G.value=L??U?V:0,q=kB(J,B=>{if(!u.value)return;const Z=o.value.getTotalLength();V!==Z&&(V=Z,G.value=L??U?V:0),a.value=o.value.getPointAtLength(B);const N=L?450:150;x({width:g,height:v,x:a.value.x-150,y:a.value.y-N})},{debounce:1})},500)}}),(S,R)=>(O(),D(Fe,null,[m("path",{id:e.id,ref_key:"curve",ref:o,class:Be(["vue-flow__edge-path trans-edge",{"active-edge":i.value}]),d:y.value[0],"marker-end":e.markerEnd},null,10,DB),pe(Ci,{name:"fade"},{default:Qe(()=>[u.value?(O(),D("circle",{key:0,ref_key:"dot",ref:s,r:"5",cy:"0",cx:"0",transform:`translate(${a.value.x}, ${a.value.y})`,style:{fill:"#fdd023"}},null,8,MB)):_e("",!0)]),_:1})],64))}}),[["__scopeId","data-v-aaaaf00d"]]),PB={class:"form-check"},RB=["id","checked"],VB=["for"],LB={__name:"manual_output",props:{modelValue:{type:Boolean,default:null},data:{type:Object,default:null}},setup(e){const t=We();return(n,o)=>(O(),D("div",PB,[m("input",{id:e.data.node_id,class:"form-check-input",type:"checkbox",checked:e.modelValue,onChange:o[0]||(o[0]=i=>n.$emit("update:modelValue",i.target.checked))},null,40,RB),m("label",{for:e.data.node_id},H(b(t).state.strings.conditions_finish_course),9,VB)]))}},zB={class:"col 12 mt-2"},rb={__name:"CompletionOutPutItem",props:{data:{type:Object,default:null}},setup(e){const t=e,n=["manual"],o=s=>{switch(s){case"manual":return LB;default:return null}},i=s=>t.data?o(s):null;return(s,a)=>(O(),D("div",zB,[(O(),D(Fe,null,ct(n,u=>m("div",{key:u},[(O(),dt(Kr(i(u)),{modelValue:e.data.manualcompletionvalue,"onUpdate:modelValue":a[0]||(a[0]=c=>e.data.manualcompletionvalue=c),data:e.data},null,8,["modelValue","data"]))])),64))]))}},BB={class:"col 12 mt-2"},sb={__name:"RestrictionOutPutItem",props:{data:{type:Object,required:!0}},setup(e){const t=e,n=["manual"],o=s=>{switch(s){case"manual":return j0;default:return null}},i=s=>t.data?o(s):null;return(s,a)=>(O(),D("div",BB,[(O(),D(Fe,null,ct(n,u=>m("div",{key:u},[(O(),dt(Kr(i(u)),{modelValue:e.data.manualrestrictionvalue,"onUpdate:modelValue":a[0]||(a[0]=c=>e.data.manualrestrictionvalue=c),data:e.data},null,8,["modelValue","data"]))])),64))]))}},FB=["id"],HB={key:0},UB={class:"form-check"},jB=["id"],GB=["for"],WB={class:"form-check"},qB=["id"],YB=["for"],ab=nt({__name:"MasterConditions",props:{data:{type:Object,required:!0}},setup(e){const t=We(),n=e,o=X({}),i=X(!1);Ke(()=>{o.value=n.data,o.value=s(o.value)});const s=u=>(u.completion.master===null||u.completion.master===void 0?u.completion.master={completion:!1,restriction:!1}:(u.completion.master.completion===void 0&&(u.completion.master.completion=!1),u.completion.master.restriction===void 0&&(u.completion.master.restriction=!1)),u),a=()=>{i.value=!i.value};return(u,c)=>(O(),D("div",null,[m("button",{class:"btn btn-secondary dropdown-toggle master-dropdown",type:"button",id:o.value.node_id+"_dropdown_menu_button",onClick:a},H(b(t).state.strings.course_master_conditions),9,FB),i.value?(O(),D("div",HB,[m("div",UB,[Ye(m("input",{id:o.value.node_id+"_master_restriction",class:"form-check-input",type:"checkbox","onUpdate:modelValue":c[0]||(c[0]=f=>o.value.completion.master.restriction=f)},null,8,jB),[[is,o.value.completion.master.restriction]]),m("label",{for:o.value.node_id+"_master_restriction"},H(b(t).state.strings.course_master_condition_restriction),9,GB)]),m("div",WB,[Ye(m("input",{id:o.value.node_id+"_master_completion",class:"form-check-input",type:"checkbox","onUpdate:modelValue":c[1]||(c[1]=f=>o.value.completion.master.completion=f)},null,8,qB),[[is,o.value.completion.master.completion]]),m("label",{for:o.value.node_id+"_master_completion"},H(b(t).state.strings.course_master_condition_completion),9,YB)])])):_e("",!0)]))}},[["__scopeId","data-v-16fef095"]]),KB={class:"card-header text-center"},XB={class:"row align-items-center"},ZB={class:"col"},JB={class:"overlay"},QB={class:"row mb-2"},eF={class:"col-4 text-left"},tF={class:"col-8",style:{display:"flex","justify-content":"end"}},nF={key:0},oF={key:1},iF={key:0,class:"card-footer"},rF=nt({__name:"CustomNodeEdit",props:{data:{type:Object,required:!0},learningpath:{type:Object,required:!0},zoomstep:{type:Number,required:!0}},emits:["zoomOnParent"],setup(e,{emit:t}){const n=We(),o=X({}),i=X([]),s=X({}),a=e,u=X(!1),c=X(!0),f=()=>{c.value=!1};Ke(()=>{a.learningpath.json.tree.nodes.forEach(q=>{a.data.node_id==q.id&&(s.value=q,q.restriction&&q.restriction.nodes&&q.restriction.nodes.forEach(T=>{T.data.label=="timed"&&(o.value=T.data.value)}),q.parentCourse.includes("starting_node")&&(S.value=!0))}),a.data.course_node_id&&n.state.availablecourses&&a.data.course_node_id.forEach(q=>{const T=n.state.availablecourses.find(W=>W.course_node_id[0]===q);T&&i.value.push({id:T.course_node_id[0],name:T.fullname})}),(n.state.view=="teacher"||a.data.completion.singlerestrictionnode&&a.data.completion.singlerestrictionnode.length==0||a.data.completion.restrictionnode&&a.data.completion.restrictionnode.valid||a.data.completion.feedback.status=="accessible")&&(u.value=!0);const G=()=>{a.data.completion.feedback&&a.data.completion.feedback.status!=="closed"&&a.data.completion.feedback.status!=="not_accessible"&&(a.data.animations&&a.data.animations.seenrestriction===!1&&c.value?(L.value="expanding",setTimeout(()=>{U.value="fa-play",setTimeout(()=>{L.value="fading",setTimeout(()=>{G(),c.value?U.value="fa-lock":U.value="fa-play"},2e3)},2e3)},750)):(U.value="fa-play",L.value=""))};G()});const d=X(null),p=t,g=()=>{if(d.value){let V=d.value.parentElement;for(;V;){if(V.classList.contains("vue-flow__node")){let G=V.parentElement;G&&Array.from(G.children).forEach(T=>{T.style.zIndex="10"}),V.style.zIndex="1001";break}V=V.parentElement}}p("zoomOnParent",{})},v=$e(()=>w(a.data)),w=V=>{if(V.selected_course_image)return V.selected_course_image;if(V.selected_image)return V.selected_image;if(V.image_paths)return V.image_paths;if(n.state.lpuserpathrelation.image)return n.state.lpuserpathrelation.image},y=$e(()=>a.data.completion.completionnode?{backgroundColor:a.data.completion.completionnode.valid?n.state.strings.LIGHT_STEEL_BLUE:n.state.strings.LIGHT_GRAY}:{backgroundColor:a.data.completion?n.state.strings.LIGHT_STEEL_BLUE:n.state.strings.LIGHT_GRAY}),x=$e(()=>({backgroundColor:a.data.color,filter:"invert(100%)",width:"10px",height:"10px"})),S=X(!1),R={borderColor:n.state.strings.DEEP_SKY_BLUE,borderWidth:"3px"},I=()=>{if(U.value=="fa-play"){let V=n.state.wwwroot+"/course/view.php?id="+a.data.course_node_id;window.open(V,"_blank")}},L=X("initial"),U=X("fa-lock");return(V,G)=>(O(),D("div",{onClick:f,ref_key:"customNodeEdit",ref:d},[e.zoomstep!="0.2"?(O(),D("div",{key:0,class:"card",style:Me([{minHeight:"200px",width:"400px"},R])},[m("div",KB,[pe(Fa,{data:e.data,parentnode:s.value,startanimation:c.value},null,8,["data","parentnode","startanimation"]),m("div",XB,[m("div",ZB,[m("h5",null,H(b(Yn)(e.data.fullname||b(n).state.strings.nodes_collection,45)),1)])])]),m("div",{class:Be(["card-body",u.value?"active-node":"inactive-node"]),style:Me([y.value])},[m("div",null,[m("div",{class:"card-img dashboard-card-img mb-2",style:Me({height:"10rem",backgroundImage:v.value?"url("+v.value+")":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:v.value?"":"#cccccc"})},[m("div",JB,[m("button",{class:"icon-link",onClick:I},[m("i",{class:Be(["fa",U.value,{"icon-fading":L.value==="fading","icon-expanding":L.value==="expanding","icon-fadingIn":L.value==="fadingIn"}])},null,2)])])],4),m("div",QB,[m("div",eF,[m("b",null,H(b(n).state.strings.nodes_progress),1)]),m("div",tF,[pe(Ha,{progress:e.data.progress},null,8,["progress"])]),b(n).state.view=="teacher"&&e.data.manualrestriction?(O(),D("div",nF,[pe(sb,{data:e.data},null,8,["data"])])):_e("",!0),b(n).state.view=="teacher"&&e.data.manualcompletion?(O(),D("div",oF,[pe(rb,{data:e.data},null,8,["data"])])):_e("",!0),b(n).state.view=="teacher"?(O(),dt(ab,{key:2,class:"col-12",data:e.data},null,8,["data"])):_e("",!0)])])],6),e.data?(O(),D("div",iF,[pe(Ua,{data:e.data,onFocusChanged:g},null,8,["data"])])):_e("",!0)],4)):(O(),D("div",{key:1,class:"card",style:Me([{minHeight:"300px",width:"400px"},R])},[m("div",{class:"card-body card-body-outer",style:Me([y.value])},H(b(Yn)(e.data.fullname||b(n).state.strings.nodes_collection,28)),5)],4)),b(n).state.view!="teacher"&&b(n).state.view!="student"?(O(),dt(b(Pt),{key:2,id:"target",type:"target",position:b(Re).Top,style:Me(x.value)},null,8,["position","style"])):_e("",!0),b(n).state.view!="teacher"&&b(n).state.view!="student"?(O(),dt(b(Pt),{key:3,id:"source",type:"source",position:b(Re).Bottom,style:Me(x.value)},null,8,["position","style"])):_e("",!0)],512))}},[["__scopeId","data-v-72fb3167"]]),sF={class:"card-header text-center"},aF={class:"row align-items-center"},lF={class:"col"},uF={key:0},cF={class:"overlay"},dF=["disabled"],fF={key:1,class:"icon-link"},pF={class:"row mb-2"},hF={class:"col-4 text-left"},gF={class:"col-8",style:{display:"flex","justify-content":"end"}},vF={key:1},mF={key:0},_F={key:1},yF={key:2},bF={key:0,class:"card-footer"},wF=nt({__name:"CustomStagNodeEdit",props:{data:{type:Object,required:!0},learningpath:{type:Object,required:!0},zoomstep:{type:Number,required:!0}},emits:["node-clicked","expanding-cards"],setup(e,{emit:t}){const n=We(),o=X({}),i=X(0),s=$e(()=>a(f.data)),a=V=>{if(V.selected_course_image)return V.selected_course_image;if(V.selected_image)return V.selected_image;if(V.image_paths)return V.image_paths;if(n.state.lpuserpathrelation.image)return n.state.lpuserpathrelation.image},u=X("parallel"),c=X({}),f=e,d=t,p=X(!1);let g=1,v={};Ke(()=>{const V=f.learningpath;V.json.tree.nodes.forEach(G=>{f.data.node_id==G.id&&(c.value=G,G.restriction&&G.restriction.nodes&&G.restriction.nodes.forEach(q=>{q.data.label=="timed"&&(o.value=q.data.value)}),G.parentCourse.includes("starting_node")&&(x.value=!0),G.completion&&G.completion.nodes&&G.completion.nodes.forEach(q=>{q.data.label=="course_completed"&&q.data.value.min_courses>1&&(u.value="non_parallel",g=q.data.value.min_courses,V.json.user_path_relation[G.id]&&V.json.user_path_relation[G.id].completioncriteria&&(v=V.json.user_path_relation[G.id].completioncriteria.course_completed.completed))}))}),(n.state.view!="student"||f.data.completion.singlerestrictionnode.length==0||f.data.completion.restrictionnode.valid||f.data.completion.feedback.status=="accessible")&&(p.value=!0),f.data.completion.completioncriteria.course_completed.inbetween_info?i.value=f.data.completion.completioncriteria.course_completed.inbetween_info:i.value=f.data.progress});const w=$e(()=>f.data.completion.completionnode?{backgroundColor:f.data.completion.completionnode.valid?n.state.strings.LIGHT_STEEL_BLUE:n.state.strings.LIGHT_GRAY}:{backgroundColor:f.data.completion?n.state.strings.LIGHT_STEEL_BLUE:n.state.strings.LIGHT_GRAY}),y=$e(()=>({backgroundColor:f.data.color,filter:"invert(100%)",width:"10px",height:"10px"})),x=X(!1),S=X(!1),R=X(!1),I=()=>{R.value=!1},L={borderColor:n.state.strings.DEEP_SKY_BLUE,borderWidth:"3px"},U=()=>{S.value=!S.value,R.value=!0,S.value&&d("expanding-cards")};return(V,G)=>(O(),D("div",{onClick:G[0]||(G[0]=q=>d("node-clicked",f.data))},[e.zoomstep!="0.2"?(O(),D("div",{key:0,class:"card",style:Me([{minHeight:"200px",width:"400px"},L])},[G[2]||(G[2]=m("div",{class:Be("non_parallel")},null,-1)),m("div",sF,[pe(Fa,{data:e.data,parentnode:c.value},null,8,["data","parentnode"]),m("div",aF,[m("div",lF,[m("h5",null,H(b(Yn)(e.data.fullname||b(n).state.strings.nodes_collection,45)),1)])])]),m("div",{class:Be(["card-body",p.value?"active-node":"inactive-node"]),style:Me([w.value])},[b(g)>1?(O(),D("div",uF,[pe(G1,{"min-courses":b(g),"finished-courses":b(v)},null,8,["min-courses","finished-courses"])])):_e("",!0),m("div",{class:"card-img dashboard-card-img mb-2",style:Me({height:"10rem",backgroundImage:s.value?"url("+s.value+")":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:s.value?"":"#cccccc"})},[m("div",cF,[p.value?(O(),D("button",{key:0,class:"icon-link",disabled:R.value,onClick:Xe(U,["stop"])},[m("i",{class:Be(["fa",S.value?"fa-minus-circle":"fa-plus-circle"])},null,2)],8,dF)):(O(),D("button",fF,[...G[1]||(G[1]=[m("i",{class:Be("fa fa-lock")},null,-1)])]))])],4),m("div",pF,[m("div",hF,[m("b",null,H(b(n).state.strings.nodes_progress),1)]),m("div",gF,[pe(Ha,{progress:e.data.progress},null,8,["progress"])])]),b(n).state.view!=="student"?(O(),D("div",vF,[e.data.manualrestriction?(O(),D("div",mF,[pe(sb,{data:e.data},null,8,["data"])])):_e("",!0),e.data.manualcompletion?(O(),D("div",_F,[pe(rb,{data:e.data},null,8,["data"])])):_e("",!0)])):_e("",!0),S.value?(O(),D("div",yF,[pe(W1,{data:e.data,onDoneFolding:I},null,8,["data"])])):_e("",!0),b(n).state.view=="teacher"?(O(),dt(ab,{key:3,class:"col-12",data:e.data},null,8,["data"])):_e("",!0)],6),e.data?(O(),D("div",bF,[pe(j1,{courses:f.data},null,8,["courses"]),pe(Ua,{data:e.data},null,8,["data"])])):_e("",!0)],4)):(O(),D("div",{key:1,class:"card",style:Me([{minHeight:"300px",width:"400px"},L])},[G[3]||(G[3]=m("div",{class:Be("non_parallel")},null,-1)),m("div",{class:"card-body card-body-outer",style:Me([w.value])},H(b(Yn)(e.data.fullname||b(n).state.strings.nodes_collection,28)),5)],4)),b(n).state.view!="teacher"&&b(n).state.view!="student"?(O(),dt(b(Pt),{key:2,id:"target",type:"target",position:b(Re).Top,style:Me(y.value)},null,8,["position","style"])):_e("",!0),b(n).state.view!="teacher"&&b(n).state.view!="student"?(O(),dt(b(Pt),{key:3,id:"source",type:"source",position:b(Re).Bottom,style:Me(y.value)},null,8,["position","style"])):_e("",!0)]))}},[["__scopeId","data-v-88d27f64"]]),EF={key:0,class:"cancelConfi"},xF=nt({__name:"UserControls",setup(e){const t=We(),n=gr(),o=fu(),{toObject:i}=lt(),s=X(!1),a=async()=>{let f=i();const d=o.params;f=await wp(f,null),await t.dispatch("saveUserPathRelation",{nodes:f.nodes,route:d}),n.push({path:"/learningpaths/edit/",query:{notify:!0}})},u=()=>{s.value=!s.value},c=()=>{n.go(-1)};return(f,d)=>(O(),dt(b(Va),{class:"save-restore-controls"},{default:Qe(()=>[m("button",{class:"btn btn-primary m-2",onClick:a},H(b(t).state.strings.save),1),m("button",{class:"btn btn-secondary m-2",onClick:u},H(b(t).state.strings.btncancel),1),s.value?(O(),D("div",EF,[Ue(H(b(t).state.strings.flowchart_cancel_confirmation)+" ",1),m("button",{id:"cancel-learning-path",class:"btn btn-primary m-2",onClick:u},H(b(t).state.strings.flowchart_back_button),1),m("button",{id:"confim-cancel-learning-path",class:"btn btn-warning m-2",onClick:c},H(b(t).state.strings.flowchart_cancel_button),1)])):_e("",!0)]),_:1}))}},[["__scopeId","data-v-88753718"]]),$F={key:1,class:"mt-3"},NF={key:2,class:"card"},CF={key:0},kF={class:"card-body"},SF={class:"card-title"},OF={class:"list-group list-group-flush"},TF={class:"list-group-item"},IF={class:"list-group-item"},DF={class:"list-group-item"},MF={key:1,class:"d-flex justify-content-center control-btns"},lb={__name:"UserPath",props:{userlearningpathparent:{type:Object,default:null}},setup(e){const t=gr(),n=fu(),o=We(),{addNodes:i,removeNodes:s,findNode:a,zoomTo:u,viewport:c,setCenter:f}=lt(),d=()=>{t.go(-1)},p=e,g=X([]),v=X([]),w=X(0),y=X(!1),x=X({});Ke(async()=>{if(o.state.availablecourses||o.dispatch("fetchAvailablecourses"),p.user_learningpath_parent)x.value=p.user_learningpath_parent;else{let U=[];o.state.view=="student"?U={learningpathId:o.state.learningPathID,userId:o.state.user}:U=n.params,x.value=await o.dispatch("fetchUserPathRelation",U)}x.value&&(I(),setTimeout(()=>{St().then(()=>{const U=g.value.reduce((T,W)=>W.position.y<T.position.y?W:T,g.value[0]),V=Math.min(...g.value.map(T=>T.position.x)),G=Math.max(...g.value.map(T=>T.position.x)),q=(V+G)/2;f(q,U.position.y+800,{duration:1e3,zoom:.35})})},300)),o.state.user==o.state.lpuserpathrelation.user_id&&await o.dispatch("updateUserPathRelation",{lpuserpathid:o.state.lpuserpathrelation.id})});const S=U=>{St(()=>{let V={node:null};V.node=a(U),V.node&&(w.value=gc(V,f,o))})},R=async()=>{await u(.35,{duration:500})};Le(()=>x.value,()=>{I()},{deep:!0});function I(){const U=x.value.json;g.value=U.tree.nodes,v.value=U.tree.edges,v.value.forEach(V=>{V.deletable=!1,V.type="custom"}),setTimeout(()=>{_s(x.value,i,s,a)},100)}function L(U){w.value=gc(U,f,o),St(()=>{document.querySelectorAll(".fa-minus-circle").forEach(G=>{G.click()})})}return(U,V)=>{const G=Yr("notifications");return O(),D("div",null,[pe(G,{width:"100%"}),m("div",null,[b(o).state.view!="student"?(O(),D("button",{key:0,class:"btn btn-outline-primary",onClick:d},[V[1]||(V[1]=m("i",{class:"fa fa-arrow-left"},null,-1)),Ue(" "+H(b(o).state.strings.user_view_go_back_overview),1)])):_e("",!0),b(o).state.view!="student"?(O(),D("h2",$F,H(b(o).state.strings.user_view_user_path_for),1)):_e("",!0),x.value?(O(),D("div",NF,[b(o).state.view!="student"?(O(),D("div",CF,[m("div",kF,[m("h5",SF,[m("i",{class:Be(b(o).state.version?"fa fa-user-circle":"fa fa-user")},null,2),Ue(" "+H(x.value.username),1)]),m("ul",OF,[m("li",TF,[V[2]||(V[2]=m("i",{class:"fa fa-user"},null,-1)),Ue(" "+H(b(o).state.strings.user_view_firstname)+": "+H(x.value.firstname),1)]),m("li",IF,[V[3]||(V[3]=m("i",{class:"fa fa-user"},null,-1)),Ue(" "+H(b(o).state.strings.user_view_lastname)+": "+H(x.value.lastname),1)]),m("li",DF,[V[4]||(V[4]=m("i",{class:"fa fa-envelope"},null,-1)),Ue(" "+H(b(o).state.strings.user_view_email)+": "+H(x.value.email),1)])])])])):_e("",!0),m("div",{style:{width:"100%",height:"600px"},onWheel:V[0]||(V[0]=q=>b(X1)(q,y.value,b(c),b(u)))},[pe(b(ms),{nodes:g.value,edges:v.value,viewport:b(c),"default-viewport":b(c),"max-zoom":1.55,"min-zoom":.15,"zoom-on-scroll":!1,"zoom-on-pinch":!1,class:"learning-path-flow",onNodeClick:L},{"node-custom":Qe(({data:q})=>[pe(rF,{data:q,learningpath:x.value,zoomstep:w.value},null,8,["data","learningpath","zoomstep"])]),"node-orcourses":Qe(({data:q})=>[pe(wF,{data:q,learningpath:x.value,zoomstep:w.value,onExpandingCards:R},null,8,["data","learningpath","zoomstep"])]),"node-module":Qe(({data:q})=>[pe(Hp,{data:q,zoomstep:w.value},null,8,["data","zoomstep"])]),"node-expandedcourses":Qe(({data:q})=>[pe(jp,{data:q,zoomstep:w.value},null,8,["data","zoomstep"])]),"edge-custom":Qe(q=>[pe(AB,dr(q,{onEndTransition:S}),null,16)]),_:1},8,["nodes","edges","viewport","default-viewport"])],32),b(o).state.view!="student"?(O(),D("div",MF,[pe(xF)])):_e("",!0)])):_e("",!0)])])}}},AF={class:"sticky-tabs"},PF=nt({__name:"ViewButton",props:{selectedTab:{type:Boolean,required:!0}},emits:["changed-view"],setup(e,{emit:t}){const n=We(),o=t,i=s=>{o("changed-view",s)};return(s,a)=>(O(),D("div",AF,[m("button",{class:Be({active:e.selectedTab===!1}),onClick:a[0]||(a[0]=u=>i(!1))},H(b(n).state.strings.mobile_view_buttons_path),3),m("button",{class:Be({active:e.selectedTab===!0}),onClick:a[1]||(a[1]=u=>i(!0))},H(b(n).state.strings.mobile_view_buttons_list),3)]))}},[["__scopeId","data-v-86b22f8e"]]),RF={class:"card-content"},VF={class:"task-text"},LF={class:"icons"},ub=nt({__name:"MobileNode",props:{data:{type:Object,required:!0}},setup(e){const t=We(),n=X(""),o=X(null),i=e;Ke(()=>{n.value="Collection",i.data.fullname&&(n.value=i.data.fullname);const a=t.state.lpuserpathrelation.json.modules;t.state.lpuserpathrelation.json.tree.nodes&&typeof i.data.module=="number"&&!isNaN(i.data.module)&&a.forEach(u=>{u.id==i.data.module&&(o.value=u.color)})});const s=$e(()=>"priority-low");return(a,u)=>(O(),D("div",{class:"node-card",style:Me([{width:"400px"},o.value?{backgroundColor:o.value+"10"}:{}])},[m("div",RF,[m("span",VF,H(n.value),1),m("span",LF,[m("i",{class:Be(["fas fa-circle",s.value])},null,2)])]),pe(b(Pt),{id:"target",type:"target",position:b(Re).Top,class:"handle"},null,8,["position"]),pe(b(Pt),{id:"source",type:"source",position:b(Re).Bottom,class:"handle"},null,8,["position"])],4))}},[["__scopeId","data-v-77793fd2"]]),zF={style:{width:"100%",height:"600px"}},BF={__name:"PathView",emits:["changed-details"],setup(e,{emit:t}){const n=We(),{fitView:o}=lt(),i=X([]),s=X([]);let a=null;Ke(()=>{n.state.lpuserpathrelation.json&&c()});const u=t;function c(){i.value=n.state.lpuserpathrelation.json.tree.nodes,s.value=n.state.lpuserpathrelation.json.tree.edges,s.value.forEach(p=>{p.deletable=!1,p.type="smoothstep"}),setTimeout(()=>{o({duration:1e3})},100)}const f=p=>{a?(clearTimeout(a),a=null,d(p.node.id)):a=setTimeout(()=>{a=null},1e3)},d=p=>{u("changed-details",p)};return(p,g)=>(O(),D("div",null,[m("div",zF,[pe(b(ms),{nodes:i.value,edges:s.value,onNodeClick:f},{"node-custom":Qe(({data:v})=>[pe(ub,{data:v},null,8,["data"])]),"node-orcourses":Qe(({data:v})=>[pe(ub,{data:v},null,8,["data"])]),_:1},8,["nodes","edges"])])]))}},FF={class:"todo-list"},HF={class:"header"},UF={class:"button-group"},jF=["onClick"],GF=nt({__name:"ListView",emits:["changed-details"],setup(e,{emit:t}){const n=We(),o=X([]);Ke(()=>{if(n.state.lpuserpathrelation.json.tree.nodes){const a=n.state.lpuserpathrelation.json.tree.nodes,u=n.state.lpuserpathrelation.json.modules;a.forEach(c=>{let f=null;typeof c.data.module=="number"&&!isNaN(c.data.module)&&u.forEach(p=>{p.id==c.data.module&&(f=p.color)});const d=c.data.fullname||"Collection";o.value.push({id:c.id,text:d,type:c.type,color:f})})}});const i=t,s=a=>{i("changed-details",a.id)};return(a,u)=>(O(),D("div",FF,[m("div",HF,[m("h1",null,[u[2]||(u[2]=m("i",{class:"fa-solid fa-list"},null,-1)),Ue(" "+H(b(n).state.strings.mobile_view_list_header),1)]),m("div",UF,[m("button",{onClick:u[0]||(u[0]=(...c)=>a.filterTasks&&a.filterTasks(...c)),title:"Filter"},[...u[3]||(u[3]=[m("i",{class:"fas fa-filter"},null,-1)])]),m("button",{onClick:u[1]||(u[1]=(...c)=>a.sortTasks&&a.sortTasks(...c)),title:"Sort"},[...u[4]||(u[4]=[m("i",{class:"fas fa-sort"},null,-1)])])])]),m("ul",null,[(O(!0),D(Fe,null,ct(o.value,c=>(O(),D("li",{key:c.id,class:Be(c.type),style:Me(c.color?{backgroundColor:c.color+"10"}:{}),onClick:f=>s(c)},[m("span",{class:Be(c.priority)},H(c.text),3),u[5]||(u[5]=m("span",{class:"icons"},[m("i",{class:"fas fa-link"})],-1))],14,jF))),128))])]))}},[["__scopeId","data-v-765506e1"]]),WF={key:0,class:"card"},qF={class:"card-header"},YF={class:"card-body"},KF={key:0},XF={key:1},ZF=["href"],JF=nt({__name:"DetailView",props:{details:{type:String,required:!0}},emits:["changed-details"],setup(e,{emit:t}){const n=We(),o=e,i=X(null),s=X(null),a=X(n.state.wwwroot+"/course/view.php?id=");Ke(()=>{const f=n.state.lpuserpathrelation.json;f.tree.nodes&&f.tree.nodes.forEach(d=>{d.id==o.details&&(i.value=d,a.value+=d.data.course_node_id[0])}),f.user_path_relation&&Object.entries(f.user_path_relation).forEach(([d,p])=>{d==o.details&&(s.value=p)})});const u=t,c=f=>{u("changed-details",f)};return(f,d)=>i.value?(O(),D("div",WF,[m("button",{onClick:d[0]||(d[0]=p=>c(null)),class:"back-button"},H(b(n).state.strings.mobile_view_detail_back),1),m("div",qF,[m("h2",null,H(i.value.data.fullname),1)]),m("div",YF,[i.value.id?(O(),D("p",KF,[m("strong",null,H(b(n).state.strings.mobile_view_detail_id),1),Ue(" "+H(i.value.id),1)])):_e("",!0),i.value.data.description?(O(),D("p",XF,[m("strong",null,H(b(n).state.strings.mobile_view_detail_description),1),Ue(" "+H(i.value.data.description),1)])):_e("",!0),m("p",null,[m("a",{href:a.value,target:"_blank",rel:"noopener noreferrer"}," Go to course ",8,ZF)]),pe(Fa,{class:"mb-4",data:i.value.data,parentnode:{},mobile:!0},null,8,["data"]),pe(Ua,{data:i.value.data,mobile:!0},null,8,["data"])])])):_e("",!0)}},[["__scopeId","data-v-d65e72a8"]]),QF={key:0},eH={key:1},tH={key:2},nH={__name:"MobileViews",props:{selectedTab:{type:Boolean,required:!0}},setup(e){const t=X(null),n=o=>{t.value=o};return(o,i)=>t.value?(O(),D("div",QF,[pe(JF,{details:t.value,onChangedDetails:n},null,8,["details"])])):e.selectedTab?(O(),D("div",eH,[pe(GF,{onChangedDetails:n})])):(O(),D("div",tH,[pe(BF,{onChangedDetails:n})]))}},oH={key:0},iH={key:0},rH={key:1},sH={__name:"StudentView",setup(e){const t=We(),n=fu(),o=X(null),i=X(null),s=X(!0),a=X(null),u=X(window.innerWidth<=600),c=()=>{u.value=window.innerWidth<=600},f=d=>{s.value=d};return Ke(async()=>{t.state.availablecourses||t.dispatch("fetchAvailablecourses");let d=[];t.state.view=="student"?d={learningpathId:t.state.learningPathID,userId:t.state.user}:d=n.params,a.value=await t.dispatch("fetchUserPathRelation",d),o.value=await t.dispatch("fetchLearningpath"),i.value=await t.dispatch("fetchUserPathRelations"),window.addEventListener("resize",c),c()}),ar(()=>{window.removeEventListener("resize",c)}),(d,p)=>a.value?(O(),D("div",oH,[u.value?(O(),D("div",iH,[pe(nH,{"selected-tab":s.value},null,8,["selected-tab"]),pe(PF,{"selected-tab":s.value,onChangedView:f},null,8,["selected-tab"])])):(O(),D("div",rH,[pe(lb,{userlearningpathparent:a.value},null,8,["userlearningpathparent"]),pe(Q1)]))])):_e("",!0)}},aH=(e,t)=>(e.restriction&&e.restriction.nodes.forEach(n=>{!n.id.includes("_feedback")&&n.data.value&&(n.data.value.courses_id&&n.data.value.courses_id.includes(t)&&(n.data.value.courses_id=n.data.value.courses_id.filter(o=>o!==t),n.data.value.min_courses>n.data.value.courses_id.length&&(n.data.value.min_courses-=1)),n.data.value.node_id&&(Array.isArray(n.data.value.node_id)&&n.data.value.node_id.includes(t)?n.data.value.node_id=n.data.value.node_id.filter(o=>o!==t):n.data.value.node_id==t&&delete e.restriction),n.data.value.courseid&&n.data.value.courseid==t&&(n.data.value.courseid=null))}),e),lH={key:0},uH={key:1},cH={key:2},dH={key:0,class:"fade-in"},fH=["disabled"],pH={class:"card p-4"},hH={class:"card-body"},gH={key:0},vH={key:0},mH={key:1,class:"fade-in"},_H={key:2,class:"fade-in"},yH=["disabled"],bH={key:0,class:"cancelConfi"},wH={class:"card p-4"},EH={class:"mt-3"},xH={key:0},$H={key:0},NH={key:3,class:"fade-in"},CH={key:4,class:"fade-in"},vc=nt({__name:"LearningpathsEdit",setup(e){const t=We(),n=gr(),o=fu(),i=X(""),s=X(""),a=X(""),u=X({}),c=X(!1),f=T=>{let W=[];a.value.json.tree.nodes.forEach(J=>{J.id!=T&&(J=aH(J,T),W.push(J))}),a.value.json.tree.nodes=W},d=T=>{t.state.learningpath.name=T},p=T=>{t.state.learningpath.description=T},g=T=>{t.state.learningpath.image=T},v=T=>{T==null&&!o.path.includes("/learningpaths/edit")?n.push({name:"learningpaths-edit-overview"}):T==null&&o.path.includes("/learningpaths/edit")&&o.params.learningpathId?(t.state.editingadding=!0,St(()=>w(o.params.learningpathId))):T==null?n.push({name:"learningpaths-edit-overview"}):T.name==="learningpath-edit"?(t.state.editingadding=!0,St(()=>w(T.params.learningpathId))):T.name==="learningpath-new"?(t.state.editingadding=!0,St(()=>w(null))):T.name==="learningpath-view"&&(t.state.viewing=!0,St(()=>w(null)))};Ke(()=>{o.query.notify&&(Qt({title:t.state.strings.title_save,text:t.state.strings.description_save,type:"success"}),n.replace({path:o.path,query:{}})),t.dispatch("fetchAvailablecourses"),t.state.view!="student"&&t.dispatch("fetchLearningpaths"),n.isReady().then(()=>{console.log("route",o.fullPath,o.params),v(n.value)}).catch(T=>console.log(T))});const w=async(T=null)=>{i.value="",s.value="",T&&(t.state.learningPathID=T),a.value=await t.dispatch("fetchLearningpath"),u.value=JSON.parse(JSON.stringify(a.value)),t.state.editingadding=!0,window.scrollTo(0,0)};zk((T,W,J)=>{console.log("router to",T),v(T),J()});const y=()=>{if(u.value,a.value.description==u.value.description&&a.value.name==u.value.name){let T=!0;(u.value.json.tree&&a.value.json.tree&&u.value.json.tree.nodes&&a.value.json.tree.nodes&&u.value.json.tree.nodes.length!=a.value.json.tree.nodes.length||typeof u.value.json!=typeof a.value.json)&&(T=!1),T&&u.value.json.tree&&a.value.json.tree.nodes.forEach((W,J)=>{(!u.value.json.tree.nodes[J]||JSON.stringify(W.data)!=JSON.stringify(u.value.json.tree.nodes[J].data))&&(c.value=!c.value,T=!1)}),T?x(!1):c.value=!c.value}else c.value=!c.value},x=T=>{T&&y(),t.state.editingadding=!1,t.state.viewing=!1,t.state.editingrestriction=!1,t.state.editingpretest=!1,t.state.learningPathID=null,t.state.learningpath=null,n.push({name:"learningpaths-edit-overview"})},S=()=>{a.value=null},R=T=>{T&&a.value.json.tree.edges&&a.value.json.tree.edges.push(T)},I=T=>{T&&a.value.json&&(a.value.json.tree.edges=T)},L=T=>{T.value=T},U=T=>{a.value.json==""?a.value.json={tree:T}:a.value.json.tree=T},V=async T=>{a.value.json.tree.nodes.forEach(W=>{W.id==T.node_id&&(W.data.fullname=T.fullname,W.data.selected_image=T.selected_image,W.data.selected_course_image=T.selected_course_image)}),Qt({title:t.state.strings.title_save,text:t.state.strings.description_save,type:"success"})},G=async T=>{a.value.json.tree.nodes.forEach(W=>{W.id==t.state.node.node_id&&(W.data.fullname=T.fullname,W.data.description=T.description)}),Qt({title:t.state.strings.title_save,text:t.state.strings.description_save,type:"success"})},q=T=>{a.value.json.tree.nodes.forEach(W=>{W.id==T.id&&(W.position=T.position,W.computedPosition=T.computedPosition)})};return(T,W)=>{const J=Yr("notifications");return O(),D("div",null,[pe(J,{width:"100%"}),b(t).state.view=="teacher"?(O(),D("div",lH,[pe(wB)])):b(t).state.view=="student"?(O(),D("div",uH,[pe(sH)])):(O(),D("div",cH,[T.$store.state.viewing==!0?(O(),D("div",dH,[m("button",{to:{name:"learningpaths-edit-overview"},tag:"button",class:"btn btn-outline-primary mb-2",disabled:c.value,onClick:y},[W[2]||(W[2]=m("i",{class:"fa fa-arrow-left"},null,-1)),Ue(" "+H(b(t).state.strings.user_view_go_back_overview),1)],8,fH),m("div",pH,[m("div",hH,[b(t).state.learningpath?(O(),D("div",gH,[m("h2",null,H(b(t).state.learningpath.name),1),Ue(" "+H(b(t).state.learningpath.description)+" ",1),a.value?(O(),D("div",vH,[pe(Az,{learningpath:a.value,onFinishEdit:S},null,8,["learningpath"])])):_e("",!0)])):_e("",!0)])])])):b(t).state.editingadding==!1&&b(t).state.editingpretest==!1&&b(t).state.editingrestriction==!1&&b(t).state.viewing==!1?(O(),D("div",mH,[pe(w6)])):b(t).state.editingadding==!0?(O(),D("div",_H,[m("button",{to:{name:"learningpaths-edit-overview"},tag:"button",class:"btn btn-outline-primary mb-2",disabled:c.value,onClick:W[0]||(W[0]=B=>x(!1))},[W[3]||(W[3]=m("i",{class:"fa fa-arrow-left"},null,-1)),Ue(" "+H(b(t).state.strings.user_view_go_back_overview),1)],8,yH),c.value?(O(),D("div",bH,[Ue(H(b(t).state.strings.flowchart_cancel_confirmation)+" ",1),m("button",{id:"cancel-learning-path",class:"btn btn-primary m-2",onClick:y},H(b(t).state.strings.flowchart_back_button),1),m("button",{id:"confim-cancel-learning-path",class:"btn btn-warning m-2",onClick:W[1]||(W[1]=B=>x(!0))},H(b(t).state.strings.flowchart_cancel_button),1)])):_e("",!0),m("div",wH,[m("h2",EH,H(b(t).state.strings.learningpath_form_title_edit),1),m("div",null,[b(t).state.learningpath?(O(),D("div",xH,[pe(J1,{goal:b(t).state.learningpath,onChangeGoalName:d,onChangeGoalDescription:p,onChangeLpImage:g},null,8,["goal"]),a.value?(O(),D("div",$H,[pe(Z1,{learningpath:a.value,onFinishEdit:S,onRemoveNodeConditions:f,onAddEdge:R,onRemoveEdge:I,onSaveEdit:V,onMoveNode:q,onChangedModule:L,onChangedLearningpathTree:U,onSaveEditCourse:G},null,8,["learningpath"])])):_e("",!0)])):_e("",!0)])])])):T.$store.state.editingpretest==!0?(O(),D("div",NH,[pe(qP,{learningpath:a.value},null,8,["learningpath"])])):T.$store.state.editingrestriction==!0?(O(),D("div",CH,[pe(gR,{learningpath:a.value},null,8,["learningpath"])])):_e("",!0)]))])}}},[["__scopeId","data-v-b0332cda"]]),kH=[{path:"/learningpaths",redirect:{name:"learningpaths-edit-overview"}},{path:"/",redirect:{name:"learningpaths-edit-overview"}},{path:"/section-:id(\\d+)",redirect:{name:"learningpaths-edit-overview"}},{path:"/learningpaths/edit",component:vc,name:"learningpaths-edit-overview",children:[{path:"/learningpaths/edit/:learningpathId(\\d+)",component:vc,name:"learningpath-edit"},{path:"/learningpaths/edit/new",component:vc,name:"learningpath-new"},{path:"/learningpaths/view/:learningpathId(\\d+)",component:vc,name:"learningpath-view"}]},{path:"/learningpaths/edit/:learningpathId(\\d+)/:userId(\\d+)",component:lb,name:"userDetails"},{path:"/learningpaths/:catchAll(.*)",component:uS}],SH=window.location.pathname,cb=rS({history:gk(),routes:kH,base:SH});cb.beforeEach((e,t,n)=>{const o=We();e.meta&&e.meta.title&&o.state.strings[e.meta.title]&&(document.title=o.state.strings[e.meta.title]),n()});let zo=null,Wp=null;const OH={mounted(e,t){let n=null;const o=()=>{n||(n=document.createElement("div"),n.className="custom-tooltip",n.textContent=t.value,Object.assign(n.style,{backgroundColor:"black",color:"white",padding:"5px",borderRadius:"4px",fontSize:"12px",maxWidth:"150px",whiteSpace:"normal",overflowWrap:"break-word",position:"absolute",zIndex:999,pointerEvents:"none",transition:"visibility 0.2s, opacity 0.2s",opacity:0,visibility:"hidden",textAlign:"center"}),document.body.appendChild(n))},i=u=>{clearTimeout(Wp),Wp=setTimeout(()=>{zo&&zo!==n&&(zo.style.opacity=0,zo.style.visibility="hidden"),o();const{top:c,left:f,width:d,height:p}=e.getBoundingClientRect();requestAnimationFrame(()=>{n.style.top=`${c+p+5}px`,n.style.left=`${f+d/2-n.offsetWidth/2}px`,n.style.opacity=1,n.style.visibility="visible"}),zo=n},200)},s=()=>{clearTimeout(Wp),n&&(n.style.opacity=0,n.style.visibility="hidden"),zo===n&&(zo=null)};e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",s);const a=()=>{zo&&s()};window.addEventListener("scroll",a,!0),e.cleanupTooltip=()=>{n&&(n.remove(),n=null),window.removeEventListener("scroll",a,!0)}},updated(e,t){t.value!==t.oldValue&&zo&&(zo.textContent=t.value)},unmounted(e){e.cleanupTooltip()}};/**
 *
 * @package     local_adele
 * @author      Jacob Viertel
 * @copyright  2023 Wunderbyte GmbH
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */window.__VUE_OPTIONS_API__=!0,window.__VUE_PROD_DEVTOOLS__=!1;function TH(){__webpack_public_path__=M.cfg.wwwroot+"/local/adele/amd/build/",document.getElementsByName("local-adele-app").forEach(t=>{if(!t.__vue_app__){const n=HN({});n.use(QN),n.use(LC);const o=CC();o.dispatch("loadComponentStrings"),n.use(o),n.use(cb);const i=t.getAttribute("view");o.state.view=i;const s=t.getAttribute("learningpath");o.state.learningPathID=s;const a=t.getAttribute("user");o.state.user=a;const u=t.getAttribute("userlist");o.state.userlist=u;const c=t.getAttribute("contextid");o.state.contextid=c;const f=t.getAttribute("quizsetting");o.state.quizsetting=f,o.state.wwwroot=t.getAttribute("wwwroot");const d=t.getAttribute("editablepaths");o.state.editablepaths=JSON.parse(d),o.state.version=IH(t.getAttribute("version")),n.directive("tooltip",OH),n.mount(t)}})}function IH(e){return e>="2023042400"}Uo.init=TH,Object.defineProperty(Uo,Symbol.toStringTag,{value:"Module"})}));
